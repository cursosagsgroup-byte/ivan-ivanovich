module.exports=[180188,(a,b,c)=>{"use strict";b.exports=a.r(916890).vendored["react-ssr"].ReactDOM},92604,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},382971,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(477984);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},729899,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},778420,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return h}});let d=a.r(664755),e=a.r(180188),f=a.r(556704),g=a.r(729899);function h({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}return 0===c.length?null:(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},175031,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(664755),e=a.r(326938),f=a.r(382971),g=a.r(778420);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},81822,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(92604)._(a.r(175031));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},961366,a=>{"use strict";var b=a.i(664755),c=a.i(326938),d=a.i(681102);let e=(0,a.i(740944).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var f=a.i(755664),g=a.i(672123);let h=(0,a.i(81822).default)(async()=>{},{loadableGenerated:{modules:[733343]},ssr:!1});function i(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)("all"),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1);(0,c.useEffect)(()=>{fetch("/api/admin/payments/config").then(()=>t())},[]);let t=async()=>{try{let a=await fetch("/api/courses");if(a.ok){let b=await a.json();i(b),b.length>0&&m(b[0].id)}}catch(a){console.error(a)}},u=async a=>{if(a.preventDefault(),!n||!p)return void d.toast.error("Por favor completa el asunto y el mensaje");s(!0);try{let a=await fetch("/api/admin/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:j,courseId:"course"===j?l:void 0,subject:n,message:p})}),b=await a.json();if(!a.ok)throw Error(b.error||"Error al enviar");d.toast.success(`Enviado correctamente a ${b.sent} usuarios`),o(""),q("")}catch(a){d.toast.error(a.message)}finally{s(!1)}};return(0,b.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Email Marketing"}),(0,b.jsx)("p",{className:"text-slate-500 mb-8",children:"Envía correos masivos a tus alumnos o grupos específicos."}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:(0,b.jsxs)("form",{onSubmit:u,className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Destinatarios"}),(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>k("all"),className:`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border-2 transition-all ${"all"===j?"border-primary bg-primary/5 text-primary":"border-slate-200 hover:border-slate-300 text-slate-600"}`,children:[(0,b.jsx)(f.Users,{className:"h-5 w-5"}),(0,b.jsx)("span",{className:"font-medium",children:"Todos los Alumnos"})]}),(0,b.jsxs)("button",{type:"button",onClick:()=>k("course"),className:`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border-2 transition-all ${"course"===j?"border-primary bg-primary/5 text-primary":"border-slate-200 hover:border-slate-300 text-slate-600"}`,children:[(0,b.jsx)(g.BookOpen,{className:"h-5 w-5"}),(0,b.jsx)("span",{className:"font-medium",children:"Por Curso"})]}),(0,b.jsx)("button",{type:"button",onClick:()=>k("leads"),className:`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg border-2 transition-all ${"leads"===j?"border-primary bg-primary/5 text-primary":"border-slate-200 hover:border-slate-300 text-slate-600"}`,children:(0,b.jsx)("span",{className:"font-medium",children:"Prospectos (Leads)"})})]}),"course"===j&&(0,b.jsx)("div",{className:"animate-in fade-in slide-in-from-top-2",children:(0,b.jsx)("select",{value:l,onChange:a=>m(a.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary focus:ring-primary py-2 px-3 border",children:a.map(a=>(0,b.jsx)("option",{value:a.id,children:a.title},a.id))})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Asunto"}),(0,b.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary focus:ring-primary py-2 px-3 border",placeholder:"Ej: Nuevo curso disponible: Protección Avanzada"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mensaje"}),(0,b.jsx)("div",{className:"bg-white",children:(0,b.jsx)(h,{theme:"snow",value:p,onChange:q,modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},className:"h-64 mb-12"})})]}),(0,b.jsx)("div",{className:"pt-4 border-t border-slate-100 flex justify-end",children:(0,b.jsx)("button",{type:"submit",disabled:r,className:"flex items-center gap-2 px-6 py-2.5 bg-primary text-white font-medium rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm shadow-primary/20",children:r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"h-4 w-4 border-2 border-white/50 border-t-white rounded-full animate-spin"}),"Enviando..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e,{className:"h-4 w-4"}),"Enviar Correos"]})})})]})})]})}a.s(["default",()=>i],961366)}];

//# sourceMappingURL=Documents_KETING%20MEDIA_NUEVOS%20PROYECTOS%20ANTIGRAVITY_IVAN%20CODIGO_93b6e848._.js.map