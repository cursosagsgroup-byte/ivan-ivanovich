module.exports=[354938,a=>{"use strict";let b=(0,a.i(740944).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],354938)},707648,a=>{"use strict";let b=(0,a.i(740944).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],707648)},5741,a=>{"use strict";var b=a.i(664755),c=a.i(326938),d=a.i(681102),e=a.i(354938),f=a.i(740944);let g=(0,f.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var h=a.i(707648);let i=(0,f.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),j=[{id:"mercadopago",name:"MercadoPago",icon:(0,f.default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),fields:[{name:"publicKey",label:"Public Key",type:"text"},{name:"secretKey",label:"Access Token",type:"password"},{name:"webhookSecret",label:"Webhook Secret",type:"password"}]},{id:"stripe",name:"Stripe",icon:h.CreditCard,fields:[{name:"publicKey",label:"Publishable Key",type:"text"},{name:"secretKey",label:"Secret Key",type:"password"},{name:"webhookSecret",label:"Webhook Secret",type:"password"}]},{id:"paypal",name:"PayPal",icon:i,fields:[{name:"clientId",label:"Client ID",type:"text"},{name:"clientSecret",label:"Client Secret",type:"password"}]}];function k(){let[a,f]=(0,c.useState)({}),[h,i]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null);(0,c.useEffect)(()=>{m()},[]);let m=async()=>{try{let a=await fetch("/api/admin/payments/config");if(!a.ok)throw Error("Error al cargar configuraciones");let b=await a.json(),c={};b.forEach(a=>{c[a.gateway]=a}),f(c)}catch(a){console.error(a),d.toast.error("Error al cargar las configuraciones")}finally{i(!1)}},n=async(a,b)=>{l(a);try{let c=await fetch("/api/admin/payments/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gateway:a,...b})});if(!c.ok)throw Error("Error al guardar");let e=await c.json();f(b=>({...b,[a]:e})),d.toast.success(`Configuraci\xf3n de ${a} guardada`)}catch(a){console.error(a),d.toast.error("Error al guardar la configuración")}finally{l(null)}},o=(a,b,c)=>{f(d=>({...d,[a]:{...d[a],gateway:a,[b]:c}}))};return h?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):(0,b.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,b.jsx)("a",{href:"/dashboard",className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500 hover:text-slate-900",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("path",{d:"m15 18-6-6 6-6"})})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Configuración de Pasarelas de Pago"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(c=>{let d=a[c.id]||{gateway:c.id,enabled:!1,testMode:!0},f=c.icon;return(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-white rounded-lg border border-slate-200",children:(0,b.jsx)(f,{className:"h-6 w-6 text-primary"})}),(0,b.jsx)("h3",{className:"font-semibold text-slate-800",children:c.name})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${d.enabled?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:d.enabled?"Activo":"Inactivo"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Habilitar Pasarela"}),(0,b.jsx)("button",{onClick:()=>o(c.id,"enabled",!d.enabled),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ${d.enabled?"bg-primary":"bg-slate-200"}`,children:(0,b.jsx)("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${d.enabled?"translate-x-5":"translate-x-0"}`})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:["Modo de Prueba",(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsx)(g,{className:"h-4 w-4 text-slate-400 cursor-help"}),(0,b.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-slate-800 text-white text-xs rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:"Activa esto para usar las credenciales de sandbox/prueba."})]})]}),(0,b.jsx)("button",{onClick:()=>o(c.id,"testMode",!d.testMode),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 ${d.testMode?"bg-amber-500":"bg-slate-200"}`,children:(0,b.jsx)("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${d.testMode?"translate-x-5":"translate-x-0"}`})})]}),(0,b.jsx)("div",{className:"space-y-4",children:c.fields.map(a=>(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:a.label}),(0,b.jsx)("input",{type:a.type,value:d[a.name]||"",onChange:b=>o(c.id,a.name,b.target.value),placeholder:"password"===a.type?"••••••••":"",className:"block w-full rounded-md border-slate-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm py-2 px-3 border"})]},a.name))})]}),(0,b.jsx)("div",{className:"p-4 bg-slate-50 border-t border-slate-100 flex justify-end",children:(0,b.jsx)("button",{onClick:()=>n(c.id,d),disabled:k===c.id,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white text-sm font-medium rounded-md hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:k===c.id?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"h-4 w-4 border-2 border-white/50 border-t-white rounded-full animate-spin"}),"Guardando..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Save,{className:"h-4 w-4"}),"Guardar Cambios"]})})})]},c.id)})})]})}a.s(["default",()=>k],5741)}];

//# sourceMappingURL=Documents_KETING%20MEDIA_NUEVOS%20PROYECTOS%20ANTIGRAVITY_IVAN%20CODIGO_414e445a._.js.map