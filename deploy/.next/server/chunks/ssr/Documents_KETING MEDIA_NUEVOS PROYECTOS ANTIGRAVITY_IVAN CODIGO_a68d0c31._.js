module.exports=[354938,a=>{"use strict";let b=(0,a.i(740944).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],354938)},434005,a=>{"use strict";let b=(0,a.i(740944).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],434005)},505913,a=>{"use strict";var b=a.i(664755),c=a.i(326938),d=a.i(603864),e=a.i(354938),f=a.i(434005),g=a.i(984280),h=a.i(507862);function i({postId:a}){let i=(0,d.useRouter)(),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!!a),[n,o]=(0,c.useState)({title:"",slug:"",excerpt:"",content:"",image:"",published:!1,language:"es"});(0,c.useEffect)(()=>{a&&"new"!==a&&fetch(`/api/blog/${a}`).then(a=>a.json()).then(a=>{o({title:a.title||"",slug:a.slug||"",excerpt:a.excerpt||"",content:a.content||"",image:a.image||"",published:a.published||!1,language:a.language||"es"}),m(!1)}).catch(a=>{console.error(a),m(!1)})},[a]);let p=b=>{let{name:c,value:d}=b.target;if(o(a=>({...a,[c]:d})),"title"===c&&!a){let a=d.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");o(b=>({...b,slug:a}))}},q=async b=>{b.preventDefault(),k(!0);try{let b=a&&"new"!==a?`/api/blog/${a}`:"/api/blog",c=a&&"new"!==a?"PUT":"POST",d=await fetch(b,{method:c,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!d.ok){let a=await d.json();throw Error(a.error||"Something went wrong")}i.push("/admin/blog"),i.refresh()}catch(a){console.error(a),alert("Failed to save post")}finally{k(!1)}},r=async()=>{if(confirm("Are you sure you want to delete this post?")){k(!0);try{if(!(await fetch(`/api/blog/${a}`,{method:"DELETE"})).ok)throw Error("Failed to delete");i.push("/admin/blog"),i.refresh()}catch(a){console.error(a),alert("Failed to delete post"),k(!1)}}};return l?(0,b.jsx)("div",{children:"Loading..."}):(0,b.jsxs)("form",{onSubmit:q,className:"space-y-8 max-w-4xl mx-auto pb-12",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(h.default,{href:"/admin/blog",className:"rounded-full p-2 hover:bg-slate-100 text-slate-500",children:(0,b.jsx)(f.ArrowLeft,{className:"h-5 w-5"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:a&&"new"!==a?"Edit Post":"Create New Post"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[a&&"new"!==a&&(0,b.jsxs)("button",{type:"button",onClick:r,className:"flex items-center gap-2 rounded-md border border-red-200 bg-white px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50",disabled:j,children:[(0,b.jsx)(g.Trash2,{className:"h-4 w-4"}),"Delete"]}),(0,b.jsxs)("button",{type:"submit",disabled:j,className:"flex items-center gap-2 rounded-md bg-[#B70126] px-6 py-2 text-sm font-medium text-white hover:bg-red-800 transition-colors disabled:opacity-50",children:[(0,b.jsx)(e.Save,{className:"h-4 w-4"}),j?"Saving...":"Save Post"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,b.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700",children:"Title"}),(0,b.jsx)("input",{type:"text",id:"title",name:"title",value:n.title,onChange:p,required:!0,className:"mt-1 block w-full rounded-md border border-slate-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",placeholder:"Enter post title"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-slate-700",children:"Slug"}),(0,b.jsx)("input",{type:"text",id:"slug",name:"slug",value:n.slug,onChange:p,required:!0,className:"mt-1 block w-full rounded-md border border-slate-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",placeholder:"url-friendly-slug"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-slate-700",children:"Content (HTML supported)"}),(0,b.jsxs)("div",{className:"mt-1",children:[(0,b.jsx)("textarea",{id:"content",name:"content",rows:15,value:n.content,onChange:p,required:!0,className:"block w-full rounded-md border border-slate-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm font-mono",placeholder:"<p>Write your content here...</p>"}),(0,b.jsx)("p",{className:"mt-2 text-xs text-slate-500",children:"Banners will be automatically injected after the 2nd paragraph and distributed throughout the content."})]})]})]})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm space-y-4",children:[(0,b.jsx)("h3",{className:"font-medium text-slate-900",children:"Publishing"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"published",name:"published",checked:n.published,onChange:a=>{let{name:b,checked:c}=a.target;o(a=>({...a,[b]:c}))},className:"h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),(0,b.jsx)("label",{htmlFor:"published",className:"text-sm text-slate-700",children:"Published"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"language",className:"block text-sm font-medium text-slate-700 mb-1",children:"Language"}),(0,b.jsxs)("select",{id:"language",name:"language",value:n.language,onChange:p,className:"block w-full rounded-md border border-slate-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",children:[(0,b.jsx)("option",{value:"es",children:"EspaÃ±ol"}),(0,b.jsx)("option",{value:"en",children:"English"})]})]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm space-y-4",children:[(0,b.jsx)("h3",{className:"font-medium text-slate-900",children:"Meta & Media"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"excerpt",className:"block text-sm font-medium text-slate-700",children:"Excerpt"}),(0,b.jsx)("textarea",{id:"excerpt",name:"excerpt",rows:3,value:n.excerpt,onChange:p,className:"mt-1 block w-full rounded-md border border-slate-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",placeholder:"Short summary..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"image",className:"block text-sm font-medium text-slate-700",children:"Featured Image URL"}),(0,b.jsx)("input",{type:"text",id:"image",name:"image",value:n.image,onChange:p,className:"mt-1 block w-full rounded-md border border-slate-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",placeholder:"/images/blog/..."}),n.image&&(0,b.jsx)("div",{className:"mt-2 aspect-video w-full overflow-hidden rounded-lg bg-slate-100",children:(0,b.jsx)("img",{src:n.image,alt:"Preview",className:"h-full w-full object-cover"})})]})]})]})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=Documents_KETING%20MEDIA_NUEVOS%20PROYECTOS%20ANTIGRAVITY_IVAN%20CODIGO_a68d0c31._.js.map