module.exports=[356913,a=>{"use strict";let b=(0,a.i(598198).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/Documents/KETING MEDIA/NUEVOS PROYECTOS ANTIGRAVITY/IVAN CODIGO/components/dashboard/SalesAnalytics.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Documents/KETING MEDIA/NUEVOS PROYECTOS ANTIGRAVITY/IVAN CODIGO/components/dashboard/SalesAnalytics.tsx <module evaluation>","default");a.s(["default",0,b])},571606,a=>{"use strict";let b=(0,a.i(598198).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/Documents/KETING MEDIA/NUEVOS PROYECTOS ANTIGRAVITY/IVAN CODIGO/components/dashboard/SalesAnalytics.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/Documents/KETING MEDIA/NUEVOS PROYECTOS ANTIGRAVITY/IVAN CODIGO/components/dashboard/SalesAnalytics.tsx","default");a.s(["default",0,b])},511557,a=>{"use strict";a.i(356913);var b=a.i(571606);a.n(b)},661716,a=>{"use strict";var b=a.i(47902),c=a.i(163293),d=a.i(938341),e=a.i(432672),f=a.i(34513);let g=(0,f.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),h=(0,f.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var i=a.i(358970);function j({title:a,value:c,icon:d,trend:e,trendUp:f}){return(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-white p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-slate-500",children:a}),(0,b.jsx)("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:c})]}),(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:(0,b.jsx)(d,{className:"h-6 w-6"})})]}),e&&(0,b.jsxs)("div",{className:"mt-4 flex items-center text-sm",children:[(0,b.jsx)("span",{className:f?"text-green-600":"text-red-600",children:e}),(0,b.jsx)("span",{className:"ml-2 text-slate-500",children:"from last month"})]})]})}var k=a.i(751442),l=a.i(311144),m=a.i(328747),n=a.i(245711),o=a.i(35331),p=a.i(63457),q=a.i(181061);function r(a,b){let c=(0,q.toDate)(a)-(0,q.toDate)(b);return c<0?-1:c>0?1:c}var s=a.i(113253);let t={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}};var u=a.i(938401);let v={date:(0,u.buildFormatLongFn)({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,u.buildFormatLongFn)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,u.buildFormatLongFn)({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},w={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},x={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"};var y=a.i(638153);let z={ordinalNumber:(a,b)=>Number(a)+"º",era:(0,y.buildLocalizeFn)({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},defaultWidth:"wide"}),quarter:(0,y.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:a=>Number(a)-1}),month:(0,y.buildLocalizeFn)({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:(0,y.buildLocalizeFn)({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},defaultWidth:"wide"}),dayPeriod:(0,y.buildLocalizeFn)({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})};var A=a.i(724761),B=a.i(362114);let C={code:"es",formatDistance:(a,b,c)=>{let d,e=t[a];if(d="string"==typeof e?e:1===b?e.one:e.other.replace("{{count}}",b.toString()),c?.addSuffix)if(c.comparison&&c.comparison>0)return"en "+d;else return"hace "+d;return d},formatLong:v,formatRelative:(a,b,c,d)=>1!==b.getHours()?x[a]:w[a],localize:z,match:{ordinalNumber:(0,A.buildMatchPatternFn)({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:function(a){return parseInt(a,10)}}),era:(0,B.buildMatchFn)({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},defaultParseWidth:"any"}),quarter:(0,B.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:(0,B.buildMatchFn)({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:(0,B.buildMatchFn)({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,B.buildMatchFn)({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function D({activities:a}){return(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-white shadow-sm",children:[(0,b.jsx)("div",{className:"border-b border-border px-6 py-4",children:(0,b.jsx)("h3",{className:"text-lg font-medium text-slate-900",children:"Actividad Reciente"})}),(0,b.jsx)("div",{className:"divide-y divide-border",children:0===a.length?(0,b.jsx)("div",{className:"p-6 text-center text-sm text-slate-500",children:"No hay actividad reciente."}):a.map(a=>{var c,d;let{icon:f,color:g}=(a=>{switch(a){case"purchase":return{icon:h,color:"bg-green-100 text-green-600"};case"completion":return{icon:e.BookOpen,color:"bg-blue-100 text-blue-600"};default:return{icon:k.User,color:"bg-purple-100 text-purple-600"}}})(a.type);return(0,b.jsxs)("div",{className:"flex items-center px-6 py-4",children:[(0,b.jsx)("div",{className:`flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full ${g}`,children:(0,b.jsx)(f,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"ml-4 flex-1",children:[(0,b.jsxs)("p",{className:"text-sm text-slate-900",children:[(0,b.jsx)("span",{className:"font-medium",children:a.user})," ",a.action," ",(0,b.jsx)("span",{className:"font-medium",children:a.target})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:(c=new Date(a.time),d={addSuffix:!0,locale:C},function(a,b,c){var d;let e,f=(0,n.getDefaultOptions)(),g=c?.locale??f.locale??m.defaultLocale,h=r(a,b);if(isNaN(h))throw RangeError("Invalid time value");let i=Object.assign({},c,{addSuffix:c?.addSuffix,comparison:h}),[j,k]=(0,p.normalizeDates)(c?.in,...h>0?[b,a]:[a,b]),l=(d=void 0,a=>{let b=(d?Math[d]:Math.trunc)(a);return 0===b?0:b})(((0,q.toDate)(k)-(0,q.toDate)(j))/1e3),t=Math.round((l-((0,o.getTimezoneOffsetInMilliseconds)(k)-(0,o.getTimezoneOffsetInMilliseconds)(j))/1e3)/60);if(t<2)if(c?.includeSeconds)if(l<5)return g.formatDistance("lessThanXSeconds",5,i);else if(l<10)return g.formatDistance("lessThanXSeconds",10,i);else if(l<20)return g.formatDistance("lessThanXSeconds",20,i);else if(l<40)return g.formatDistance("halfAMinute",0,i);else if(l<60)return g.formatDistance("lessThanXMinutes",1,i);else return g.formatDistance("xMinutes",1,i);else if(0===t)return g.formatDistance("lessThanXMinutes",1,i);else return g.formatDistance("xMinutes",t,i);if(t<45)return g.formatDistance("xMinutes",t,i);if(t<90)return g.formatDistance("aboutXHours",1,i);if(t<s.minutesInDay){let a=Math.round(t/60);return g.formatDistance("aboutXHours",a,i)}if(t<2520)return g.formatDistance("xDays",1,i);else if(t<s.minutesInMonth){let a=Math.round(t/s.minutesInDay);return g.formatDistance("xDays",a,i)}else if(t<2*s.minutesInMonth)return e=Math.round(t/s.minutesInMonth),g.formatDistance("aboutXMonths",e,i);if((e=function(a,b,c){var d,e;let f,g,h,i,[j,k,l]=(0,p.normalizeDates)(void 0,a,a,b),m=r(k,l),n=Math.abs(function(a,b,c){let[d,e]=(0,p.normalizeDates)(void 0,a,b);return 12*(d.getFullYear()-e.getFullYear())+(d.getMonth()-e.getMonth())}(k,l));if(n<1)return 0;1===k.getMonth()&&k.getDate()>27&&k.setDate(30),k.setMonth(k.getMonth()-m*n);let o=r(k,l)===-m;+(f=(0,q.toDate)(j,void 0),d=void 0,(g=(0,q.toDate)(f,d?.in)).setHours(23,59,59,999),g)==+(e=void 0,i=(h=(0,q.toDate)(f,e?.in)).getMonth(),h.setFullYear(h.getFullYear(),i+1,0),h.setHours(23,59,59,999),h)&&1===n&&1===r(j,l)&&(o=!1);let s=m*(n-o);return 0===s?0:s}(k,j))<12){let a=Math.round(t/s.minutesInMonth);return g.formatDistance("xMonths",a,i)}{let a=e%12,b=Math.trunc(e/12);return a<3?g.formatDistance("aboutXYears",b,i):a<9?g.formatDistance("overXYears",b,i):g.formatDistance("almostXYears",b+1,i)}}(c,(0,l.constructFrom)(c,Date.now()),d))})]})]},a.id)})})]})}var E=a.i(611373),F=a.i(459934),G=a.i(511557);async function H(){let a=await (0,c.getServerSession)(d.authOptions);if(a?.user?.role==="STUDENT"&&a?.user?.email){let c=await F.prisma.user.findUnique({where:{email:a.user.email},include:{enrollments:{include:{course:{include:{modules:{include:{lessons:!0}}}}}},lessonProgress:{where:{completed:!0}},certificates:!0}});if(c){let d=c.enrollments.map(a=>{let b=a.course.modules.reduce((a,b)=>a+b.lessons.length,0),d=a.course.modules.flatMap(a=>a.lessons.map(a=>a.id)),e=c.lessonProgress.filter(a=>d.includes(a.lessonId)).length,f=c.certificates.find(b=>b.courseId===a.course.id);return{id:a.course.id,title:a.course.title,thumbnail:a.course.image||"/placeholder-course.jpg",progress:a.progress,totalLessons:b,completedLessons:e,completedAt:a.completedAt?a.completedAt.toISOString():null,certificateAvailable:100===a.progress||!!f,certificateId:f?.id}}),e={name:c.name||"",email:c.email,phone:c.phone||"",address:c.country||"",birthdate:"",photo:c.image||a.user.image||"/placeholder-user.jpg"};return(0,b.jsx)(E.default,{enrolledCourses:d,profileData:e})}}let f=await F.prisma.course.count(),k=await F.prisma.user.count({where:{role:"STUDENT"}}),l=(await F.prisma.order.aggregate({_sum:{total:!0},where:{status:"completed"}}))._sum.total||0,m=(await F.prisma.enrollment.findMany({take:5,orderBy:{enrolledAt:"desc"},include:{user:!0,course:!0}})).map(a=>({id:a.id,user:a.user.name||a.user.email,action:"se inscribió en",target:a.course.title,time:a.enrolledAt,type:"enrollment"})),n=new Date;n.setDate(n.getDate()-30);let o=(await F.prisma.orderItem.findMany({where:{order:{status:"completed",createdAt:{gte:n}}},include:{course:{select:{title:!0}},order:{select:{createdAt:!0}}},orderBy:{order:{createdAt:"asc"}}})).map(a=>({id:a.id,courseTitle:a.course.title,courseId:a.courseId,amount:a.price,date:a.order.createdAt.toISOString()})),p=await F.prisma.course.findMany({select:{id:!0,title:!0},orderBy:{title:"asc"}});return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Dashboard General"}),(0,b.jsx)(i.default,{href:"/courses/create",className:"rounded-md bg-[#B70126] px-4 py-2 text-sm font-medium text-white hover:bg-red-800 transition-colors",children:"Crear Nuevo Curso"})]}),(0,b.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsx)(j,{title:"Total Cursos",value:f.toString(),icon:e.BookOpen,trend:"",trendUp:!0}),(0,b.jsx)(j,{title:"Total Alumnos",value:k.toString(),icon:g,trend:"",trendUp:!0}),(0,b.jsx)(j,{title:"Ganancias Totales",value:`$${l.toLocaleString("en-US",{minimumFractionDigits:2})}`,icon:h,trend:"",trendUp:!0})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsx)(D,{activities:m}),(0,b.jsx)(G.default,{data:o,courses:p})]})]})}a.s(["default",()=>H],661716)}];

//# sourceMappingURL=Documents_KETING%20MEDIA_NUEVOS%20PROYECTOS%20ANTIGRAVITY_IVAN%20CODIGO_f1f36382._.js.map