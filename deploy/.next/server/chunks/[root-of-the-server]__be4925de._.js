module.exports=[18145,(e,t,r)=>{"use strict";function i(e,t,r,i){var n=0,i=void 0===i?{}:i,s=void 0===i.loop?null:i.loop,o=void 0===i.palette?null:i.palette;if(t<=0||r<=0||t>65535||r>65535)throw Error("Width/Height invalid.");function d(e){var t=e.length;if(t<2||t>256||t&t-1)throw Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return t}e[n++]=71,e[n++]=73,e[n++]=70,e[n++]=56,e[n++]=57,e[n++]=97;var u=0,l=0;if(null!==o){for(var c=d(o);c>>=1;)++u;if(c=1<<u,--u,void 0!==i.background){if((l=i.background)>=c)throw Error("Background index out of range.");if(0===l)throw Error("Background index explicitly passed as 0.")}}if(e[n++]=255&t,e[n++]=t>>8&255,e[n++]=255&r,e[n++]=r>>8&255,e[n++]=128*(null!==o)|u,e[n++]=l,e[n++]=0,null!==o)for(var h=0,p=o.length;h<p;++h){var f=o[h];e[n++]=f>>16&255,e[n++]=f>>8&255,e[n++]=255&f}if(null!==s){if(s<0||s>65535)throw Error("Loop count invalid.");e[n++]=33,e[n++]=255,e[n++]=11,e[n++]=78,e[n++]=69,e[n++]=84,e[n++]=83,e[n++]=67,e[n++]=65,e[n++]=80,e[n++]=69,e[n++]=50,e[n++]=46,e[n++]=48,e[n++]=3,e[n++]=1,e[n++]=255&s,e[n++]=s>>8&255,e[n++]=0}var m=!1;this.addFrame=function(t,r,i,s,u,l){if(!0===m&&(--n,m=!1),l=void 0===l?{}:l,t<0||r<0||t>65535||r>65535)throw Error("x/y invalid.");if(i<=0||s<=0||i>65535||s>65535)throw Error("Width/Height invalid.");if(u.length<i*s)throw Error("Not enough pixels for the frame size.");var c=!0,h=l.palette;if(null==h&&(c=!1,h=o),null==h)throw Error("Must supply either a local or global palette.");for(var p=d(h),f=0;p>>=1;)++f;p=1<<f;var _=void 0===l.delay?0:l.delay,g=void 0===l.disposal?0:l.disposal;if(g<0||g>3)throw Error("Disposal out of range.");var y=!1,v=0;if(void 0!==l.transparent&&null!==l.transparent&&(y=!0,(v=l.transparent)<0||v>=p))throw Error("Transparent color index.");if((0!==g||y||0!==_)&&(e[n++]=33,e[n++]=249,e[n++]=4,e[n++]=g<<2|!0===y,e[n++]=255&_,e[n++]=_>>8&255,e[n++]=v,e[n++]=0),e[n++]=44,e[n++]=255&t,e[n++]=t>>8&255,e[n++]=255&r,e[n++]=r>>8&255,e[n++]=255&i,e[n++]=i>>8&255,e[n++]=255&s,e[n++]=s>>8&255,e[n++]=!0===c?128|f-1:0,!0===c)for(var b=0,x=h.length;b<x;++b){var k=h[b];e[n++]=k>>16&255,e[n++]=k>>8&255,e[n++]=255&k}return n=a(e,n,f<2?2:f,u)},this.end=function(){return!1===m&&(e[n++]=59,m=!0),n},this.getOutputBuffer=function(){return e},this.setOutputBuffer=function(t){e=t},this.getOutputBufferPosition=function(){return n},this.setOutputBufferPosition=function(e){n=e}}function a(e,t,r,i){e[t++]=r;var a=t++,n=1<<r,s=n-1,o=n+1,d=o+1,u=r+1,l=0,c=0;function h(r){for(;l>=r;)e[t++]=255&c,c>>=8,l-=8,t===a+256&&(e[a]=255,a=t++)}function p(e){c|=e<<l,l+=u,h(8)}var f=i[0]&s,m={};p(n);for(var _=1,g=i.length;_<g;++_){var y=i[_]&s,v=f<<8|y,b=m[v];if(void 0===b){for(c|=f<<l,l+=u;l>=8;)e[t++]=255&c,c>>=8,l-=8,t===a+256&&(e[a]=255,a=t++);4096===d?(p(n),d=o+1,u=r+1,m={}):(d>=1<<u&&++u,m[v]=d++),f=y}else f=b}return p(f),p(o),h(1),a+1===t?e[a]=0:(e[a]=t-a-1,e[t++]=0),t}function n(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||(e[t++]+1&253)!=56||97!==e[t++])throw Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,a=e[t++],n=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var d=null,u=null;n&&(d=t,u=o,t+=3*o);var l=!0,c=[],h=0,p=null,f=0,m=null;for(this.width=r,this.height=i;l&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){var _=e[t++];if(!(_>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;case 249:if(4!==e[t++]||0!==e[t+4])throw Error("Invalid graphics extension block.");var g=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],(1&g)==0&&(p=null),f=g>>2&7,t++;break;case 254:for(;;){var _=e[t++];if(!(_>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;default:throw Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,k=e[t++],w=k>>7,T=k>>6&1,Z=1<<(7&k)+1,E=d,A=u,S=!1;if(w){var S=!0;E=t,A=Z,t+=3*Z}var O=t;for(t++;;){var _=e[t++];if(!(_>=0))throw Error("Invalid block size");if(0===_)break;t+=_}c.push({x:y,y:v,width:b,height:x,has_local_palette:S,palette_offset:E,palette_size:A,data_offset:O,data_length:t-O,transparent_index:p,interlaced:!!T,delay:h,disposal:f});break;case 59:l=!1;break;default:throw Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return m},this.frameInfo=function(e){if(e<0||e>=c.length)throw Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,i){var a=this.frameInfo(t),n=a.width*a.height,o=new Uint8Array(n);s(e,a.data_offset,o,n);var d=a.palette_offset,u=a.transparent_index;null===u&&(u=256);var l=a.width,c=r-l,h=l,p=(a.y*r+a.x)*4,f=((a.y+a.height)*r+a.x)*4,m=p,_=4*c;!0===a.interlaced&&(_+=4*r*7);for(var g=8,y=0,v=o.length;y<v;++y){var b=o[y];if(0===h&&(m+=_,h=l,m>=f&&(_=4*c+4*r*(g-1),m=p+(l+c)*(g<<1),g>>=1)),b===u)m+=4;else{var x=e[d+3*b],k=e[d+3*b+1],w=e[d+3*b+2];i[m++]=w,i[m++]=k,i[m++]=x,i[m++]=255}--h}},this.decodeAndBlitFrameRGBA=function(t,i){var a=this.frameInfo(t),n=a.width*a.height,o=new Uint8Array(n);s(e,a.data_offset,o,n);var d=a.palette_offset,u=a.transparent_index;null===u&&(u=256);var l=a.width,c=r-l,h=l,p=(a.y*r+a.x)*4,f=((a.y+a.height)*r+a.x)*4,m=p,_=4*c;!0===a.interlaced&&(_+=4*r*7);for(var g=8,y=0,v=o.length;y<v;++y){var b=o[y];if(0===h&&(m+=_,h=l,m>=f&&(_=4*c+4*r*(g-1),m=p+(l+c)*(g<<1),g>>=1)),b===u)m+=4;else{var x=e[d+3*b],k=e[d+3*b+1],w=e[d+3*b+2];i[m++]=x,i[m++]=k,i[m++]=w,i[m++]=255}--h}}}function s(e,t,r,i){for(var a=e[t++],n=1<<a,s=n+1,o=s+1,d=a+1,u=(1<<d)-1,l=0,c=0,h=0,p=e[t++],f=new Int32Array(4096),m=null;;){for(;l<16&&0!==p;)c|=e[t++]<<l,l+=8,1===p?p=e[t++]:--p;if(l<d)break;var _=c&u;if(c>>=d,l-=d,_===n){o=s+1,u=(1<<(d=a+1))-1,m=null;continue}if(_===s)break;for(var g=_<o?_:m,y=0,v=g;v>n;)v=f[v]>>8,++y;var b=v;if(h+y+ +(g!==_)>i)return void console.log("Warning, gif stream longer than expected.");r[h++]=b;var x=h+=y;for(g!==_&&(r[h++]=b),v=g;y--;)v=f[v],r[--x]=255&v,v>>=8;null!==m&&o<4096&&(f[o++]=m<<8|b,o>=u+1&&d<12&&(++d,u=u<<1|1)),m=_}return h!==i&&console.log("Warning, gif stream shorter than expected."),r}try{r.GifWriter=i,r.GifReader=n}catch(e){}},242239,(e,t,r)=>{"use strict";class i{constructor(...e){if(0===e.length)throw Error("constructor requires parameters");const t=e[0];if(null!==t&&"object"==typeof t)if(t instanceof i){const e=t.bitmap;this.bitmap={width:e.width,height:e.height,data:new Buffer(e.width*e.height*4)},e.data.copy(this.bitmap.data)}else if(t.width&&t.height&&t.data)this.bitmap=t;else throw Error("unrecognized constructor parameters");else if("number"==typeof t&&"number"==typeof e[1]){const r=t,i=e[1],a=e[2];this.bitmap={width:r,height:i},Buffer.isBuffer(a)?this.bitmap.data=a:(this.bitmap.data=new Buffer(r*i*4),"number"==typeof a&&this.fillRGBA(a))}else throw Error("unrecognized constructor parameters")}blit(e,t,r,i,a,n,s){if(i+n>this.bitmap.width)throw Error("copy exceeds width of source bitmap");if(t+n>e.bitmap.width)throw Error("copy exceeds width of target bitmap");if(a+s>this.bitmap.height)throw Error("copy exceeds height of source bitmap");if(r+s>e.bitmap.height)throw new Erro("copy exceeds height of target bitmap");let o=this.bitmap.data,d=e.bitmap.data,u=4*this.bitmap.width,l=4*e.bitmap.width,c=4*n,h=a*u+4*i,p=r*l+4*t;for(;--s>=0;)o.copy(d,p,h,h+c),h+=u,p+=l;return this}fillRGBA(e){let t=this.bitmap.data,r=4*this.bitmap.height,i=0;for(;i<r;)t.writeUInt32BE(e,i),i+=4;for(;i<t.length;)t.copy(t,i,0,r),i+=r;return this}getRGBA(e,t){let r=(t*this.bitmap.width+e)*4;return this.bitmap.data.readUInt32BE(r)}getRGBASet(){let e=new Set,t=this.bitmap.data;for(let r=0;r<t.length;r+=4)e.add(t.readUInt32BE(r,!0));return e}greyscale(){let e=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(t,r,i)=>{let a=Math.round(.299*e[i]+.587*e[i+1]+.114*e[i+2]);e[i]=a,e[i+1]=a,e[i+2]=a}),this}reframe(e,t,r,a,n){let s,o=e<0?0:e,d=t<0?0:t,u=r+o>this.bitmap.width?this.bitmap.width-o:r,l=a+d>this.bitmap.height?this.bitmap.height-d:a,c=e<0?-e:0,h=t<0?-t:0;if(void 0===n){if(o!==e||d!=t||u!==r||l!==a)throw new GifError("fillRGBA required for this reframing");s=new i(r,a)}else s=new i(r,a,n);return this.blit(s,c,h,o,d,u,l),this.bitmap=s.bitmap,this}scale(e){let t;if(1===e)return;if(!Number.isInteger(e)||e<1)throw Error("the scale must be an integer >= 1");let r=this.bitmap.width,i=this.bitmap.height,a=r*e*4,n=this.bitmap.data,s=new Buffer(i*a*e),o=0,d=0;for(let u=0;u<i;++u){t=d;for(let t=0;t<r;++t){let t=n.readUInt32BE(o,!0);for(let r=0;r<e;++r)s.writeUInt32BE(t,d),d+=4;o+=4}for(let r=1;r<e;++r)s.copy(s,d,t,d),d+=a,t+=a}return this.bitmap={width:r*e,height:i*e,data:s},this}scanAllCoords(e){let t=this.bitmap.width,r=this.bitmap.data.length,i=0,a=0;for(let n=0;n<r;n+=4)e(i,a,n),++i===t&&(i=0,++a)}scanAllIndexes(e){let t=this.bitmap.data.length;for(let r=0;r<t;r+=4)e(r)}}t.exports=i},621522,(e,t,r)=>{"use strict";class i{constructor(e,t,r){this.width=r.width,this.height=r.height,this.loops=r.loops,this.usesTransparency=r.usesTransparency,this.colorScope=r.colorScope,this.frames=t,this.buffer=e}}i.GlobalColorsPreferred=0,i.GlobalColorsOnly=1,i.LocalColorsOnly=2;class a extends Error{constructor(e){super(e),e instanceof Error&&(this.stack="Gif"+e.stack)}}r.Gif=i,r.GifError=a},726184,(e,t,r)=>{let i,a,n,s,o;var d=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,h=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=e=>d(e,"__esModule",{value:!0}),f=(e,t)=>{for(var r in t)d(e,r,{get:t[r],enumerable:!0})},m=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of l(t))!c.call(e,a)&&(r||"default"!==a)&&d(e,a,{get:()=>t[a],enumerable:!(i=u(t,a))||i.enumerable});return e},_=(i="undefined"!=typeof WeakMap?new WeakMap:0,(e,t)=>i&&i.get(e)||(t=m(p({}),e,1),i&&i.set(e,t),t)),g=(e,t,r)=>(h(e,"symbol"!=typeof t?t+"":t,r),r),y={};f(y,{applyPalette:()=>tt,applyPaletteSync:()=>te,buildPalette:()=>e7,buildPaletteSync:()=>e6,constants:()=>v,conversion:()=>T,distance:()=>Y,image:()=>eW,palette:()=>ep,quality:()=>e0,utils:()=>eb});var v={};f(v,{bt709:()=>b});var b={};f(b,{Y:()=>x,x:()=>k,y:()=>w});var x=((a=x||{})[a.RED=.2126]="RED",a[a.GREEN=.7152]="GREEN",a[a.BLUE=.0722]="BLUE",a[a.WHITE=1]="WHITE",a),k=((n=k||{})[n.RED=.64]="RED",n[n.GREEN=.3]="GREEN",n[n.BLUE=.15]="BLUE",n[n.WHITE=.3127]="WHITE",n),w=((s=w||{})[s.RED=.33]="RED",s[s.GREEN=.6]="GREEN",s[s.BLUE=.06]="BLUE",s[s.WHITE=.329]="WHITE",s),T={};function Z(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}function E(e,t,r){return e=Z(e/255),{x:.4124*e+.3576*(t=Z(t/255))+.1805*(r=Z(r/255)),y:.2126*e+.7152*t+.0722*r,z:.0193*e+.1192*t+.9505*r}}f(T,{lab2rgb:()=>H,lab2xyz:()=>K,rgb2hsl:()=>j,rgb2lab:()=>z,rgb2xyz:()=>E,xyz2lab:()=>B,xyz2rgb:()=>G});var A={};function S(e){return Math.PI/180*e}function O(e,t,r){let i=e;return i<t&&(i=t),i<r&&(i=r),i}function I(e,t,r){let i=e;return i>t&&(i=t),i>r&&(i=r),i}function C(e,t,r){return e>r&&(e=r),e<t&&(e=t),0|e}function N(e){return(e=Math.round(e))>255?e=255:e<0&&(e=0),e}function M(e){return e>255?e=255:e<0&&(e=0),e}function P(e,t){let r,i=typeof e[0];if("number"===i||"string"===i){let i=Object.create(null);for(let t=0,r=e.length;t<r;t++){let r=e[t];i[r]||0===i[r]||(i[r]=t)}r=e.sort((e,r)=>t(e,r)||i[e]-i[r])}else{let i=e.slice(0);r=e.sort((e,r)=>t(e,r)||i.indexOf(e)-i.indexOf(r))}return r}function j(e,t,r){let i=I(e,t,r),a=O(e,t,r),n=a-i,s=(i+a)/510,o=0;s>0&&s<1&&(o=n/(s<.5?a+i:510-a-i));let d=0;return n>0&&(d=(a===e?(t-r)/n:a===t?2+(r-e)/n:4+(e-t)/n)*60)<0&&(d+=360),{h:d,s:o,l:s}}f(A,{degrees2radians:()=>S,inRange0to255:()=>M,inRange0to255Rounded:()=>N,intInRange:()=>C,max3:()=>O,min3:()=>I,stableSort:()=>P});var R=.95047,D=1,L=1.08883;function F(e){return e>.008856?e**(1/3):7.787*e+16/116}function B(e,t,r){if(e=F(e/R),t=F(t/D),r=F(r/L),116*t-16<0)throw Error("xxx");return{L:Math.max(0,116*t-16),a:500*(e-t),b:200*(t-r)}}function z(e,t,r){let i=E(e,t,r);return B(i.x,i.y,i.z)}var $=.95047,U=1,V=1.08883;function W(e){return e>.206893034?e**3:(e-16/116)/7.787}function K(e,t,r){let i=(e+16)/116,a=t/500+i,n=i-r/200;return{x:$*W(a),y:U*W(i),z:V*W(n)}}function q(e){return e>.0031308?1.055*e**(1/2.4)-.055:12.92*e}function G(e,t,r){let i=q(3.2406*e+-1.5372*t+-.4986*r),a=q(-.9689*e+1.8758*t+.0415*r),n=q(.0557*e+-.204*t+1.057*r);return{r:N(255*i),g:N(255*a),b:N(255*n)}}function H(e,t,r){let i=K(e,t,r);return G(i.x,i.y,i.z)}var Y={};f(Y,{AbstractDistanceCalculator:()=>J,AbstractEuclidean:()=>ea,AbstractManhattan:()=>ed,CIE94GraphicArts:()=>ee,CIE94Textiles:()=>Q,CIEDE2000:()=>er,CMetric:()=>ei,Euclidean:()=>en,EuclideanBT709:()=>es,EuclideanBT709NoAlpha:()=>eo,Manhattan:()=>eu,ManhattanBT709:()=>ec,ManhattanNommyde:()=>el,PNGQuant:()=>eh});var J=class{constructor(){g(this,"_maxDistance"),g(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(e,t,r,i){this._whitePoint={r:e>0?255/e:0,g:t>0?255/t:0,b:r>0?255/r:0,a:i>0?255/i:0},this._maxDistance=this.calculateRaw(e,t,r,i,0,0,0,0)}calculateNormalized(e,t){return this.calculateRaw(e.r,e.g,e.b,e.a,t.r,t.g,t.b,t.a)/this._maxDistance}},X=class extends J{calculateRaw(e,t,r,i,a,n,s,o){let d=z(M(e*this._whitePoint.r),M(t*this._whitePoint.g),M(r*this._whitePoint.b)),u=z(M(a*this._whitePoint.r),M(n*this._whitePoint.g),M(s*this._whitePoint.b)),l=d.L-u.L,c=d.a-u.a,h=d.b-u.b,p=Math.sqrt(d.a*d.a+d.b*d.b),f=p-Math.sqrt(u.a*u.a+u.b*u.b),m=c*c+h*h-f*f;m=m<0?0:Math.sqrt(m);let _=(o-i)*this._whitePoint.a*this._kA;return Math.sqrt((l/this._Kl)**2+(f/(1+this._K1*p))**2+(m/(1+this._K2*p))**2+_**2)}},Q=class extends X{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},ee=class extends X{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},et=class extends J{_setDefaults(){}static _calculatehp(e,t){let r=Math.atan2(e,t);return r>=0?r:r+et._deg360InRad}static _calculateRT(e,t){let r=t**7,i=2*Math.sqrt(r/(r+et._pow25to7));return-Math.sin(2*(et._deg30InRad*Math.exp(-(((e-et._deg275InRad)/et._deg25InRad)**2))))*i}static _calculateT(e){return 1-.17*Math.cos(e-et._deg30InRad)+.24*Math.cos(2*e)+.32*Math.cos(3*e+et._deg6InRad)-.2*Math.cos(4*e-et._deg63InRad)}static _calculate_ahp(e,t,r,i){let a=r+i;return 0===e?a:t<=et._deg180InRad?a/2:a<et._deg360InRad?(a+et._deg360InRad)/2:(a-et._deg360InRad)/2}static _calculate_dHp(e,t,r,i){let a;return a=0===e?0:t<=et._deg180InRad?r-i:r<=i?r-i+et._deg360InRad:r-i-et._deg360InRad,2*Math.sqrt(e)*Math.sin(a/2)}calculateRaw(e,t,r,i,a,n,s,o){let d=z(M(e*this._whitePoint.r),M(t*this._whitePoint.g),M(r*this._whitePoint.b)),u=z(M(a*this._whitePoint.r),M(n*this._whitePoint.g),M(s*this._whitePoint.b)),l=(o-i)*this._whitePoint.a*et._kA;return Math.sqrt(this.calculateRawInLab(d,u)+l*l)}calculateRawInLab(e,t){let r=e.L,i=e.a,a=e.b,n=t.L,s=t.a,o=t.b,d=((Math.sqrt(i*i+a*a)+Math.sqrt(s*s+o*o))/2)**7,u=.5*(1-Math.sqrt(d/(d+et._pow25to7))),l=(1+u)*i,c=(1+u)*s,h=Math.sqrt(l*l+a*a),p=Math.sqrt(c*c+o*o),f=h*p,m=et._calculatehp(a,l),_=et._calculatehp(o,c),g=Math.abs(m-_),y=n-r,v=p-h,b=et._calculate_dHp(f,g,_,m),x=et._calculate_ahp(f,g,m,_),k=et._calculateT(x),w=(h+p)/2,T=((r+n)/2-50)**2,Z=1+.015*T/Math.sqrt(20+T),E=1+.045*w,A=1+.015*k*w,S=et._calculateRT(x,w),O=v/E,I=b/A;return(y/Z)**2+O**2+I**2+S*O*I}},er=et;g(er,"_kA",25/255),g(er,"_pow25to7",0x16bcc41e9),g(er,"_deg360InRad",S(360)),g(er,"_deg180InRad",S(180)),g(er,"_deg30InRad",S(30)),g(er,"_deg6InRad",S(6)),g(er,"_deg63InRad",S(63)),g(er,"_deg275InRad",S(275)),g(er,"_deg25InRad",S(25));var ei=class extends J{calculateRaw(e,t,r,i,a,n,s,o){let d=(e+a)/2*this._whitePoint.r,u=(e-a)*this._whitePoint.r,l=(t-n)*this._whitePoint.g,c=(r-s)*this._whitePoint.b,h=((512+d)*u*u>>8)+4*l*l+((767-d)*c*c>>8),p=(o-i)*this._whitePoint.a;return Math.sqrt(h+p*p)}_setDefaults(){}},ea=class extends J{calculateRaw(e,t,r,i,a,n,s,o){let d=a-e,u=n-t,l=s-r,c=o-i;return Math.sqrt(this._kR*d*d+this._kG*u*u+this._kB*l*l+this._kA*c*c)}},en=class extends ea{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},es=class extends ea{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},eo=class extends ea{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},ed=class extends J{calculateRaw(e,t,r,i,a,n,s,o){let d=a-e,u=n-t,l=s-r,c=o-i;return d<0&&(d=0-d),u<0&&(u=0-u),l<0&&(l=0-l),c<0&&(c=0-c),this._kR*d+this._kG*u+this._kB*l+this._kA*c}},eu=class extends ed{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},el=class extends ed{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ec=class extends ed{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},eh=class extends J{calculateRaw(e,t,r,i,a,n,s,o){let d=(o-i)*this._whitePoint.a;return this._colordifferenceCh(e*this._whitePoint.r,a*this._whitePoint.r,d)+this._colordifferenceCh(t*this._whitePoint.g,n*this._whitePoint.g,d)+this._colordifferenceCh(r*this._whitePoint.b,s*this._whitePoint.b,d)}_colordifferenceCh(e,t,r){let i=e-t,a=i+r;return i*i+a*a}_setDefaults(){}},ep={};f(ep,{AbstractPaletteQuantizer:()=>ef,ColorHistogram:()=>eP,NeuQuant:()=>eS,NeuQuantFloat:()=>eN,RGBQuant:()=>eR,WuColorCube:()=>e$,WuQuant:()=>eV});var ef=class{quantizeSync(){for(let e of this.quantize())if(e.palette)return e.palette;throw Error("unreachable")}},em=class{constructor(){g(this,"r"),g(this,"g"),g(this,"b"),g(this,"a"),g(this,"uint32"),g(this,"rgba"),this.uint32=0xffffffff,this.r=this.g=this.b=this.a=0,this.rgba=[,,,,],this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(e){let t=new em;return t.r=0|e[0],t.g=0|e[1],t.b=0|e[2],t.a=0|e[3],t._loadUINT32(),t._loadQuadruplet(),t}static createByRGBA(e,t,r,i){let a=new em;return a.r=0|e,a.g=0|t,a.b=0|r,a.a=0|i,a._loadUINT32(),a._loadQuadruplet(),a}static createByUint32(e){let t=new em;return t.uint32=e>>>0,t._loadRGBA(),t._loadQuadruplet(),t}from(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this.uint32=e.uint32,this.rgba[0]=e.r,this.rgba[1]=e.g,this.rgba[2]=e.b,this.rgba[3]=e.a}getLuminosity(e){let t=this.r,r=this.g,i=this.b;return e&&(t=Math.min(255,255-this.a+this.a*t/255),r=Math.min(255,255-this.a+this.a*r/255),i=Math.min(255,255-this.a+this.a*i/255)),.2126*t+.7152*r+.0722*i}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},e_=class{constructor(){g(this,"_pointArray"),g(this,"_width"),g(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(e){this._width=e}setHeight(e){this._height=e}getPointArray(){return this._pointArray}clone(){let e=new e_;e._width=this._width,e._height=this._height;for(let t=0,r=this._pointArray.length;t<r;t++)e._pointArray[t]=em.createByUint32(0|this._pointArray[t].uint32);return e}toUint32Array(){let e=this._pointArray.length,t=new Uint32Array(e);for(let r=0;r<e;r++)t[r]=this._pointArray[r].uint32;return t}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(e){let t=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas");return i.width=t,i.height=r,i.getContext("2d").drawImage(e,0,0,t,r,0,0,t,r),e_.fromHTMLCanvasElement(i)}static fromHTMLCanvasElement(e){let t=e.width,r=e.height,i=e.getContext("2d").getImageData(0,0,t,r);return e_.fromImageData(i)}static fromImageData(e){let t=e.width,r=e.height;return e_.fromUint8Array(e.data,t,r)}static fromUint8Array(e,t,r){switch(Object.prototype.toString.call(e)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:e=new Uint8Array(e)}let i=new Uint32Array(e.buffer);return e_.fromUint32Array(i,t,r)}static fromUint32Array(e,t,r){let i=new e_;i._width=t,i._height=r;for(let t=0,r=e.length;t<r;t++)i._pointArray[t]=em.createByUint32(0|e[t]);return i}static fromBuffer(e,t,r){let i=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/Uint32Array.BYTES_PER_ELEMENT);return e_.fromUint32Array(i,t,r)}},eg=10;function ey(e,t){let r=360/t,i=r/2;for(let a=1,n=r-i;a<t;a++,n+=r)if(e>=n&&e<n+r)return a;return 0}var ev=class{constructor(){g(this,"_pointContainer"),g(this,"_pointArray",[]),g(this,"_i32idx",{}),this._pointContainer=new e_,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(e){this._pointArray.push(e),this._pointContainer.setWidth(this._pointArray.length)}has(e){for(let t=this._pointArray.length-1;t>=0;t--)if(e.uint32===this._pointArray[t].uint32)return!0;return!1}getNearestColor(e,t){return this._pointArray[0|this._getNearestIndex(e,t)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(e){return"number"==typeof this._i32idx[e]?this._i32idx[e]:-1}_getNearestIndex(e,t){let r=this._nearestPointFromCache(""+t.uint32);if(r>=0)return r;let i=Number.MAX_VALUE;r=0;for(let a=0,n=this._pointArray.length;a<n;a++){let n=this._pointArray[a],s=e.calculateRaw(t.r,t.g,t.b,t.a,n.r,n.g,n.b,n.a);s<i&&(i=s,r=a)}return this._i32idx[t.uint32]=r,r}sort(){this._i32idx={},this._pointArray.sort((e,t)=>{let r=j(e.r,e.g,e.b),i=j(t.r,t.g,t.b),a=e.r===e.g&&e.g===e.b?0:1+ey(r.h,eg),n=(t.r===t.g&&t.g===t.b?0:1+ey(i.h,eg))-a;if(n)return-n;let s=e.getLuminosity(!0),o=t.getLuminosity(!0);if(o-s!=0)return o-s;let d=(100*i.s|0)-(100*r.s|0);return d?-d:0})}},eb={};f(eb,{HueStatistics:()=>ek,Palette:()=>ev,Point:()=>em,PointContainer:()=>e_,ProgressTracker:()=>eT,arithmetic:()=>A});var ex=class{constructor(){g(this,"num",0),g(this,"cols",[])}},ek=class{constructor(e,t){g(this,"_numGroups"),g(this,"_minCols"),g(this,"_stats"),g(this,"_groupsFull"),this._numGroups=e,this._minCols=t,this._stats=[];for(let t=0;t<=e;t++)this._stats[t]=new ex;this._groupsFull=0}check(e){this._groupsFull===this._numGroups+1&&(this.check=()=>{});let t=255&e,r=e>>>8&255,i=e>>>16&255,a=t===r&&r===i?0:1+ey(j(t,r,i).h,this._numGroups),n=this._stats[a],s=this._minCols;n.num++,!(n.num>s)&&(n.num===s&&this._groupsFull++,n.num<=s&&this._stats[a].cols.push(e))}injectIntoDictionary(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(t=>{e[t]?e[t]++:e[t]=1})}injectIntoArray(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(t=>{-1===e.indexOf(t)&&e.push(t)})}},ew=class{constructor(e,t){g(this,"progress"),g(this,"_step"),g(this,"_range"),g(this,"_last"),g(this,"_progressRange"),this._range=e,this._progressRange=t,this._step=Math.max(1,this._range/(ew.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(e){return e-this._last>=this._step&&(this._last=e,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},eT=ew;g(eT,"steps",100);var eZ=3,eE=class{constructor(e){g(this,"r"),g(this,"g"),g(this,"b"),g(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return em.createByRGBA(this.r>>eZ,this.g>>eZ,this.b>>eZ,this.a>>eZ)}subtract(e,t,r,i){this.r-=0|e,this.g-=0|t,this.b-=0|r,this.a-=0|i}},eA=class extends ef{constructor(e,t=256){super(),g(this,"_pointArray"),g(this,"_networkSize"),g(this,"_network"),g(this,"_sampleFactor"),g(this,"_radPower"),g(this,"_freq"),g(this,"_bias"),g(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<eZ,255<<eZ,255<<eZ,255<<eZ)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new eE((e<<eZ+8)/this._networkSize|0),this._freq[e]=eA._initialBias/this._networkSize|0,this._bias[e]=0}*_learn(){let e,t=this._sampleFactor,r=this._pointArray.length;r<eA._minpicturebytes&&(t=1);let i=30+(t-1)/3|0,a=r/t|0,n=a/eA._nCycles|0,s=eA._initAlpha,o=(this._networkSize>>3)*eA._radiusBias,d=o>>eA._radiusBiasShift;d<=1&&(d=0);for(let e=0;e<d;e++)this._radPower[e]=s*((d*d-e*e)*eA._radBias/(d*d))>>>0;e=r<eA._minpicturebytes?1:r%eA._prime1!=0?eA._prime1:r%eA._prime2!=0?eA._prime2:r%eA._prime3!=0?eA._prime3:eA._prime4;let u=new eT(a,99);for(let t=0,l=0;t<a;){u.shouldNotify(t)&&(yield{progress:u.progress});let a=this._pointArray[l],c=a.b<<eZ,h=a.g<<eZ,p=a.r<<eZ,f=a.a<<eZ,m=this._contest(c,h,p,f);if(this._alterSingle(s,m,c,h,p,f),0!==d&&this._alterNeighbour(d,m,c,h,p,f),(l+=e)>=r&&(l-=r),0===n&&(n=1),++t%n==0){s-=s/i|0,o-=o/eA._radiusDecrease|0,d=o>>eA._radiusBiasShift,d<=1&&(d=0);for(let e=0;e<d;e++)this._radPower[e]=s*((d*d-e*e)*eA._radBias/(d*d))>>>0}}}_buildPalette(){let e=new ev;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,r,i,a,n){let s=t-e;s<-1&&(s=-1);let o=t+e;o>this._networkSize&&(o=this._networkSize);let d=t+1,u=t-1,l=1;for(;d<o||u>s;){let e=this._radPower[l++]/eA._alphaRadBias;if(d<o){let t=this._network[d++];t.subtract(e*(t.r-a),e*(t.g-i),e*(t.b-r),e*(t.a-n))}if(u>s){let t=this._network[u--];t.subtract(e*(t.r-a),e*(t.g-i),e*(t.b-r),e*(t.a-n))}}}_alterSingle(e,t,r,i,a,n){e/=eA._initAlpha;let s=this._network[t];s.subtract(e*(s.r-a),e*(s.g-i),e*(s.b-r),e*(s.a-n))}_contest(e,t,r,i){let a=1020<<eZ,n=0x7fffffff,s=0x7fffffff,o=-1,d=-1;for(let u=0;u<this._networkSize;u++){let l=this._network[u],c=this._distance.calculateNormalized(l,{r,g:t,b:e,a:i})*a|0;c<n&&(n=c,o=u);let h=c-(this._bias[u]>>eA._initialBiasShift-eZ);h<s&&(s=h,d=u);let p=this._freq[u]>>eA._betaShift;this._freq[u]-=p,this._bias[u]+=p<<eA._gammaShift}return this._freq[o]+=eA._beta,this._bias[o]-=eA._betaGamma,d}},eS=eA;g(eS,"_prime1",499),g(eS,"_prime2",491),g(eS,"_prime3",487),g(eS,"_prime4",503),g(eS,"_minpicturebytes",eA._prime4),g(eS,"_nCycles",100),g(eS,"_initialBiasShift",16),g(eS,"_initialBias",1<<eA._initialBiasShift),g(eS,"_gammaShift",10),g(eS,"_betaShift",10),g(eS,"_beta",eA._initialBias>>eA._betaShift),g(eS,"_betaGamma",eA._initialBias<<eA._gammaShift-eA._betaShift),g(eS,"_radiusBiasShift",6),g(eS,"_radiusBias",1<<eA._radiusBiasShift),g(eS,"_radiusDecrease",30),g(eS,"_alphaBiasShift",10),g(eS,"_initAlpha",1<<eA._alphaBiasShift),g(eS,"_radBiasShift",8),g(eS,"_radBias",1<<eA._radBiasShift),g(eS,"_alphaRadBiasShift",eA._alphaBiasShift+eA._radBiasShift),g(eS,"_alphaRadBias",1<<eA._alphaRadBiasShift);var eO=3,eI=class{constructor(e){g(this,"r"),g(this,"g"),g(this,"b"),g(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return em.createByRGBA(this.r>>eO,this.g>>eO,this.b>>eO,this.a>>eO)}subtract(e,t,r,i){this.r-=e,this.g-=t,this.b-=r,this.a-=i}},eC=class extends ef{constructor(e,t=256){super(),g(this,"_pointArray"),g(this,"_networkSize"),g(this,"_network"),g(this,"_sampleFactor"),g(this,"_radPower"),g(this,"_freq"),g(this,"_bias"),g(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<eO,255<<eO,255<<eO,255<<eO)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new eI((e<<eO+8)/this._networkSize),this._freq[e]=eC._initialBias/this._networkSize,this._bias[e]=0}*_learn(){let e,t=this._sampleFactor,r=this._pointArray.length;r<eC._minpicturebytes&&(t=1);let i=30+(t-1)/3,a=r/t,n=a/eC._nCycles|0,s=eC._initAlpha,o=(this._networkSize>>3)*eC._radiusBias,d=o>>eC._radiusBiasShift;d<=1&&(d=0);for(let e=0;e<d;e++)this._radPower[e]=s*((d*d-e*e)*eC._radBias/(d*d));e=r<eC._minpicturebytes?1:r%eC._prime1!=0?eC._prime1:r%eC._prime2!=0?eC._prime2:r%eC._prime3!=0?eC._prime3:eC._prime4;let u=new eT(a,99);for(let t=0,l=0;t<a;){u.shouldNotify(t)&&(yield{progress:u.progress});let a=this._pointArray[l],c=a.b<<eO,h=a.g<<eO,p=a.r<<eO,f=a.a<<eO,m=this._contest(c,h,p,f);if(this._alterSingle(s,m,c,h,p,f),0!==d&&this._alterNeighbour(d,m,c,h,p,f),(l+=e)>=r&&(l-=r),0===n&&(n=1),++t%n==0){s-=s/i,o-=o/eC._radiusDecrease,d=o>>eC._radiusBiasShift,d<=1&&(d=0);for(let e=0;e<d;e++)this._radPower[e]=s*((d*d-e*e)*eC._radBias/(d*d))}}}_buildPalette(){let e=new ev;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,r,i,a,n){let s=t-e;s<-1&&(s=-1);let o=t+e;o>this._networkSize&&(o=this._networkSize);let d=t+1,u=t-1,l=1;for(;d<o||u>s;){let e=this._radPower[l++]/eC._alphaRadBias;if(d<o){let t=this._network[d++];t.subtract(e*(t.r-a),e*(t.g-i),e*(t.b-r),e*(t.a-n))}if(u>s){let t=this._network[u--];t.subtract(e*(t.r-a),e*(t.g-i),e*(t.b-r),e*(t.a-n))}}}_alterSingle(e,t,r,i,a,n){e/=eC._initAlpha;let s=this._network[t];s.subtract(e*(s.r-a),e*(s.g-i),e*(s.b-r),e*(s.a-n))}_contest(e,t,r,i){let a=1020<<eO,n=0x7fffffff,s=0x7fffffff,o=-1,d=-1;for(let u=0;u<this._networkSize;u++){let l=this._network[u],c=this._distance.calculateNormalized(l,{r,g:t,b:e,a:i})*a;c<n&&(n=c,o=u);let h=c-(this._bias[u]>>eC._initialBiasShift-eO);h<s&&(s=h,d=u);let p=this._freq[u]>>eC._betaShift;this._freq[u]-=p,this._bias[u]+=p<<eC._gammaShift}return this._freq[o]+=eC._beta,this._bias[o]-=eC._betaGamma,d}},eN=eC;g(eN,"_prime1",499),g(eN,"_prime2",491),g(eN,"_prime3",487),g(eN,"_prime4",503),g(eN,"_minpicturebytes",eC._prime4),g(eN,"_nCycles",100),g(eN,"_initialBiasShift",16),g(eN,"_initialBias",1<<eC._initialBiasShift),g(eN,"_gammaShift",10),g(eN,"_betaShift",10),g(eN,"_beta",eC._initialBias>>eC._betaShift),g(eN,"_betaGamma",eC._initialBias<<eC._gammaShift-eC._betaShift),g(eN,"_radiusBiasShift",6),g(eN,"_radiusBias",1<<eC._radiusBiasShift),g(eN,"_radiusDecrease",30),g(eN,"_alphaBiasShift",10),g(eN,"_initAlpha",1<<eC._alphaBiasShift),g(eN,"_radBiasShift",8),g(eN,"_radBias",1<<eC._radBiasShift),g(eN,"_alphaRadBiasShift",eC._alphaBiasShift+eC._radBiasShift),g(eN,"_alphaRadBias",1<<eC._alphaRadBiasShift);var eM=class{constructor(e,t){g(this,"_method"),g(this,"_hueStats"),g(this,"_histogram"),g(this,"_initColors"),g(this,"_minHueCols"),this._method=e,this._minHueCols=t<<2,this._initColors=t<<2,this._hueStats=new ek(eM._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(e){switch(this._method){case 1:this._colorStats1D(e);break;case 2:this._colorStats2D(e)}}getImportanceSortedColorsIDXI32(){let e,t=P(Object.keys(this._histogram),(e,t)=>this._histogram[t]-this._histogram[e]);if(0===t.length)return[];switch(this._method){case 1:let r=Math.min(t.length,this._initColors),i=t[r-1],a=this._histogram[i];e=t.slice(0,r);let n=r,s=t.length;for(;n<s&&this._histogram[t[n]]===a;)e.push(t[n++]);this._hueStats.injectIntoArray(e);break;case 2:e=t;break;default:throw Error("Incorrect method")}return e.map(e=>+e)}_colorStats1D(e){let t=this._histogram,r=e.getPointArray(),i=r.length;for(let e=0;e<i;e++){let i=r[e].uint32;this._hueStats.check(i),i in t?t[i]++:t[i]=1}}_colorStats2D(e){let t=e.getWidth(),r=e.getHeight(),i=e.getPointArray(),a=eM._boxSize[0],n=eM._boxSize[1],s=a*n,o=this._makeBoxes(t,r,a,n),d=this._histogram;o.forEach(e=>{let r=Math.round(e.w*e.h/s)*eM._boxPixels;r<2&&(r=2);let a={};this._iterateBox(e,t,e=>{let t=i[e].uint32;this._hueStats.check(t),t in d?d[t]++:t in a?++a[t]>=r&&(d[t]=a[t]):a[t]=1})}),this._hueStats.injectIntoDictionary(d)}_iterateBox(e,t,r){let i=e,a=i.y*t+i.x,n=(i.y+i.h-1)*t+(i.x+i.w-1),s=t-i.w+1,o=0,d=a;do r.call(this,d),d+=++o%i.w==0?s:1;while(d<=n)}_makeBoxes(e,t,r,i){let a=e%r,n=t%i,s=e-a,o=t-n,d=[];for(let u=0;u<t;u+=i)for(let t=0;t<e;t+=r)d.push({x:t,y:u,w:t===s?a:r,h:u===o?n:i});return d}},eP=eM;g(eP,"_boxSize",[64,64]),g(eP,"_boxPixels",2),g(eP,"_hueGroups",10);var ej=class{constructor(e,t,r){g(this,"index"),g(this,"color"),g(this,"distance"),this.index=e,this.color=t,this.distance=r}},eR=class extends ef{constructor(e,t=256,r=2){super(),g(this,"_colors"),g(this,"_initialDistance"),g(this,"_distanceIncrement"),g(this,"_histogram"),g(this,"_distance"),this._distance=e,this._colors=t,this._histogram=new eP(r,t),this._initialDistance=.01,this._distanceIncrement=.005}sample(e){this._histogram.sample(e)}*quantize(){let e=this._histogram.getImportanceSortedColorsIDXI32();if(0===e.length)throw Error("No colors in image");yield*this._buildPalette(e)}*_buildPalette(e){let t=new ev,r=t.getPointContainer().getPointArray(),i=Array(e.length);for(let t=0;t<e.length;t++)r.push(em.createByUint32(e[t])),i[t]=1;let a=r.length,n=[],s=a,o=this._initialDistance,d=new eT(s-this._colors,99);for(;s>this._colors;){n.length=0;for(let e=0;e<a;e++){if(d.shouldNotify(a-s)&&(yield{progress:d.progress}),0===i[e])continue;let t=r[e];for(let d=e+1;d<a;d++){if(0===i[d])continue;let e=r[d],a=this._distance.calculateNormalized(t,e);a<o&&(n.push(new ej(d,e,a)),i[d]=0,s--)}}o+=s>3*this._colors?this._initialDistance:this._distanceIncrement}if(s<this._colors){P(n,(e,t)=>t.distance-e.distance);let e=0;for(;s<this._colors&&e<n.length;)i[n[e].index]=1,s++,e++}let u=r.length;for(let e=u-1;e>=0;e--)0===i[e]&&(e!==u-1&&(r[e]=r[u-1]),--u);r.length=u,t.sort(),yield{palette:t,progress:100}}};function eD(e){let t=[];for(let r=0;r<e;r++)t[r]=0;return t}function eL(e,t,r,i){let a=Array(e);for(let n=0;n<e;n++){a[n]=Array(t);for(let e=0;e<t;e++){a[n][e]=Array(r);for(let t=0;t<r;t++){a[n][e][t]=Array(i);for(let r=0;r<i;r++)a[n][e][t][r]=0}}}return a}function eF(e,t,r){let i=Array(e);for(let a=0;a<e;a++){i[a]=Array(t);for(let e=0;e<t;e++){i[a][e]=Array(r);for(let t=0;t<r;t++)i[a][e][t]=0}}return i}function eB(e,t,r,i,a){for(let n=0;n<t;n++){e[n]=[];for(let t=0;t<r;t++){e[n][t]=[];for(let r=0;r<i;r++)e[n][t][r]=a}}}function ez(e,t,r){for(let i=0;i<t;i++)e[i]=r}var e$=class{constructor(){g(this,"redMinimum"),g(this,"redMaximum"),g(this,"greenMinimum"),g(this,"greenMaximum"),g(this,"blueMinimum"),g(this,"blueMaximum"),g(this,"volume"),g(this,"alphaMinimum"),g(this,"alphaMaximum")}},eU=class extends ef{constructor(e,t=256,r=5){super(),g(this,"_reds"),g(this,"_greens"),g(this,"_blues"),g(this,"_alphas"),g(this,"_sums"),g(this,"_weights"),g(this,"_momentsRed"),g(this,"_momentsGreen"),g(this,"_momentsBlue"),g(this,"_momentsAlpha"),g(this,"_moments"),g(this,"_table"),g(this,"_pixels"),g(this,"_cubes"),g(this,"_colors"),g(this,"_significantBitsPerChannel"),g(this,"_maxSideIndex"),g(this,"_alphaMaxSideIndex"),g(this,"_sideSize"),g(this,"_alphaSideSize"),g(this,"_distance"),this._distance=e,this._setQuality(r),this._initialize(t)}sample(e){let t=e.getPointArray();for(let e=0,r=t.length;e<r;e++)this._addColor(t[e]);this._pixels=this._pixels.concat(t)}*quantize(){yield*this._preparePalette();let e=new ev;for(let t=0;t<this._colors;t++)if(this._sums[t]>0){let r=this._sums[t],i=this._reds[t]/r,a=this._greens[t]/r,n=this._blues[t]/r,s=this._alphas[t]/r,o=em.createByRGBA(0|i,0|a,0|n,0|s);e.add(o)}e.sort(),yield{palette:e,progress:100}}*_preparePalette(){yield*this._calculateMoments();let e=0,t=eD(this._colors);for(let r=1;r<this._colors;++r){this._cut(this._cubes[e],this._cubes[r])?(t[e]=this._cubes[e].volume>1?this._calculateVariance(this._cubes[e]):0,t[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0):(t[e]=0,r--),e=0;let i=t[0];for(let a=1;a<=r;++a)t[a]>i&&(i=t[a],e=a);if(i<=0){this._colors=r+1;break}}let r=[],i=[],a=[],n=[];for(let e=0;e<this._colors;++e){let t=eU._volume(this._cubes[e],this._weights);t>0?(r[e]=eU._volume(this._cubes[e],this._momentsRed)/t|0,i[e]=eU._volume(this._cubes[e],this._momentsGreen)/t|0,a[e]=eU._volume(this._cubes[e],this._momentsBlue)/t|0,n[e]=eU._volume(this._cubes[e],this._momentsAlpha)/t|0):(r[e]=0,i[e]=0,a[e]=0,n[e]=0)}this._reds=eD(this._colors+1),this._greens=eD(this._colors+1),this._blues=eD(this._colors+1),this._alphas=eD(this._colors+1),this._sums=eD(this._colors+1);for(let e=0,t=this._pixels.length;e<t;e++){let t=this._pixels[e],s=-1,o=Number.MAX_VALUE;for(let e=0;e<this._colors;e++){let d=r[e],u=i[e],l=a[e],c=n[e],h=this._distance.calculateRaw(d,u,l,c,t.r,t.g,t.b,t.a);h<o&&(o=h,s=e)}this._reds[s]+=t.r,this._greens[s]+=t.g,this._blues[s]+=t.b,this._alphas[s]+=t.a,this._sums[s]++}}_addColor(e){let t=8-this._significantBitsPerChannel,r=(e.r>>t)+1,i=(e.g>>t)+1,a=(e.b>>t)+1,n=(e.a>>t)+1;this._weights[n][r][i][a]++,this._momentsRed[n][r][i][a]+=e.r,this._momentsGreen[n][r][i][a]+=e.g,this._momentsBlue[n][r][i][a]+=e.b,this._momentsAlpha[n][r][i][a]+=e.a,this._moments[n][r][i][a]+=this._table[e.r]+this._table[e.g]+this._table[e.b]+this._table[e.a]}*_calculateMoments(){let e=[],t=[],r=[],i=[],a=[],n=[],s=eF(this._sideSize,this._sideSize,this._sideSize),o=eF(this._sideSize,this._sideSize,this._sideSize),d=eF(this._sideSize,this._sideSize,this._sideSize),u=eF(this._sideSize,this._sideSize,this._sideSize),l=eF(this._sideSize,this._sideSize,this._sideSize),c=eF(this._sideSize,this._sideSize,this._sideSize),h=0,p=new eT(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let f=1;f<=this._alphaMaxSideIndex;++f){eB(s,this._sideSize,this._sideSize,this._sideSize,0),eB(o,this._sideSize,this._sideSize,this._sideSize,0),eB(d,this._sideSize,this._sideSize,this._sideSize,0),eB(u,this._sideSize,this._sideSize,this._sideSize,0),eB(l,this._sideSize,this._sideSize,this._sideSize,0),eB(c,this._sideSize,this._sideSize,this._sideSize,0);for(let m=1;m<=this._maxSideIndex;++m,++h){p.shouldNotify(h)&&(yield{progress:p.progress}),ez(e,this._sideSize,0),ez(t,this._sideSize,0),ez(r,this._sideSize,0),ez(i,this._sideSize,0),ez(a,this._sideSize,0),ez(n,this._sideSize,0);for(let h=1;h<=this._maxSideIndex;++h){let p=0,_=0,g=0,y=0,v=0,b=0;for(let x=1;x<=this._maxSideIndex;++x)p+=this._weights[f][m][h][x],_+=this._momentsRed[f][m][h][x],g+=this._momentsGreen[f][m][h][x],y+=this._momentsBlue[f][m][h][x],v+=this._momentsAlpha[f][m][h][x],b+=this._moments[f][m][h][x],e[x]+=p,t[x]+=_,r[x]+=g,i[x]+=y,a[x]+=v,n[x]+=b,s[m][h][x]=s[m-1][h][x]+e[x],o[m][h][x]=o[m-1][h][x]+t[x],d[m][h][x]=d[m-1][h][x]+r[x],u[m][h][x]=u[m-1][h][x]+i[x],l[m][h][x]=l[m-1][h][x]+a[x],c[m][h][x]=c[m-1][h][x]+n[x],this._weights[f][m][h][x]=this._weights[f-1][m][h][x]+s[m][h][x],this._momentsRed[f][m][h][x]=this._momentsRed[f-1][m][h][x]+o[m][h][x],this._momentsGreen[f][m][h][x]=this._momentsGreen[f-1][m][h][x]+d[m][h][x],this._momentsBlue[f][m][h][x]=this._momentsBlue[f-1][m][h][x]+u[m][h][x],this._momentsAlpha[f][m][h][x]=this._momentsAlpha[f-1][m][h][x]+l[m][h][x],this._moments[f][m][h][x]=this._moments[f-1][m][h][x]+c[m][h][x]}}}}static _volumeFloat(e,t){return t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMaximum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum])}static _volume(e,t){return 0|eU._volumeFloat(e,t)}static _top(e,t,r,i){let a;switch(t){case eU._alpha:a=i[r][e.redMaximum][e.greenMaximum][e.blueMaximum]-i[r][e.redMaximum][e.greenMinimum][e.blueMaximum]-i[r][e.redMinimum][e.greenMaximum][e.blueMaximum]+i[r][e.redMinimum][e.greenMinimum][e.blueMaximum]-(i[r][e.redMaximum][e.greenMaximum][e.blueMinimum]-i[r][e.redMaximum][e.greenMinimum][e.blueMinimum]-i[r][e.redMinimum][e.greenMaximum][e.blueMinimum]+i[r][e.redMinimum][e.greenMinimum][e.blueMinimum]);break;case eU._red:a=i[e.alphaMaximum][r][e.greenMaximum][e.blueMaximum]-i[e.alphaMaximum][r][e.greenMinimum][e.blueMaximum]-i[e.alphaMinimum][r][e.greenMaximum][e.blueMaximum]+i[e.alphaMinimum][r][e.greenMinimum][e.blueMaximum]-(i[e.alphaMaximum][r][e.greenMaximum][e.blueMinimum]-i[e.alphaMaximum][r][e.greenMinimum][e.blueMinimum]-i[e.alphaMinimum][r][e.greenMaximum][e.blueMinimum]+i[e.alphaMinimum][r][e.greenMinimum][e.blueMinimum]);break;case eU._green:a=i[e.alphaMaximum][e.redMaximum][r][e.blueMaximum]-i[e.alphaMaximum][e.redMinimum][r][e.blueMaximum]-i[e.alphaMinimum][e.redMaximum][r][e.blueMaximum]+i[e.alphaMinimum][e.redMinimum][r][e.blueMaximum]-(i[e.alphaMaximum][e.redMaximum][r][e.blueMinimum]-i[e.alphaMaximum][e.redMinimum][r][e.blueMinimum]-i[e.alphaMinimum][e.redMaximum][r][e.blueMinimum]+i[e.alphaMinimum][e.redMinimum][r][e.blueMinimum]);break;case eU._blue:a=i[e.alphaMaximum][e.redMaximum][e.greenMaximum][r]-i[e.alphaMaximum][e.redMaximum][e.greenMinimum][r]-i[e.alphaMaximum][e.redMinimum][e.greenMaximum][r]+i[e.alphaMaximum][e.redMinimum][e.greenMinimum][r]-(i[e.alphaMinimum][e.redMaximum][e.greenMaximum][r]-i[e.alphaMinimum][e.redMaximum][e.greenMinimum][r]-i[e.alphaMinimum][e.redMinimum][e.greenMaximum][r]+i[e.alphaMinimum][e.redMinimum][e.greenMinimum][r]);break;default:throw Error("impossible")}return 0|a}static _bottom(e,t,r){switch(t){case eU._alpha:return-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case eU._red:return-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case eU._green:return-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case eU._blue:return-r[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);default:return 0}}_calculateVariance(e){let t=eU._volume(e,this._momentsRed),r=eU._volume(e,this._momentsGreen),i=eU._volume(e,this._momentsBlue),a=eU._volume(e,this._momentsAlpha);return eU._volumeFloat(e,this._moments)-(t*t+r*r+i*i+a*a)/eU._volume(e,this._weights)}_maximize(e,t,r,i,a,n,s,o,d){let u=0|eU._bottom(e,t,this._momentsRed),l=0|eU._bottom(e,t,this._momentsGreen),c=0|eU._bottom(e,t,this._momentsBlue),h=0|eU._bottom(e,t,this._momentsAlpha),p=0|eU._bottom(e,t,this._weights),f=0,m=-1;for(let _=r;_<i;++_){let r=u+eU._top(e,t,_,this._momentsRed),i=l+eU._top(e,t,_,this._momentsGreen),g=c+eU._top(e,t,_,this._momentsBlue),y=h+eU._top(e,t,_,this._momentsAlpha),v=p+eU._top(e,t,_,this._weights);if(0!==v){let e=r*r+i*i+g*g+y*y,t=e/v;r=a-r,i=n-i,g=s-g,y=o-y,0!=(v=d-v)&&(t+=(e=r*r+i*i+g*g+y*y)/v)>f&&(f=t,m=_)}}return{max:f,position:m}}_cut(e,t){let r,i=eU._volume(e,this._momentsRed),a=eU._volume(e,this._momentsGreen),n=eU._volume(e,this._momentsBlue),s=eU._volume(e,this._momentsAlpha),o=eU._volume(e,this._weights),d=this._maximize(e,eU._red,e.redMinimum+1,e.redMaximum,i,a,n,s,o),u=this._maximize(e,eU._green,e.greenMinimum+1,e.greenMaximum,i,a,n,s,o),l=this._maximize(e,eU._blue,e.blueMinimum+1,e.blueMaximum,i,a,n,s,o),c=this._maximize(e,eU._alpha,e.alphaMinimum+1,e.alphaMaximum,i,a,n,s,o);if(c.max>=d.max&&c.max>=u.max&&c.max>=l.max){if(r=eU._alpha,c.position<0)return!1}else r=d.max>=c.max&&d.max>=u.max&&d.max>=l.max?eU._red:u.max>=c.max&&u.max>=d.max&&u.max>=l.max?eU._green:eU._blue;switch(t.redMaximum=e.redMaximum,t.greenMaximum=e.greenMaximum,t.blueMaximum=e.blueMaximum,t.alphaMaximum=e.alphaMaximum,r){case eU._red:t.redMinimum=e.redMaximum=d.position,t.greenMinimum=e.greenMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case eU._green:t.greenMinimum=e.greenMaximum=u.position,t.redMinimum=e.redMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case eU._blue:t.blueMinimum=e.blueMaximum=l.position,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum,t.alphaMinimum=e.alphaMinimum;break;case eU._alpha:t.alphaMinimum=e.alphaMaximum=c.position,t.blueMinimum=e.blueMinimum,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum}return e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),!0}_initialize(e){this._colors=e,this._cubes=[];for(let t=0;t<e;t++)this._cubes[t]=new e$;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=eL(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=eL(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=eL(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=eL(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=eL(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=eL(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let e=0;e<256;++e)this._table[e]=e*e;this._pixels=[]}_setQuality(e=5){this._significantBitsPerChannel=e,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},eV=eU;g(eV,"_alpha",3),g(eV,"_red",2),g(eV,"_green",1),g(eV,"_blue",0);var eW={};f(eW,{AbstractImageQuantizer:()=>eK,ErrorDiffusionArray:()=>eH,ErrorDiffusionArrayKernel:()=>eG,ErrorDiffusionRiemersma:()=>eQ,NearestColor:()=>eq});var eK=class{quantizeSync(e,t){for(let r of this.quantize(e,t))if(r.pointContainer)return r.pointContainer;throw Error("unreachable")}},eq=class extends eK{constructor(e){super(),g(this,"_distance"),this._distance=e}*quantize(e,t){let r=e.getPointArray(),i=e.getWidth(),a=e.getHeight(),n=new eT(a,99);for(let e=0;e<a;e++){n.shouldNotify(e)&&(yield{progress:n.progress});for(let a=0,n=e*i;a<i;a++,n++){let e=r[n];e.from(t.getNearestColor(this._distance,e))}}yield{pointContainer:e,progress:100}}},eG=((o=eG||{})[o.FloydSteinberg=0]="FloydSteinberg",o[o.FalseFloydSteinberg=1]="FalseFloydSteinberg",o[o.Stucki=2]="Stucki",o[o.Atkinson=3]="Atkinson",o[o.Jarvis=4]="Jarvis",o[o.Burkes=5]="Burkes",o[o.Sierra=6]="Sierra",o[o.TwoSierra=7]="TwoSierra",o[o.SierraLite=8]="SierraLite",o),eH=class extends eK{constructor(e,t,r=!0,i=0,a=!1){super(),g(this,"_minColorDistance"),g(this,"_serpentine"),g(this,"_kernel"),g(this,"_calculateErrorLikeGIMP"),g(this,"_distance"),this._setKernel(t),this._distance=e,this._minColorDistance=i,this._serpentine=r,this._calculateErrorLikeGIMP=a}*quantize(e,t){let r=e.getPointArray(),i=new em,a=e.getWidth(),n=e.getHeight(),s=[],o=1,d=1;for(let e of this._kernel){let t=e[2]+1;d<t&&(d=t)}for(let e=0;e<d;e++)this._fillErrorLine(s[e]=[],a);let u=new eT(n,99);for(let e=0;e<n;e++){u.shouldNotify(e)&&(yield{progress:u.progress}),this._serpentine&&(o*=-1);let d=e*a,l=1===o?0:a-1,c=1===o?a:-1;this._fillErrorLine(s[0],a),s.push(s.shift());let h=s[0];for(let u=l,p=d+l;u!==c;u+=o,p+=o){let d,l,c,f,m=r[p],_=h[u];i.from(m);let g=em.createByRGBA(N(m.r+_[0]),N(m.g+_[1]),N(m.b+_[2]),N(m.a+_[3])),y=t.getNearestColor(this._distance,g);if(m.from(y),this._minColorDistance&&this._distance.calculateNormalized(i,y)<this._minColorDistance)continue;this._calculateErrorLikeGIMP?(d=g.r-y.r,l=g.g-y.g,c=g.b-y.b,f=g.a-y.a):(d=i.r-y.r,l=i.g-y.g,c=i.b-y.b,f=i.a-y.a);let v=1===o?0:this._kernel.length-1,b=1===o?this._kernel.length:-1;for(let t=v;t!==b;t+=o){let r=this._kernel[t][1]*o,i=this._kernel[t][2];if(r+u>=0&&r+u<a&&i+e>=0&&i+e<n){let e=this._kernel[t][0],a=s[i][r+u];a[0]+=d*e,a[1]+=l*e,a[2]+=c*e,a[3]+=f*e}}}}yield{pointContainer:e,progress:100}}_fillErrorLine(e,t){e.length>t&&(e.length=t);let r=e.length;for(let t=0;t<r;t++){let r=e[t];r[0]=r[1]=r[2]=r[3]=0}for(let i=r;i<t;i++)e[i]=[0,0,0,0]}_setKernel(e){switch(e){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw Error(`ErrorDiffusionArray: unknown kernel = ${e}`)}}};function*eY(e,t,r){let i=Math.floor(Math.log(Math.max(e,t))/Math.log(2)+1),a=new eT(e*t,99),n={width:e,height:t,level:i,callback:r,tracker:a,index:0,x:0,y:0};yield*eJ(n,1),eX(n,0)}function*eJ(e,t){if(!(e.level<1)){switch(e.tracker.shouldNotify(e.index)&&(yield{progress:e.tracker.progress}),e.level--,t){case 2:yield*eJ(e,1),eX(e,3),yield*eJ(e,2),eX(e,4),yield*eJ(e,2),eX(e,2),yield*eJ(e,4);break;case 3:yield*eJ(e,4),eX(e,2),yield*eJ(e,3),eX(e,1),yield*eJ(e,3),eX(e,3),yield*eJ(e,1);break;case 1:yield*eJ(e,2),eX(e,4),yield*eJ(e,1),eX(e,3),yield*eJ(e,1),eX(e,1),yield*eJ(e,3);break;case 4:yield*eJ(e,3),eX(e,1),yield*eJ(e,4),eX(e,2),yield*eJ(e,4),eX(e,4),yield*eJ(e,2)}e.level++}}function eX(e,t){switch(e.x>=0&&e.x<e.width&&e.y>=0&&e.y<e.height&&(e.callback(e.x,e.y),e.index++),t){case 2:e.x--;break;case 3:e.x++;break;case 1:e.y--;break;case 4:e.y++}}var eQ=class extends eK{constructor(e,t=16,r=1){super(),g(this,"_distance"),g(this,"_weights"),g(this,"_errorQueueSize"),this._distance=e,this._errorQueueSize=t,this._weights=eQ._createWeights(r,t)}*quantize(e,t){let r=e.getPointArray(),i=e.getWidth(),a=e.getHeight(),n=[],s=0;for(let e=0;e<this._errorQueueSize;e++)n[e]={r:0,g:0,b:0,a:0};yield*eY(i,a,(e,a)=>{let o=r[e+a*i],{r:d,g:u,b:l,a:c}=o;for(let e=0;e<this._errorQueueSize;e++){let t=this._weights[e],r=n[(e+s)%this._errorQueueSize];d+=r.r*t,u+=r.g*t,l+=r.b*t,c+=r.a*t}let h=em.createByRGBA(N(d),N(u),N(l),N(c)),p=t.getNearestColor(this._distance,h),f=((s=(s+1)%this._errorQueueSize)+this._errorQueueSize-1)%this._errorQueueSize;n[f].r=o.r-p.r,n[f].g=o.g-p.g,n[f].b=o.b-p.b,n[f].a=o.a-p.a,o.from(p)}),yield{pointContainer:e,progress:100}}static _createWeights(e,t){let r=[],i=Math.exp(Math.log(t)/(t-1));for(let a=0,n=1;a<t;a++)r[a]=(n+.5|0)/t*e,n*=i;return r}},e0={};f(e0,{ssim:()=>e4});var e1=.01,e2=.03;function e4(e,t){if(e.getHeight()!==t.getHeight()||e.getWidth()!==t.getWidth())throw Error("Images have different sizes!");let r=(255*e1)**2,i=(255*e2)**2,a=0,n=0;return e5(e,t,(e,t,s,o)=>{let d=0,u=0,l=0;for(let r=0;r<e.length;r++)u+=(e[r]-s)**2,l+=(t[r]-o)**2,d+=(e[r]-s)*(t[r]-o);let c=e.length-1;u/=c,l/=c;let h=(2*s*o+r)*(2*(d/=c)+i);n+=h/((s**2+o**2+r)*(u+l+i)),a++}),n/a}function e5(e,t,r){let i=8,a=e.getWidth(),n=e.getHeight();for(let s=0;s<n;s+=i)for(let o=0;o<a;o+=i){let d=Math.min(i,a-o),u=Math.min(i,n-s),l=e9(e,o,s,d,u),c=e9(t,o,s,d,u),h=e3(l),p=e3(c);r(l,c,h,p)}}function e9(e,t,r,i,a){let n=e.getPointArray(),s=[],o=0;for(let d=r;d<r+a;d++){let r=d*e.getWidth();for(let e=t;e<t+i;e++){let t=n[r+e];s[o]=.2126*t.r+.7152*t.g+.0722*t.b,o++}}return s}function e3(e){let t=0;for(let r of e)t+=r;return t/e.length}var e8="function"==typeof setImmediate?setImmediate:"undefined"!=typeof process&&"function"==typeof(null==process?void 0:process.nextTick)?e=>process.nextTick(e):e=>setTimeout(e,0);function e6(e,{colorDistanceFormula:t,paletteQuantization:r,colors:i}={}){let a=ta(tr(t),r,i);return e.forEach(e=>a.sample(e)),a.quantizeSync()}async function e7(e,{colorDistanceFormula:t,paletteQuantization:r,colors:i,onProgress:a}={}){return new Promise((n,s)=>{let o,d=ta(tr(t),r,i);e.forEach(e=>d.sample(e));let u=d.quantize(),l=()=>{try{let e=u.next();e.done?n(o):(e.value.palette&&(o=e.value.palette),a&&a(e.value.progress),e8(l))}catch(e){s(e)}};e8(l)})}function te(e,t,{colorDistanceFormula:r,imageQuantization:i}={}){return ti(tr(r),i).quantizeSync(e,t)}async function tt(e,t,{colorDistanceFormula:r,imageQuantization:i,onProgress:a}={}){return new Promise((n,s)=>{let o,d=ti(tr(r),i).quantize(e,t),u=()=>{try{let e=d.next();e.done?n(o):(e.value.pointContainer&&(o=e.value.pointContainer),a&&a(e.value.progress),e8(u))}catch(e){s(e)}};e8(u)})}function tr(e="euclidean-bt709"){switch(e){case"cie94-graphic-arts":return new ee;case"cie94-textiles":return new Q;case"ciede2000":return new er;case"color-metric":return new ei;case"euclidean":return new en;case"euclidean-bt709":return new es;case"euclidean-bt709-noalpha":return new eo;case"manhattan":return new eu;case"manhattan-bt709":return new ec;case"manhattan-nommyde":return new el;case"pngquant":return new eh;default:throw Error(`Unknown colorDistanceFormula ${e}`)}}function ti(e,t="floyd-steinberg"){switch(t){case"nearest":return new eq(e);case"riemersma":return new eQ(e);case"floyd-steinberg":return new eH(e,0);case"false-floyd-steinberg":return new eH(e,1);case"stucki":return new eH(e,2);case"atkinson":return new eH(e,3);case"jarvis":return new eH(e,4);case"burkes":return new eH(e,5);case"sierra":return new eH(e,6);case"two-sierra":return new eH(e,7);case"sierra-lite":return new eH(e,8);default:throw Error(`Unknown imageQuantization ${t}`)}}function ta(e,t="wuquant",r=256){switch(t){case"neuquant":return new eS(e,r);case"rgbquant":return new eR(e,r);case"wuquant":return new eV(e,r);case"neuquant-float":return new eN(e,r);default:throw Error(`Unknown paletteQuantization ${t}`)}}t.exports=_(y)},661159,(e,t,r)=>{"use strict";let i=e.r(242239),{GifError:a}=e.r(621522);class n extends i{constructor(...e){if(super(...e),e[0]instanceof n){const t=e[0];this.xOffset=t.xOffset,this.yOffset=t.yOffset,this.disposalMethod=t.disposalMethod,this.delayCentisecs=t.delayCentisecs,this.interlaced=t.interlaced}else{const t=e[e.length-1];let r={};"object"!=typeof t||t instanceof i||(r=t),this.xOffset=r.xOffset||0,this.yOffset=r.yOffset||0,this.disposalMethod=void 0!==r.disposalMethod?r.disposalMethod:n.DisposeToBackgroundColor,this.delayCentisecs=r.delayCentisecs||8,this.interlaced=r.interlaced||!1}}getPalette(){let e=new Set,t=this.bitmap.data,r=0,i=!1;for(;r<t.length;){if(0===t[r+3])i=!0;else{let i=t.readUInt32BE(r,!0)>>8&0xffffff;e.add(i)}r+=4}let a=Array(e.size),n=e.values();for(r=0;r<a.length;++r)a[r]=n.next().value;a.sort((e,t)=>e-t);let s=a.length;return i&&++s,{colors:a,usesTransparency:i,indexCount:s}}}n.DisposeToAnything=0,n.DisposeNothing=1,n.DisposeToBackgroundColor=2,n.DisposeToPrevious=3,r.GifFrame=n},647369,(e,t,r)=>{"use strict";let i=e.r(522734),a=e.r(726184),n=e.r(242239),{GifFrame:s}=e.r(661159),{GifError:o}=e.r(621522),{GifCodec:d}=e.r(40397),u=[".jpg",".jpeg",".png",".bmp"],l=new d;function c(e,t,r,i,n){let s,o=Array.isArray(e)?e:[e],d=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(n){if(0>d.indexOf(n.ditherAlgorithm))throw Error(`Invalid ditherAlgorithm '${n.ditherAlgorithm}'`);void 0===n.serpentine&&(n.serpentine=!0),void 0===n.minimumColorDistanceToDither&&(n.minimumColorDistanceToDither=0),void 0===n.calculateErrorLikeGIMP&&(n.calculateErrorLikeGIMP=!1)}let u=new a.distance.Euclidean,l=new a.palette[t](u,r,i);s=n?new a.image.ErrorDiffusionArray(u,a.image.ErrorDiffusionArrayKernel[n.ditherAlgorithm],n.serpentine,n.minimumColorDistanceToDither,n.calculateErrorLikeGIMP):new a.image.NearestColor(u);let c=[];o.forEach(e=>{let t=e.bitmap.data,r=new Uint32Array(new ArrayBuffer(t.length));for(let e=0,i=0;e<t.length;e+=4,++i)r[i]=t.readUInt32LE(e,!0);let i=a.utils.PointContainer.fromUint32Array(r,e.bitmap.width,e.bitmap.height);l.sample(i),c.push(i)});let h=l.quantizeSync();for(let e=0;e<o.length;++e){let t=o[e].bitmap.data,r=s.quantizeSync(c[e],h).toUint32Array();for(let e=0,i=0;e<t.length;e+=4,++i)t.writeUInt32LE(r[i],e)}}function h(e){return new Promise((t,r)=>{i.readFile(e,(e,i)=>e?r(e):t(i))})}function p(e,t){return new Promise((r,a)=>{i.writeFile(e,t,e=>e?a(e):r())})}r.cloneFrames=function(e){let t=[];return e.forEach(e=>{t.push(new s(e))}),t},r.getColorInfo=function(e,t){let r=!1,i=[];for(let t=0;t<e.length;++t){let a=e[t].getPalette();if(a.usesTransparency&&(r=!0),a.indexCount>256)throw new o(`Frame ${t} uses more than 256 color indexes`);i.push(a)}if(0===t)return{usesTransparency:r,palettes:i};let a=new Set;i.forEach(e=>{e.colors.forEach(e=>{a.add(e)})});let n=a.size;if(r&&++n,t&&n>t)return{usesTransparency:r,palettes:i};let s=Array(a.size),d=a.values();for(let e=0;e<s.length;++e)s[e]=d.next().value;return s.sort((e,t)=>e-t),{colors:s,indexCount:n,usesTransparency:r,palettes:i}},r.copyAsJimp=function(e,t){return r.shareAsJimp(e,new n(t))},r.getMaxDimensions=function(e){let t=0,r=0;return e.forEach(e=>{let i=e.xOffset+e.bitmap.width;i>t&&(t=i);let a=e.yOffset+e.bitmap.height;a>r&&(r=a)}),{maxWidth:t,maxHeight:r}},r.quantizeDekker=function(e,t,r){c(e,"NeuQuantFloat",t=t||256,0,r)},r.quantizeSorokin=function(e,t,r,i){let a;switch(t=t||256,r=r||"min-pop"){case"min-pop":a=2;break;case"top-pop":a=1;break;default:throw Error(`Invalid quantizeSorokin histogram '${r}'`)}c(e,"RGBQuant",t,a,i)},r.quantizeWu=function(e,t,r,i){if(t=t||256,(r=r||5)<1||r>8)throw Error("Invalid quantization quality");c(e,"WuQuant",t,r,i)},r.read=function(e,t){return(t=t||l,Buffer.isBuffer(e))?t.decodeGif(e):h(e).then(e=>t.decodeGif(e))},r.shareAsJimp=function(e,t){let r=new e(t.bitmap.width,t.bitmap.height,0);return r.bitmap.data=t.bitmap.data,r},r.write=function(e,t,r,i){i=i||l;let a=e.match(/\.[a-zA-Z]+$/);if(null!==a&&u.includes(a[0].toLowerCase()))throw Error(`GIF '${e}' has an unexpected suffix`);return i.encodeGif(t,r).then(t=>p(e,t.buffer).then(()=>t))}},40397,(e,t,r)=>{"use strict";let i=e.r(18145),{Gif:a,GifError:n}=e.r(621522);function s(){let t=e.r(647369);return s=function(){return t},t}let{GifFrame:o}=e.r(661159),d=200,u=100;class l{constructor(e={}){this._transparentRGB=null,"number"==typeof e.transparentRGB&&0!==e.transparentRGB&&(this._transparentRGBA=256*e.transparentRGB),this._testInitialBufferSize=0}decodeGif(e){try{let t;try{t=new i.GifReader(e)}catch(e){throw new n(e)}let r=t.numFrames(),s=[],o={width:t.width,height:t.height,loops:t.loopCount()};o.usesTransparency=!1;for(let e=0;e<r;++e){let r=this._decodeFrame(t,e,o.usesTransparency);s.push(r.frame),r.usesTransparency&&(o.usesTransparency=!0)}return Promise.resolve(new a(e,s,o))}catch(e){return Promise.reject(e)}}encodeGif(e,t={}){try{if(null===e||0===e.length)throw new n("there are no frames");let r=s().getMaxDimensions(e);return(t=Object.assign({},t)).width=r.maxWidth,t.height=r.maxHeight,void 0===t.loops&&(t.loops=0),t.colorScope=t.colorScope||a.GlobalColorsPreferred,Promise.resolve(this._encodeGif(e,t))}catch(e){return Promise.reject(e)}}_decodeFrame(e,t,r){let i,a;try{if(i=e.frameInfo(t),a=new Buffer(e.width*e.height*4),e.decodeAndBlitFrameRGBA(t,a),i.width!==e.width||i.height!==e.height){if(i.y&&(a=a.slice(i.y*e.width*4)),e.width>i.width)for(let t=0;t<i.height;++t)a.copy(a,t*i.width*4,(i.x+t*e.width)*4,(i.x+t*e.width)*4+4*i.width);a=a.slice(0,i.width*i.height*4)}}catch(e){throw new n(e)}let s=!1;if(null===this._transparentRGBA){if(!r)for(let e=3;e<a.length;e+=4)0===a[e]&&(s=!0,e=a.length)}else for(let e=3;e<a.length;e+=4)0===a[e]&&(a.writeUInt32BE(this._transparentRGBA,e-3),s=!0);return{frame:new o(i.width,i.height,a,{xOffset:i.x,yOffset:i.y,disposalMethod:i.disposal,interlaced:i.interlaced,delayCentisecs:i.delay}),usesTransparency:s}}_encodeGif(e,t){let r;if(t.colorScope===a.LocalColorsOnly)r=s().getColorInfo(e,0);else if(!(r=s().getColorInfo(e,256)).colors){if(t.colorScope===a.GlobalColorsOnly)throw new n("Too many color indexes for global color table");t.colorScope=a.LocalColorsOnly}t.usesTransparency=r.usesTransparency;let i=r.palettes;return t.colorScope===a.LocalColorsOnly?f(e,t,2e3,i):p(e,t,2e3,r)}_getSizeEstimateGlobal(e,t){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=d+768,i=y(e);return t.forEach(e=>{r+=_(e,i)}),r}_getSizeEstimateLocal(e,t){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=d;for(let i=0;i<t.length;++i){let a=y(e[i]);r+=_(t[i],a)}return r}}function c(e,t){let r=e.indexOf(t);return -1===r?null:r}function h(e,t){for(var r,i=0,a=e.length-1;i<=a;)if(e[r=Math.floor((i+a)/2)]>t)a=r-1;else{if(!(e[r]<t))return r;i=r+1}return null}function p(e,t,r,s){let o,d={colors:s.colors.slice(),usesTransparency:s.usesTransparency};m(d);let u={palette:d.colors,loop:t.loops},l=new Buffer(r);try{o=new i.GifWriter(l,t.width,t.height,u)}catch(e){throw new n(e)}for(let t=0;t<e.length;++t)l=v(o,t,e[t],s,!1);return new a(l.slice(0,o.end()),e,t)}function f(e,t,r,s){let o,d={loop:t.loops},u=new Buffer(r);try{o=new i.GifWriter(u,t.width,t.height,d)}catch(e){throw new n(e)}for(let t=0;t<e.length;++t)u=v(o,t,e[t],s[t],!0);return new a(u.slice(0,o.end()),e,t)}function m(e){let t=e.colors;e.usesTransparency&&t.push(0);let r=t.length,i=2;for(;r>i;)i<<=1;t.length=i,t.fill(0,r)}function _(e,t){let r=e.bitmap.width*e.bitmap.height;return r=Math.ceil(r*t/8),u+(r+=Math.ceil(r/255))+768}function g(e,t,r){let i=r.colors,a=i.length<=8?c:h,s=t.bitmap.data,o=new Buffer(s.length/4),d=i.length,u=0,l=0;for(;u<s.length;){if(0!==s[u+3]){let e=s.readUInt32BE(u,!0)>>8&0xffffff;o[l]=a(i,e)}else o[l]=d;u+=4,++l}if(r.usesTransparency){if(256===d)throw new n(`Frame ${e} already has 256 colorsand so can't use transparency`)}else d=null;return{buffer:o,transparentIndex:d}}function y(e){let t=e.indexCount,r=0;for(--t;t;)++r,t>>=1;return r>0?r:1}function v(e,t,r,i,a){if(r.interlaced)throw new n("writing interlaced GIFs is not supported");let s=g(t,r,i),o={delay:r.delayCentisecs,disposal:r.disposalMethod,transparent:s.transparentIndex};a&&(m(i),o.palette=i.colors);try{let t,i=e.getOutputBuffer(),a=e.getOutputBufferPosition(),n=!0;for(;n;)if(t=e.addFrame(r.xOffset,r.yOffset,r.bitmap.width,r.bitmap.height,s.buffer,o),n=!1,t>=i.length-1){let t=new Buffer(1.5*i.length);i.copy(t),e.setOutputBuffer(t),e.setOutputBufferPosition(a),i=t,n=!0}return i}catch(e){throw new n(e)}}r.GifCodec=l},794955,(e,t,r)=>{"use strict";let i=e.r(242239),{Gif:a,GifError:n}=e.r(621522),{GifCodec:s}=e.r(40397),{GifFrame:o}=e.r(661159);t.exports={BitmapImage:i,Gif:a,GifCodec:s,GifFrame:o,GifUtil:e.r(647369),GifError:n}},134410,(e,t,r)=>{function i(e){var t,r,i,a,n,s=Math.floor,o=Array(64),d=Array(64),u=Array(64),l=Array(64),c=Array(65535),h=Array(65535),p=Array(64),f=Array(64),m=[],_=0,g=7,y=Array(64),v=Array(64),b=Array(64),x=Array(256),k=Array(2048),w=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],C=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function N(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var i=s((t[r]*e+50)/100);i<1?i=1:i>255&&(i=255),o[w[r]]=i}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],n=0;n<64;n++){var c=s((a[n]*e+50)/100);c<1?c=1:c>255&&(c=255),d[w[n]]=c}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,f=0;f<8;f++)for(var m=0;m<8;m++)u[p]=1/(o[w[p]]*h[f]*h[m]*8),l[p]=1/(d[w[p]]*h[f]*h[m]*8),p++}function M(e,t){for(var r=0,i=0,a=[],n=1;n<=16;n++){for(var s=1;s<=e[n];s++)a[t[i]]=[],a[t[i]][0]=r,a[t[i]][1]=n,i++,r++;r*=2}return a}function P(){t=M(T,Z),r=M(S,O),i=M(E,A),a=M(I,C)}function j(){for(var e=1,t=2,r=1;r<=15;r++){for(var i=e;i<t;i++)h[32767+i]=r,c[32767+i]=[],c[32767+i][1]=r,c[32767+i][0]=i;for(var a=-(t-1);a<=-e;a++)h[32767+a]=r,c[32767+a]=[],c[32767+a][1]=r,c[32767+a][0]=t-1+a;e<<=1,t<<=1}}function R(){for(var e=0;e<256;e++)k[e]=19595*e,k[e+256|0]=38470*e,k[e+512|0]=7471*e+32768,k[e+768|0]=-11059*e,k[e+1024|0]=-21709*e,k[e+1280|0]=32768*e+8421375,k[e+1536|0]=-27439*e,k[e+1792|0]=-5329*e}function D(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(_|=1<<g),r--,--g<0&&(255==_?(L(255),L(0)):L(_),g=7,_=0)}function L(e){m.push(e)}function F(e){L(e>>8&255),L(255&e)}function B(e,t){var r,i,a,n,s,o,d,u,l,c,h=0,f=8,m=64;for(l=0;l<f;++l){r=e[h],i=e[h+1],a=e[h+2],n=e[h+3],s=e[h+4],o=e[h+5],d=e[h+6];var _=r+(u=e[h+7]),g=r-u,y=i+d,v=i-d,b=a+o,x=a-o,k=n+s,w=n-s,T=_+k,Z=_-k,E=y+b,A=y-b;e[h]=T+E,e[h+4]=T-E;var S=(A+Z)*.707106781;e[h+2]=Z+S,e[h+6]=Z-S,T=w+x,E=x+v;var O=(T-(A=v+g))*.382683433,I=.5411961*T+O,C=1.306562965*A+O,N=.707106781*E,M=g+N,P=g-N;e[h+5]=P+I,e[h+3]=P-I,e[h+1]=M+C,e[h+7]=M-C,h+=8}for(l=0,h=0;l<f;++l){r=e[h],i=e[h+8],a=e[h+16],n=e[h+24],s=e[h+32],o=e[h+40],d=e[h+48];var j=r+(u=e[h+56]),R=r-u,D=i+d,L=i-d,F=a+o,B=a-o,z=n+s,$=n-s,U=j+z,V=j-z,W=D+F,K=D-F;e[h]=U+W,e[h+32]=U-W;var q=(K+V)*.707106781;e[h+16]=V+q,e[h+48]=V-q,U=$+B,W=B+L;var G=(U-(K=L+R))*.382683433,H=.5411961*U+G,Y=1.306562965*K+G,J=.707106781*W,X=R+J,Q=R-J;e[h+40]=Q+H,e[h+24]=Q-H,e[h+8]=X+Y,e[h+56]=X-Y,h++}for(l=0;l<m;++l)c=e[l]*t[l],p[l]=c>0?c+.5|0:c-.5|0;return p}function z(){F(65504),F(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),F(1),F(1),L(0),L(0)}function $(e){if(e){F(65505),69===e[0]&&120===e[1]&&105===e[2]&&102===e[3]?F(e.length+2):(F(e.length+5+2),L(69),L(120),L(105),L(102),L(0));for(var t=0;t<e.length;t++)L(e[t])}}function U(e,t){F(65472),F(17),L(8),F(t),F(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}function V(){F(65499),F(132),L(0);for(var e=0;e<64;e++)L(o[e]);L(1);for(var t=0;t<64;t++)L(d[t])}function W(){F(65476),F(418),L(0);for(var e=0;e<16;e++)L(T[e+1]);for(var t=0;t<=11;t++)L(Z[t]);L(16);for(var r=0;r<16;r++)L(E[r+1]);for(var i=0;i<=161;i++)L(A[i]);L(1);for(var a=0;a<16;a++)L(S[a+1]);for(var n=0;n<=11;n++)L(O[n]);L(17);for(var s=0;s<16;s++)L(I[s+1]);for(var o=0;o<=161;o++)L(C[o])}function K(e){void 0!==e&&e.constructor===Array&&e.forEach(e=>{if("string"==typeof e){F(65534);var t,r=e.length;for(F(r+2),t=0;t<r;t++)L(e.charCodeAt(t))}})}function q(){F(65498),F(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0)}function G(e,t,r,i,a){for(var n,s,o=a[0],d=a[240],u=16,l=63,p=64,m=B(e,t),_=0;_<p;++_)f[w[_]]=m[_];var g=f[0]-r;r=f[0],0==g?D(i[0]):(D(i[h[n=32767+g]]),D(c[n]));for(var y=63;y>0&&0==f[y];y--);if(0==y)return D(o),r;for(var v=1;v<=y;){for(var b=v;0==f[v]&&v<=y;++v);var x=v-b;if(x>=u){s=x>>4;for(var k=1;k<=s;++k)D(d);x&=15}D(a[(x<<4)+h[n=32767+f[v]]]),D(c[n]),v++}return y!=l&&D(o),r}function H(){for(var e=String.fromCharCode,t=0;t<256;t++)x[t]=e(t)}function Y(e){if(e<=0&&(e=1),e>100&&(e=100),n!=e){var t=0;t=e<50?Math.floor(5e3/e):Math.floor(200-2*e),N(t),n=e}}this.encode=function(e,n){new Date().getTime(),n&&Y(n),m=[],_=0,g=7,F(65496),z(),K(e.comments),$(e.exifBuffer),V(),U(e.width,e.height),W(),q();var s,o,d,c,h,p,f,x,w=0,T=0,Z=0;_=0,g=7,this.encode.displayName="_encode_";for(var E,A=e.data,S=e.width,O=e.height,I=4*S,C=0;C<O;){for(E=0;E<I;){for(x=0,h=c=I*C+E,p=-1,f=0;x<64;x++)h=c+(f=x>>3)*I+(p=(7&x)*4),C+f>=O&&(h-=I*(C+1+f-O)),E+p>=I&&(h-=E+p-I+4),s=A[h++],o=A[h++],d=A[h++],y[x]=(k[s]+k[o+256|0]+k[d+512|0]>>16)-128,v[x]=(k[s+768|0]+k[o+1024|0]+k[d+1280|0]>>16)-128,b[x]=(k[s+1280|0]+k[o+1536|0]+k[d+1792|0]>>16)-128;w=G(y,u,w,t,i),T=G(v,l,T,r,a),Z=G(b,l,Z,r,a),E+=32}C+=8}if(g>=0){var N=[];N[1]=g+1,N[0]=(1<<g+1)-1,D(N)}return F(65497),Buffer.from(m)},function(){new Date().getTime(),e||(e=50),H(),P(),j(),R(),Y(e),new Date().getTime()}()}t.exports=function e(e,t){return void 0===t&&(t=50),{data:new i(t).encode(e,t),width:e.width,height:e.height}}},704460,(e,t,r)=>{var i=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,r=799,i=3406,a=2276,n=1567,s=3784,o=5793,d=2896;function u(){}function l(e,t){for(var r,i,a=0,n=[],s=16;s>0&&!e[s-1];)s--;n.push({children:[],index:0});var o,d=n[0];for(r=0;r<s;r++){for(i=0;i<e[r];i++){for((d=n.pop()).children[d.index]=t[a];d.index>0;){if(0===n.length)throw Error("Could not recreate Huffman Table");d=n.pop()}for(d.index++,n.push(d);n.length<=r;)n.push(o={children:[],index:0}),d.children[d.index]=o.children,d=o;a++}r+1<s&&(n.push(o={children:[],index:0}),d.children[d.index]=o.children,d=o)}return n[0].children}function c(t,r,i,a,n,s,o,d,u,l){i.precision,i.samplesPerLine,i.scanLines;var c,h,p,f=i.mcusPerLine,m=i.progressive;i.maxH,i.maxV;var _=r,g=0,y=0;function v(){if(y>0)return y--,g>>y&1;if(255==(g=t[r++])){var e=t[r++];if(e)throw Error("unexpected marker: "+(g<<8|e).toString(16))}return y=7,g>>>7}function b(e){for(var t,r=e;null!==(t=v());){if("number"==typeof(r=r[t]))return r;if("object"!=typeof r)throw Error("invalid huffman sequence")}return null}function x(e){for(var t=0;e>0;){var r=v();if(null===r)return;t=t<<1|r,e--}return t}function k(e){var t=x(e);return t>=1<<e-1?t:t+(-1<<e)+1}function w(t,r){var i=b(t.huffmanTableDC),a=0===i?0:k(i);r[0]=t.pred+=a;for(var n=1;n<64;){var s=b(t.huffmanTableAC),o=15&s,d=s>>4;if(0===o){if(d<15)break;n+=16;continue}r[e[n+=d]]=k(o),n++}}function T(e,t){var r=b(e.huffmanTableDC),i=0===r?0:k(r)<<u;t[0]=e.pred+=i}function Z(e,t){t[0]|=v()<<u}var E=0;function A(t,r){if(E>0)return void E--;for(var i=s,a=o;i<=a;){var n=b(t.huffmanTableAC),d=15&n,l=n>>4;if(0===d){if(l<15){E=x(l)+(1<<l)-1;break}i+=16;continue}r[e[i+=l]]=k(d)*(1<<u),i++}}var S,O=0;function I(t,r){for(var i=s,a=o,n=0;i<=a;){var d=e[i],l=r[d]<0?-1:1;switch(O){case 0:var c=b(t.huffmanTableAC),h=15&c,n=c>>4;if(0===h)n<15?(E=x(n)+(1<<n),O=4):(n=16,O=1);else{if(1!==h)throw Error("invalid ACn encoding");S=k(h),O=n?2:3}continue;case 1:case 2:r[d]?r[d]+=(v()<<u)*l:0==--n&&(O=3*(2==O));break;case 3:r[d]?r[d]+=(v()<<u)*l:(r[d]=S<<u,O=0);break;case 4:r[d]&&(r[d]+=(v()<<u)*l)}i++}4===O&&0==--E&&(O=0)}function C(e,t,r,i,a){var n=r/f|0,s=r%f,o=n*e.v+i,d=s*e.h+a;void 0===e.blocks[o]&&l.tolerantDecoding||t(e,e.blocks[o][d])}function N(e,t,r){var i=r/e.blocksPerLine|0,a=r%e.blocksPerLine;void 0===e.blocks[i]&&l.tolerantDecoding||t(e,e.blocks[i][a])}var M,P,j,R,D,L,F=a.length,B=m?0===s?0===d?T:Z:0===d?A:I:w,z=0;for(c=1==F?a[0].blocksPerLine*a[0].blocksPerColumn:f*i.mcusPerColumn,n||(n=c);z<c;){for(P=0;P<F;P++)a[P].pred=0;if(E=0,1==F)for(D=0,M=a[0];D<n;D++)N(M,B,z),z++;else for(D=0;D<n;D++){for(P=0;P<F;P++)for(j=0,h=(M=a[P]).h,p=M.v;j<p;j++)for(R=0;R<h;R++)C(M,B,z,j,R);if(++z===c)break}if(z===c)do{if(255===t[r]&&0!==t[r+1])break;r+=1}while(r<t.length-2)if(y=0,(L=t[r]<<8|t[r+1])<65280)throw Error("marker was not found");if(L>=65488&&L<=65495)r+=2;else break}return r-_}function h(e,u){var l,c,h=[],p=u.blocksPerLine,f=u.blocksPerColumn,m=p<<3,g=new Int32Array(64),y=new Uint8Array(64);function v(e,l,c){var h,p,f,m,_,g,y,v,b,x,k=u.quantizationTable,w=c;for(x=0;x<64;x++)w[x]=e[x]*k[x];for(x=0;x<8;++x){var T=8*x;if(0==w[1+T]&&0==w[2+T]&&0==w[3+T]&&0==w[4+T]&&0==w[5+T]&&0==w[6+T]&&0==w[7+T]){b=o*w[0+T]+512>>10,w[0+T]=b,w[1+T]=b,w[2+T]=b,w[3+T]=b,w[4+T]=b,w[5+T]=b,w[6+T]=b,w[7+T]=b;continue}h=o*w[0+T]+128>>8,p=o*w[4+T]+128>>8,f=w[2+T],m=w[6+T],_=d*(w[1+T]-w[7+T])+128>>8,v=d*(w[1+T]+w[7+T])+128>>8,g=w[3+T]<<4,y=w[5+T]<<4,b=h-p+1>>1,h=h+p+1>>1,p=b,b=f*s+m*n+128>>8,f=f*n-m*s+128>>8,m=b,b=_-y+1>>1,_=_+y+1>>1,y=b,b=v+g+1>>1,g=v-g+1>>1,v=b,b=h-m+1>>1,h=h+m+1>>1,m=b,b=p-f+1>>1,p=p+f+1>>1,f=b,b=_*a+v*i+2048>>12,_=_*i-v*a+2048>>12,v=b,b=g*r+y*t+2048>>12,g=g*t-y*r+2048>>12,y=b,w[0+T]=h+v,w[7+T]=h-v,w[1+T]=p+y,w[6+T]=p-y,w[2+T]=f+g,w[5+T]=f-g,w[3+T]=m+_,w[4+T]=m-_}for(x=0;x<8;++x){var Z=x;if(0==w[8+Z]&&0==w[16+Z]&&0==w[24+Z]&&0==w[32+Z]&&0==w[40+Z]&&0==w[48+Z]&&0==w[56+Z]){b=o*c[x+0]+8192>>14,w[0+Z]=b,w[8+Z]=b,w[16+Z]=b,w[24+Z]=b,w[32+Z]=b,w[40+Z]=b,w[48+Z]=b,w[56+Z]=b;continue}h=o*w[0+Z]+2048>>12,p=o*w[32+Z]+2048>>12,f=w[16+Z],m=w[48+Z],_=d*(w[8+Z]-w[56+Z])+2048>>12,v=d*(w[8+Z]+w[56+Z])+2048>>12,g=w[24+Z],y=w[40+Z],b=h-p+1>>1,h=h+p+1>>1,p=b,b=f*s+m*n+2048>>12,f=f*n-m*s+2048>>12,m=b,b=_-y+1>>1,_=_+y+1>>1,y=b,b=v+g+1>>1,g=v-g+1>>1,v=b,b=h-m+1>>1,h=h+m+1>>1,m=b,b=p-f+1>>1,p=p+f+1>>1,f=b,b=_*a+v*i+2048>>12,_=_*i-v*a+2048>>12,v=b,b=g*r+y*t+2048>>12,g=g*t-y*r+2048>>12,y=b,w[0+Z]=h+v,w[56+Z]=h-v,w[8+Z]=p+y,w[48+Z]=p-y,w[16+Z]=f+g,w[40+Z]=f-g,w[24+Z]=m+_,w[32+Z]=m-_}for(x=0;x<64;++x){var E=128+(w[x]+8>>4);l[x]=E<0?0:E>255?255:E}}_(m*f*8);for(var b=0;b<f;b++){var x=b<<3;for(l=0;l<8;l++)h.push(new Uint8Array(m));for(var k=0;k<p;k++){v(u.blocks[b][k],y,g);var w=0,T=k<<3;for(c=0;c<8;c++){var Z=h[x+c];for(l=0;l<8;l++)Z[T+l]=y[w++]}}}return h}function p(e){return e<0?0:e>255?255:e}u.prototype={load:function(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=(function(){var e=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}).bind(this),t.send(null)},parse:function(t){var r=1e3*this.opts.maxResolutionInMP*1e3,i=0;function a(){var e=t[i]<<8|t[i+1];return i+=2,e}function n(){var e=a(),r=t.subarray(i,i+e-2);return i+=r.length,r}function s(e){var t,r,i=1,a=1;for(r in e.components)e.components.hasOwnProperty(r)&&(i<(t=e.components[r]).h&&(i=t.h),a<t.v&&(a=t.v));var n=Math.ceil(e.samplesPerLine/8/i),s=Math.ceil(e.scanLines/8/a);for(r in e.components)if(e.components.hasOwnProperty(r)){t=e.components[r];var o=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/i),d=Math.ceil(Math.ceil(e.scanLines/8)*t.v/a),u=n*t.h,l=s*t.v,c=[];_(l*u*256);for(var h=0;h<l;h++){for(var p=[],f=0;f<u;f++)p.push(new Int32Array(64));c.push(p)}t.blocksPerLine=o,t.blocksPerColumn=d,t.blocks=c}e.maxH=i,e.maxV=a,e.mcusPerLine=n,e.mcusPerColumn=s}t.length;var o=null,d=null,u=[],p=[],f=[],m=[],g=a(),y=-1;if(this.comments=[],65496!=g)throw Error("SOI not found");for(g=a();65497!=g;){switch(g){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var v=n();if(65534===g){var b=String.fromCharCode.apply(null,v);this.comments.push(b)}65504===g&&74===v[0]&&70===v[1]&&73===v[2]&&70===v[3]&&0===v[4]&&(o={version:{major:v[5],minor:v[6]},densityUnits:v[7],xDensity:v[8]<<8|v[9],yDensity:v[10]<<8|v[11],thumbWidth:v[12],thumbHeight:v[13],thumbData:v.subarray(14,14+3*v[12]*v[13])}),65505===g&&69===v[0]&&120===v[1]&&105===v[2]&&102===v[3]&&0===v[4]&&(this.exifBuffer=v.subarray(5,v.length)),65518===g&&65===v[0]&&100===v[1]&&111===v[2]&&98===v[3]&&101===v[4]&&0===v[5]&&(d={version:v[6],flags0:v[7]<<8|v[8],flags1:v[9]<<8|v[10],transformCode:v[11]});break;case 65499:for(var x=a()+i-2;i<x;){var k=t[i++];_(256);var w=new Int32Array(64);if(k>>4==0)for(I=0;I<64;I++){var T=e[I];w[T]=t[i++]}else if(k>>4==1)for(I=0;I<64;I++){var T=e[I];w[T]=a()}else throw Error("DQT: invalid table spec");u[15&k]=w}break;case 65472:case 65473:case 65474:a(),(A={}).extended=65473===g,A.progressive=65474===g,A.precision=t[i++],A.scanLines=a(),A.samplesPerLine=a(),A.components={},A.componentsOrder=[];var Z=A.scanLines*A.samplesPerLine;if(Z>r){var E=Math.ceil((Z-r)/1e6);throw Error(`maxResolutionInMP limit exceeded by ${E}MP`)}var A,S,O,I,C,N=t[i++];for(O=0;O<N;O++){C=t[i];var M=t[i+1]>>4,P=15&t[i+1],j=t[i+2];if(M<=0||P<=0)throw Error("Invalid sampling factor, expected values above 0");A.componentsOrder.push(C),A.components[C]={h:M,v:P,quantizationIdx:j},i+=3}s(A),p.push(A);break;case 65476:var R=a();for(O=2;O<R;){var D=t[i++],L=new Uint8Array(16),F=0;for(I=0;I<16;I++,i++)F+=L[I]=t[i];_(16+F);var B=new Uint8Array(F);for(I=0;I<F;I++,i++)B[I]=t[i];O+=17+F,(D>>4==0?m:f)[15&D]=l(L,B)}break;case 65501:a(),S=a();break;case 65500:a(),a();break;case 65498:a();var z,$=t[i++],U=[];for(O=0;O<$;O++){z=A.components[t[i++]];var V=t[i++];z.huffmanTableDC=m[V>>4],z.huffmanTableAC=f[15&V],U.push(z)}var W=t[i++],K=t[i++],q=t[i++],G=c(t,i,A,U,S,W,K,q>>4,15&q,this.opts);i+=G;break;case 65535:255!==t[i]&&i--;break;default:if(255==t[i-3]&&t[i-2]>=192&&t[i-2]<=254){i-=3;break}if(224===g||225==g){if(-1!==y)throw Error(`first unknown JPEG marker at offset ${y.toString(16)}, second unknown JPEG marker ${g.toString(16)} at offset ${(i-1).toString(16)}`);y=i-1;let e=a();if(255===t[i+e-2]){i+=e-2;break}}throw Error("unknown JPEG marker "+g.toString(16))}g=a()}if(1!=p.length)throw Error("only single frame JPEGs supported");for(var O=0;O<p.length;O++){var H=p[O].components;for(var I in H)H[I].quantizationTable=u[H[I].quantizationIdx],delete H[I].quantizationIdx}this.width=A.samplesPerLine,this.height=A.scanLines,this.jfif=o,this.adobe=d,this.components=[];for(var O=0;O<A.componentsOrder.length;O++){var z=A.components[A.componentsOrder[O]];this.components.push({lines:h(A,z),scaleX:z.h/A.maxH,scaleY:z.v/A.maxV})}},getData:function(e,t){var r,i,a,n,s,o,d,u,l,c,h,f,m,g,y,v,b,x,k,w,T,Z=this.width/e,E=this.height/t,A=0,S=e*t*this.components.length;_(S);var O=new Uint8Array(S);switch(this.components.length){case 1:for(c=0,r=this.components[0];c<t;c++)for(l=0,s=r.lines[0|c*r.scaleY*E];l<e;l++)h=s[0|l*r.scaleX*Z],O[A++]=h;break;case 2:for(c=0,r=this.components[0],i=this.components[1];c<t;c++)for(l=0,s=r.lines[0|c*r.scaleY*E],o=i.lines[0|c*i.scaleY*E];l<e;l++)h=s[0|l*r.scaleX*Z],O[A++]=h,h=o[0|l*i.scaleX*Z],O[A++]=h;break;case 3:for(T=!0,this.adobe&&this.adobe.transformCode?T=!0:void 0!==this.opts.colorTransform&&(T=!!this.opts.colorTransform),r=this.components[0],i=this.components[1],a=this.components[2],c=0;c<t;c++)for(l=0,s=r.lines[0|c*r.scaleY*E],o=i.lines[0|c*i.scaleY*E],d=a.lines[0|c*a.scaleY*E];l<e;l++)T?(h=s[0|l*r.scaleX*Z],f=o[0|l*i.scaleX*Z],x=p(h+1.402*((m=d[0|l*a.scaleX*Z])-128)),k=p(h-.3441363*(f-128)-.71413636*(m-128)),w=p(h+1.772*(f-128))):(x=s[0|l*r.scaleX*Z],k=o[0|l*i.scaleX*Z],w=d[0|l*a.scaleX*Z]),O[A++]=x,O[A++]=k,O[A++]=w;break;case 4:if(!this.adobe)throw Error("Unsupported color mode (4 components)");for(T=!1,this.adobe&&this.adobe.transformCode?T=!0:void 0!==this.opts.colorTransform&&(T=!!this.opts.colorTransform),r=this.components[0],i=this.components[1],a=this.components[2],n=this.components[3],c=0;c<t;c++)for(l=0,s=r.lines[0|c*r.scaleY*E],o=i.lines[0|c*i.scaleY*E],d=a.lines[0|c*a.scaleY*E],u=n.lines[0|c*n.scaleY*E];l<e;l++)T?(h=s[0|l*r.scaleX*Z],f=o[0|l*i.scaleX*Z],m=d[0|l*a.scaleX*Z],g=u[0|l*n.scaleX*Z],y=255-p(h+1.402*(m-128)),v=255-p(h-.3441363*(f-128)-.71413636*(m-128)),b=255-p(h+1.772*(f-128))):(y=s[0|l*r.scaleX*Z],v=o[0|l*i.scaleX*Z],b=d[0|l*a.scaleX*Z],g=u[0|l*n.scaleX*Z]),O[A++]=255-y,O[A++]=255-v,O[A++]=255-b,O[A++]=255-g;break;default:throw Error("Unsupported color mode")}return O},copyToImageData:function(e,t){var r,i,a,n,s,o,d,u,l,c=e.width,h=e.height,f=e.data,m=this.getData(c,h),_=0,g=0;switch(this.components.length){case 1:for(l=0;l<h;l++)for(u=0;u<c;u++)r=m[_++],f[g++]=r,f[g++]=r,f[g++]=r,t&&(f[g++]=255);break;case 3:for(l=0;l<h;l++)for(u=0;u<c;u++)s=m[_++],o=m[_++],d=m[_++],f[g++]=s,f[g++]=o,f[g++]=d,t&&(f[g++]=255);break;case 4:for(l=0;l<h;l++)for(u=0;u<c;u++)a=m[_++],n=m[_++],r=m[_++],s=255-p(a*(1-(i=m[_++])/255)+i),o=255-p(n*(1-i/255)+i),d=255-p(r*(1-i/255)+i),f[g++]=s,f[g++]=o,f[g++]=d,t&&(f[g++]=255);break;default:throw Error("Unsupported color mode")}}};var f=0,m=0;function _(e=0){var t=f+e;if(t>m){var r=Math.ceil((t-m)/1024/1024);throw Error(`maxMemoryUsageInMB limit exceeded by at least ${r}MB`)}f=t}return u.resetMaxMemoryUsage=function(e){f=0,m=e},u.getBytesAllocated=function(){return f},u.requestMemoryAllocation=_,u}();t.exports=function e(t,r={}){var a={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...r},n=new Uint8Array(t),s=new i;s.opts=a,i.resetMaxMemoryUsage(1024*a.maxMemoryUsageInMB*1024),s.parse(n);var o=a.formatAsRGBA?4:3,d=s.width*s.height*o;try{i.requestMemoryAllocation(d);var u={width:s.width,height:s.height,exifBuffer:s.exifBuffer,data:a.useTArray?new Uint8Array(d):Buffer.alloc(d)};s.comments.length>0&&(u.comments=s.comments)}catch(e){if(e instanceof RangeError)throw Error("Could not allocate enough memory for the image. Required: "+d);if(e instanceof ReferenceError&&"Buffer is not defined"===e.message)throw Error("Buffer is not globally defined in this environment. Consider setting useTArray to true");throw e}return s.copyToImageData(u,a.formatAsRGBA),u}},897780,(e,t,r)=>{t.exports={encode:e.r(134410),decode:e.r(704460)}},946642,(e,t,r)=>{"use strict";let i=e.r(224361),a=e.r(688947),n=t.exports=function(){a.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};i.inherits(n,a),n.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),process.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},n.prototype.write=function(e,t){let r;return this.writable?(r=Buffer.isBuffer(e)?e:Buffer.from(e,t||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",Error("Stream not writable")),!1)},n.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},n.prototype.destroySoon=n.prototype.end,n.prototype._end=function(){this._reads.length>0&&this.emit("error",Error("Unexpected end of input")),this.destroy()},n.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},n.prototype._processReadAllowingLess=function(e){this._reads.shift();let t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},n.prototype._processRead=function(e){this._reads.shift();let t=0,r=0,i=Buffer.alloc(e.length);for(;t<e.length;){let a=this._buffers[r++],n=Math.min(a.length,e.length-t);a.copy(i,t,0,n),t+=n,n!==a.length&&(this._buffers[--r]=a.slice(n))}r>0&&this._buffers.splice(0,r),this._buffered-=e.length,e.func.call(this,i)},n.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else if(this._buffered>=e.length)this._processRead(e);else break}this._buffers&&!this.writable&&this._end()}catch(e){this.emit("error",e)}}},269168,(e,t,r)=>{"use strict";let i=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];r.getImagePasses=function(e,t){let r=[],a=e%8,n=t%8,s=(e-a)/8,o=(t-n)/8;for(let e=0;e<i.length;e++){let t=i[e],d=s*t.x.length,u=o*t.y.length;for(let e=0;e<t.x.length;e++)if(t.x[e]<a)d++;else break;for(let e=0;e<t.y.length;e++)if(t.y[e]<n)u++;else break;d>0&&u>0&&r.push({width:d,height:u,index:e})}return r},r.getInterlaceIterator=function(e){return function(t,r,a){let n=t%i[a].x.length,s=(t-n)/i[a].x.length*8+i[a].x[n],o=r%i[a].y.length;return 4*s+((r-o)/i[a].y.length*8+i[a].y[o])*e*4}}},633980,(e,t,r)=>{"use strict";t.exports=function(e,t,r){let i=e+t-r,a=Math.abs(i-e),n=Math.abs(i-t),s=Math.abs(i-r);return a<=n&&a<=s?e:n<=s?t:r}},56042,(e,t,r)=>{"use strict";let i=e.r(269168),a=e.r(633980);function n(e,t,r){let i=e*t;return 8!==r&&(i=Math.ceil(i/(8/r))),i}let s=t.exports=function(e,t){let r=e.width,a=e.height,s=e.interlace,o=e.bpp,d=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],s){let e=i.getImagePasses(r,a);for(let t=0;t<e.length;t++)this._images.push({byteWidth:n(e[t].width,o,d),height:e[t].height,lineIndex:0})}else this._images.push({byteWidth:n(r,o,d),height:a,lineIndex:0});8===d?this._xComparison=o:16===d?this._xComparison=2*o:this._xComparison=1};s.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},s.prototype._unFilterType1=function(e,t,r){let i=this._xComparison,a=i-1;for(let n=0;n<r;n++){let r=e[1+n],s=n>a?t[n-i]:0;t[n]=r+s}},s.prototype._unFilterType2=function(e,t,r){let i=this._lastLine;for(let a=0;a<r;a++){let r=e[1+a],n=i?i[a]:0;t[a]=r+n}},s.prototype._unFilterType3=function(e,t,r){let i=this._xComparison,a=i-1,n=this._lastLine;for(let s=0;s<r;s++){let r=e[1+s],o=n?n[s]:0,d=Math.floor(((s>a?t[s-i]:0)+o)/2);t[s]=r+d}},s.prototype._unFilterType4=function(e,t,r){let i=this._xComparison,n=i-1,s=this._lastLine;for(let o=0;o<r;o++){let r=e[1+o],d=s?s[o]:0,u=a(o>n?t[o-i]:0,d,o>n&&s?s[o-i]:0);t[o]=r+u}},s.prototype._reverseFilterLine=function(e){let t,r=e[0],i=this._images[this._imageIndex],a=i.byteWidth;if(0===r)t=e.slice(1,a+1);else switch(t=Buffer.alloc(a),r){case 1:this._unFilterType1(e,t,a);break;case 2:this._unFilterType2(e,t,a);break;case 3:this._unFilterType3(e,t,a);break;case 4:this._unFilterType4(e,t,a);break;default:throw Error("Unrecognised filter type - "+r)}this.write(t),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=t,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}},141740,(e,t,r)=>{"use strict";let i=e.r(224361),a=e.r(946642),n=e.r(56042),s=t.exports=function(e){a.call(this);let t=[],r=this;this._filter=new n(e,{read:this.read.bind(this),write:function(e){t.push(e)},complete:function(){r.emit("complete",Buffer.concat(t))}}),this._filter.start()};i.inherits(s,a)},172893,(e,t,r)=>{"use strict";t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:0x49484452,TYPE_IEND:0x49454e44,TYPE_IDAT:0x49444154,TYPE_PLTE:0x504c5445,TYPE_tRNS:0x74524e53,TYPE_gAMA:0x67414d41,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},866087,(e,t,r)=>{"use strict";let i=[];!function(){for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=0xedb88320^t>>>1:t>>>=1;i[e]=t}}();let a=t.exports=function(){this._crc=-1};a.prototype.write=function(e){for(let t=0;t<e.length;t++)this._crc=i[(this._crc^e[t])&255]^this._crc>>>8;return!0},a.prototype.crc32=function(){return -1^this._crc},a.crc32=function(e){let t=-1;for(let r=0;r<e.length;r++)t=i[(t^e[r])&255]^t>>>8;return -1^t}},75129,(e,t,r)=>{"use strict";let i=e.r(172893),a=e.r(866087),n=t.exports=function(e,t){this._options=e,e.checkCRC=!1!==e.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[i.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[i.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[i.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[i.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[i.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[i.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished,this.simpleTransparency=t.simpleTransparency,this.headersFinished=t.headersFinished||function(){}};n.prototype.start=function(){this.read(i.PNG_SIGNATURE.length,this._parseSignature.bind(this))},n.prototype._parseSignature=function(e){let t=i.PNG_SIGNATURE;for(let r=0;r<t.length;r++)if(e[r]!==t[r])return void this.error(Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},n.prototype._parseChunkBegin=function(e){let t=e.readUInt32BE(0),r=e.readUInt32BE(4),n="";for(let t=4;t<8;t++)n+=String.fromCharCode(e[t]);let s=!!(32&e[4]);return this._hasIHDR||r===i.TYPE_IHDR?(this._crc=new a,this._crc.write(Buffer.from(n)),this._chunks[r])?this._chunks[r](t):s?void this.read(t+4,this._skipChunk.bind(this)):void this.error(Error("Unsupported critical chunk type "+n)):void this.error(Error("Expected IHDR on beggining"))},n.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},n.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},n.prototype._parseChunkEnd=function(e){let t=e.readInt32BE(0),r=this._crc.crc32();this._options.checkCRC&&r!==t?this.error(Error("Crc error - "+t+" - "+r)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},n.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},n.prototype._parseIHDR=function(e){this._crc.write(e);let t=e.readUInt32BE(0),r=e.readUInt32BE(4),a=e[8],n=e[9],s=e[10],o=e[11],d=e[12];if(8!==a&&4!==a&&2!==a&&1!==a&&16!==a)return void this.error(Error("Unsupported bit depth "+a));if(!(n in i.COLORTYPE_TO_BPP_MAP))return void this.error(Error("Unsupported color type"));if(0!==s)return void this.error(Error("Unsupported compression method"));if(0!==o)return void this.error(Error("Unsupported filter method"));if(0!==d&&1!==d)return void this.error(Error("Unsupported interlace method"));this._colorType=n;let u=i.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:r,depth:a,interlace:!!d,palette:!!(n&i.COLORTYPE_PALETTE),color:!!(n&i.COLORTYPE_COLOR),alpha:!!(n&i.COLORTYPE_ALPHA),bpp:u,colorType:n}),this._handleChunkEnd()},n.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},n.prototype._parsePLTE=function(e){this._crc.write(e);let t=Math.floor(e.length/3);for(let r=0;r<t;r++)this._palette.push([e[3*r],e[3*r+1],e[3*r+2],255]);this.palette(this._palette),this._handleChunkEnd()},n.prototype._handleTRNS=function(e){this.simpleTransparency(),this.read(e,this._parseTRNS.bind(this))},n.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===i.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(Error("Transparency chunk must be after palette"));if(e.length>this._palette.length)return void this.error(Error("More transparent colors than palette size"));for(let t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===i.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===i.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()},n.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},n.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/i.GAMMA_DIVISION),this._handleChunkEnd()},n.prototype._handleIDAT=function(e){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-e,this._parseIDAT.bind(this,e))},n.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===i.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw Error("Expected palette not found");this.inflateData(t);let r=e-t.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},n.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},n.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}},270128,(e,t,r)=>{"use strict";let i=e.r(269168),a=[function(){},function(e,t,r,i){if(i===t.length)throw Error("Ran out of data");let a=t[i];e[r]=a,e[r+1]=a,e[r+2]=a,e[r+3]=255},function(e,t,r,i){if(i+1>=t.length)throw Error("Ran out of data");let a=t[i];e[r]=a,e[r+1]=a,e[r+2]=a,e[r+3]=t[i+1]},function(e,t,r,i){if(i+2>=t.length)throw Error("Ran out of data");e[r]=t[i],e[r+1]=t[i+1],e[r+2]=t[i+2],e[r+3]=255},function(e,t,r,i){if(i+3>=t.length)throw Error("Ran out of data");e[r]=t[i],e[r+1]=t[i+1],e[r+2]=t[i+2],e[r+3]=t[i+3]}],n=[function(){},function(e,t,r,i){let a=t[0];e[r]=a,e[r+1]=a,e[r+2]=a,e[r+3]=i},function(e,t,r){let i=t[0];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=t[1]},function(e,t,r,i){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=i},function(e,t,r){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=t[3]}];function s(e,t){let r=[],i=0;function a(){let a,n,s,o,d,u,l,c;if(i===e.length)throw Error("Ran out of data");let h=e[i];switch(i++,t){default:throw Error("unrecognised depth");case 16:l=e[i],i++,r.push((h<<8)+l);break;case 4:l=15&h,c=h>>4,r.push(c,l);break;case 2:d=3&h,u=h>>2&3,l=h>>4&3,c=h>>6&3,r.push(c,l,u,d);break;case 1:a=1&h,n=h>>1&1,s=h>>2&1,o=h>>3&1,d=h>>4&1,u=h>>5&1,l=h>>6&1,c=h>>7&1,r.push(c,l,u,d,o,s,n,a)}}return{get:function(e){for(;r.length<e;)a();let t=r.slice(0,e);return r=r.slice(e),t},resetAfterLine:function(){r.length=0},end:function(){if(i!==e.length)throw Error("extra data found")}}}function o(e,t,r,i,n,s){let o=e.width,d=e.height,u=e.index;for(let e=0;e<d;e++)for(let d=0;d<o;d++){let o=r(d,e,u);a[i](t,n,o,s),s+=i}return s}function d(e,t,r,i,a,s){let o=e.width,d=e.height,u=e.index;for(let e=0;e<d;e++){for(let d=0;d<o;d++){let o=a.get(i),l=r(d,e,u);n[i](t,o,l,s)}a.resetAfterLine()}}r.dataToBitMap=function(e,t){let r,a,n,u,l=t.width,c=t.height,h=t.depth,p=t.bpp,f=t.interlace;8!==h&&(r=s(e,h)),a=h<=8?Buffer.alloc(l*c*4):new Uint16Array(l*c*4);let m=Math.pow(2,h)-1,_=0;if(f)n=i.getImagePasses(l,c),u=i.getInterlaceIterator(l,c);else{let e=0;u=function(){let t=e;return e+=4,t},n=[{width:l,height:c}]}for(let t=0;t<n.length;t++)8===h?_=o(n[t],a,u,p,e,_):d(n[t],a,u,p,r,m);if(8===h){if(_!==e.length)throw Error("extra data found")}else r.end();return a}},858192,(e,t,r)=>{"use strict";function i(e,t,r,i,a){let n=0;for(let s=0;s<i;s++)for(let i=0;i<r;i++){let r=a[e[n]];if(!r)throw Error("index "+e[n]+" not in palette");for(let e=0;e<4;e++)t[n+e]=r[e];n+=4}}function a(e,t,r,i,a){let n=0;for(let s=0;s<i;s++)for(let i=0;i<r;i++){let r=!1;if(1===a.length?a[0]===e[n]&&(r=!0):a[0]===e[n]&&a[1]===e[n+1]&&a[2]===e[n+2]&&(r=!0),r)for(let e=0;e<4;e++)t[n+e]=0;n+=4}}function n(e,t,r,i,a){let n=255,s=Math.pow(2,a)-1,o=0;for(let a=0;a<i;a++)for(let i=0;i<r;i++){for(let r=0;r<4;r++)t[o+r]=Math.floor(e[o+r]*n/s+.5);o+=4}}t.exports=function(e,t,r=!1){let s=t.depth,o=t.width,d=t.height,u=t.colorType,l=t.transColor,c=t.palette,h=e;return 3===u?i(e,h,o,d,c):(l&&a(e,h,o,d,l),8===s||r||(16===s&&(h=Buffer.alloc(o*d*4)),n(e,h,o,d,s))),h}},25023,(e,t,r)=>{"use strict";let i=e.r(224361),a=e.r(406461),n=e.r(946642),s=e.r(141740),o=e.r(75129),d=e.r(270128),u=e.r(858192),l=t.exports=function(e){n.call(this),this._parser=new o(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};i.inherits(l,n),l.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},l.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=a.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let e=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,t=Math.max(e,a.Z_MIN_CHUNK);this._inflate=a.createInflate({chunkSize:t});let r=e,i=this.emit.bind(this,"error");this._inflate.on("error",function(e){r&&i(e)}),this._filter.on("complete",this._complete.bind(this));let n=this._filter.write.bind(this._filter);this._inflate.on("data",function(e){r&&(e.length>r&&(e=e.slice(0,r)),r-=e.length,n(e))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},l.prototype._handleMetaData=function(e){this._metaData=e,this._bitmapInfo=Object.create(e),this._filter=new s(this._bitmapInfo)},l.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},l.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},l.prototype._simpleTransparency=function(){this._metaData.alpha=!0},l.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},l.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},l.prototype._complete=function(e){let t;if(!this.errord){try{let r=d.dataToBitMap(e,this._bitmapInfo);t=u(r,this._bitmapInfo,this._options.skipRescale),r=null}catch(e){this._handleError(e);return}this.emit("parsed",t)}}},2437,(e,t,r)=>{"use strict";let i=e.r(172893);t.exports=function(e,t,r,a){let n=-1!==[i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(a.colorType);if(a.colorType===a.inputColorType){let t=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256!==new Int16Array(e)[0]}();if(8===a.bitDepth||16===a.bitDepth&&t)return e}let s=16!==a.bitDepth?e:new Uint16Array(e.buffer),o=255,d=i.COLORTYPE_TO_BPP_MAP[a.inputColorType];4!==d||a.inputHasAlpha||(d=3);let u=i.COLORTYPE_TO_BPP_MAP[a.colorType];16===a.bitDepth&&(o=65535,u*=2);let l=Buffer.alloc(t*r*u),c=0,h=0,p=a.bgColor||{};function f(){let e,t,r,d=o;switch(a.inputColorType){case i.COLORTYPE_COLOR_ALPHA:d=s[c+3],e=s[c],t=s[c+1],r=s[c+2];break;case i.COLORTYPE_COLOR:e=s[c],t=s[c+1],r=s[c+2];break;case i.COLORTYPE_ALPHA:d=s[c+1],t=e=s[c],r=e;break;case i.COLORTYPE_GRAYSCALE:t=e=s[c],r=e;break;default:throw Error("input color type:"+a.inputColorType+" is not supported at present")}return a.inputHasAlpha&&!n&&(d/=o,e=Math.min(Math.max(Math.round((1-d)*p.red+d*e),0),o),t=Math.min(Math.max(Math.round((1-d)*p.green+d*t),0),o),r=Math.min(Math.max(Math.round((1-d)*p.blue+d*r),0),o)),{red:e,green:t,blue:r,alpha:d}}void 0===p.red&&(p.red=o),void 0===p.green&&(p.green=o),void 0===p.blue&&(p.blue=o);for(let e=0;e<r;e++)for(let e=0;e<t;e++){let e=f(s,c);switch(a.colorType){case i.COLORTYPE_COLOR_ALPHA:case i.COLORTYPE_COLOR:8===a.bitDepth?(l[h]=e.red,l[h+1]=e.green,l[h+2]=e.blue,n&&(l[h+3]=e.alpha)):(l.writeUInt16BE(e.red,h),l.writeUInt16BE(e.green,h+2),l.writeUInt16BE(e.blue,h+4),n&&l.writeUInt16BE(e.alpha,h+6));break;case i.COLORTYPE_ALPHA:case i.COLORTYPE_GRAYSCALE:{let t=(e.red+e.green+e.blue)/3;8===a.bitDepth?(l[h]=t,n&&(l[h+1]=e.alpha)):(l.writeUInt16BE(t,h),n&&l.writeUInt16BE(e.alpha,h+2));break}default:throw Error("unrecognised color Type "+a.colorType)}c+=d,h+=u}return l}},324362,(e,t,r)=>{"use strict";let i=e.r(633980),a={0:function(e,t,r,i,a){for(let n=0;n<r;n++)i[a+n]=e[t+n]},1:function(e,t,r,i,a,n){for(let s=0;s<r;s++){let r=s>=n?e[t+s-n]:0,o=e[t+s]-r;i[a+s]=o}},2:function(e,t,r,i,a){for(let n=0;n<r;n++){let s=t>0?e[t+n-r]:0,o=e[t+n]-s;i[a+n]=o}},3:function(e,t,r,i,a,n){for(let s=0;s<r;s++){let o=s>=n?e[t+s-n]:0,d=t>0?e[t+s-r]:0,u=e[t+s]-(o+d>>1);i[a+s]=u}},4:function(e,t,r,a,n,s){for(let o=0;o<r;o++){let d=o>=s?e[t+o-s]:0,u=t>0?e[t+o-r]:0,l=t>0&&o>=s?e[t+o-(r+s)]:0,c=e[t+o]-i(d,u,l);a[n+o]=c}}},n={0:function(e,t,r){let i=0,a=t+r;for(let r=t;r<a;r++)i+=Math.abs(e[r]);return i},1:function(e,t,r,i){let a=0;for(let n=0;n<r;n++){let r=n>=i?e[t+n-i]:0;a+=Math.abs(e[t+n]-r)}return a},2:function(e,t,r){let i=0,a=t+r;for(let n=t;n<a;n++){let a=t>0?e[n-r]:0;i+=Math.abs(e[n]-a)}return i},3:function(e,t,r,i){let a=0;for(let n=0;n<r;n++){let s=n>=i?e[t+n-i]:0,o=t>0?e[t+n-r]:0;a+=Math.abs(e[t+n]-(s+o>>1))}return a},4:function(e,t,r,a){let n=0;for(let s=0;s<r;s++){let o=s>=a?e[t+s-a]:0,d=t>0?e[t+s-r]:0,u=t>0&&s>=a?e[t+s-(r+a)]:0;n+=Math.abs(e[t+s]-i(o,d,u))}return n}};t.exports=function(e,t,r,i,s){let o;if("filterType"in i&&-1!==i.filterType)if("number"==typeof i.filterType)o=[i.filterType];else throw Error("unrecognised filter types");else o=[0,1,2,3,4];16===i.bitDepth&&(s*=2);let d=t*s,u=0,l=0,c=Buffer.alloc((d+1)*r),h=o[0];for(let t=0;t<r;t++){if(o.length>1){let t=1/0;for(let r=0;r<o.length;r++){let i=n[o[r]](e,l,d,s);i<t&&(h=o[r],t=i)}}c[u]=h,u++,a[h](e,l,d,c,u,s),u+=d,l+=d}return c}},590434,(e,t,r)=>{"use strict";let i=e.r(172893),a=e.r(866087),n=e.r(2437),s=e.r(324362),o=e.r(406461),d=t.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null==e.inputHasAlpha||e.inputHasAlpha,e.deflateFactory=e.deflateFactory||o.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType="number"==typeof e.colorType?e.colorType:i.COLORTYPE_COLOR_ALPHA,e.inputColorType="number"==typeof e.inputColorType?e.inputColorType:i.COLORTYPE_COLOR_ALPHA,-1===[i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(e.colorType))throw Error("option color type:"+e.colorType+" is not supported at present");if(-1===[i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(e.inputColorType))throw Error("option input color type:"+e.inputColorType+" is not supported at present");if(8!==e.bitDepth&&16!==e.bitDepth)throw Error("option bit depth:"+e.bitDepth+" is not supported at present")};d.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},d.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},d.prototype.filterData=function(e,t,r){let a=n(e,t,r,this._options),o=i.COLORTYPE_TO_BPP_MAP[this._options.colorType];return s(a,t,r,this._options,o)},d.prototype._packChunk=function(e,t){let r=t?t.length:0,i=Buffer.alloc(r+12);return i.writeUInt32BE(r,0),i.writeUInt32BE(e,4),t&&t.copy(i,8),i.writeInt32BE(a.crc32(i.slice(4,i.length-4)),i.length-4),i},d.prototype.packGAMA=function(e){let t=Buffer.alloc(4);return t.writeUInt32BE(Math.floor(e*i.GAMMA_DIVISION),0),this._packChunk(i.TYPE_gAMA,t)},d.prototype.packIHDR=function(e,t){let r=Buffer.alloc(13);return r.writeUInt32BE(e,0),r.writeUInt32BE(t,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(i.TYPE_IHDR,r)},d.prototype.packIDAT=function(e){return this._packChunk(i.TYPE_IDAT,e)},d.prototype.packIEND=function(){return this._packChunk(i.TYPE_IEND,null)}},181555,(e,t,r)=>{"use strict";let i=e.r(224361),a=e.r(688947),n=e.r(172893),s=e.r(590434),o=t.exports=function(e){a.call(this);let t=e||{};this._packer=new s(t),this._deflate=this._packer.createDeflate(),this.readable=!0};i.inherits(o,a),o.prototype.pack=function(e,t,r,i){this.emit("data",Buffer.from(n.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),i&&this.emit("data",this._packer.packGAMA(i));let a=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(e){this.emit("data",this._packer.packIDAT(e))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(a)}},948607,(e,t,r)=>{"use strict";let i=e.r(449719).ok,a=e.r(406461),n=e.r(224361),s=e.r(500874).kMaxLength;function o(e){if(!(this instanceof o))return new o(e);e&&e.chunkSize<a.Z_MIN_CHUNK&&(e.chunkSize=a.Z_MIN_CHUNK),a.Inflate.call(this,e),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&null!=e.maxLength&&(this._maxLength=e.maxLength)}function d(e){return new o(e)}function u(e,t){t&&process.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function l(e,t){if("string"==typeof t&&(t=Buffer.from(t)),!(t instanceof Buffer))throw TypeError("Not a string or buffer");let r=e._finishFlushFlag;return null==r&&(r=a.Z_FINISH),e._processChunk(t,r)}function c(e,t){return l(new o(t),e)}o.prototype._processChunk=function(e,t,r){let n,o;if("function"==typeof r)return a.Inflate._processChunk.call(this,e,t,r);let d=this,l=e&&e.length,c=this._chunkSize-this._offset,h=this._maxLength,p=0,f=[],m=0;function _(e,t){if(d._hadError)return;let r=c-t;if(i(r>=0,"have should not go down"),r>0){let e=d._buffer.slice(d._offset,d._offset+r);if(d._offset+=r,e.length>h&&(e=e.slice(0,h)),f.push(e),m+=e.length,0==(h-=e.length))return!1}return(0===t||d._offset>=d._chunkSize)&&(c=d._chunkSize,d._offset=0,d._buffer=Buffer.allocUnsafe(d._chunkSize)),0===t&&(p+=l-e,l=e,!0)}this.on("error",function(e){n=e}),i(this._handle,"zlib binding closed");do o=(o=this._handle.writeSync(t,e,p,l,this._buffer,this._offset,c))||this._writeState;while(!this._hadError&&_(o[0],o[1]))if(this._hadError)throw n;if(m>=s)throw u(this),RangeError("Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes");let g=Buffer.concat(f,m);return u(this),g},n.inherits(o,a.Inflate),t.exports=r=c,r.Inflate=o,r.createInflate=d,r.inflateSync=c},624849,(e,t,r)=>{"use strict";let i=t.exports=function(e){this._buffer=e,this._reads=[]};i.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},i.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(this._buffer.length&&(this._buffer.length>=e.length||e.allowLess)){this._reads.shift();let t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}else break}if(this._reads.length>0)throw Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw Error("unrecognised content at end of stream")}},215963,(e,t,r)=>{"use strict";let i=e.r(624849),a=e.r(56042);r.process=function(e,t){let r=[],n=new i(e);return new a(t,{read:n.read.bind(n),write:function(e){r.push(e)},complete:function(){}}).start(),n.process(),Buffer.concat(r)}},297133,(e,t,r)=>{"use strict";let i=!0,a=e.r(406461),n=e.r(948607);a.deflateSync||(i=!1);let s=e.r(624849),o=e.r(215963),d=e.r(75129),u=e.r(270128),l=e.r(858192);t.exports=function(e,t){let r,c,h,p;if(!i)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");function f(e){r=e}function m(e){c=e}function _(e){c.transColor=e}function g(e){c.palette=e}function y(){c.alpha=!0}function v(e){h=e}let b=[];function x(e){b.push(e)}let k=new s(e);if(new d(t,{read:k.read.bind(k),error:f,metadata:m,gamma:v,palette:g,transColor:_,inflateData:x,simpleTransparency:y}).start(),k.process(),r)throw r;let w=Buffer.concat(b);if(b.length=0,c.interlace)p=a.inflateSync(w);else{let e=((c.width*c.bpp*c.depth+7>>3)+1)*c.height;p=n(w,{chunkSize:e,maxLength:e})}if(w=null,!p||!p.length)throw Error("bad png - invalid inflate data response");let T=o.process(p,c);w=null;let Z=u.dataToBitMap(T,c);T=null;let E=l(Z,c,t.skipRescale);return c.data=E,c.gamma=h||0,c}},302254,(e,t,r)=>{"use strict";let i=!0,a=e.r(406461);a.deflateSync||(i=!1);let n=e.r(172893),s=e.r(590434);t.exports=function(e,t){if(!i)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r=new s(t||{}),o=[];o.push(Buffer.from(n.PNG_SIGNATURE)),o.push(r.packIHDR(e.width,e.height)),e.gamma&&o.push(r.packGAMA(e.gamma));let d=r.filterData(e.data,e.width,e.height),u=a.deflateSync(d,r.getDeflateOptions());if(d=null,!u||!u.length)throw Error("bad png - invalid compressed data response");return o.push(r.packIDAT(u)),o.push(r.packIEND()),Buffer.concat(o)}},696413,(e,t,r)=>{"use strict";let i=e.r(297133),a=e.r(302254);r.read=function(e,t){return i(e,t||{})},r.write=function(e,t){return a(e,t)}},762413,(e,t,r)=>{"use strict";let i=e.r(224361),a=e.r(688947),n=e.r(25023),s=e.r(181555),o=e.r(696413),d=r.PNG=function(e){a.call(this),e=e||{},this.width=0|e.width,this.height=0|e.height,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new n(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(e){this.data=e,this.emit("parsed",e)}).bind(this)),this._packer=new s(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};i.inherits(d,a),d.sync=o,d.prototype.pack=function(){return this.data&&this.data.length?process.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)):this.emit("error","No data provided"),this},d.prototype.parse=function(e,t){if(t){let e,r;e=(function(e){this.removeListener("error",r),this.data=e,t(null,this)}).bind(this),r=(function(r){this.removeListener("parsed",e),t(r,null)}).bind(this),this.once("parsed",e),this.once("error",r)}return this.end(e),this},d.prototype.write=function(e){return this._parser.write(e),!0},d.prototype.end=function(e){this._parser.end(e)},d.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},d.prototype._gamma=function(e){this.gamma=e},d.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},d.bitblt=function(e,t,r,i,a,n,s,o){if(i|=0,a|=0,n|=0,s|=0,o|=0,(r|=0)>e.width||i>e.height||r+a>e.width||i+n>e.height)throw Error("bitblt reading outside image");if(s>t.width||o>t.height||s+a>t.width||o+n>t.height)throw Error("bitblt writing outside image");for(let d=0;d<n;d++)e.data.copy(t.data,(o+d)*t.width+s<<2,(i+d)*e.width+r<<2,(i+d)*e.width+r+a<<2)},d.prototype.bitblt=function(e,t,r,i,a,n,s){return d.bitblt(this,e,t,r,i,a,n,s),this},d.adjustGamma=function(e){if(e.gamma){for(let t=0;t<e.height;t++)for(let r=0;r<e.width;r++){let i=e.width*t+r<<2;for(let t=0;t<3;t++){let r=e.data[i+t]/255;r=Math.pow(r,1/2.2/e.gamma),e.data[i+t]=Math.round(255*r)}}e.gamma=0}},d.prototype.adjustGamma=function(){d.adjustGamma(this)}},75288,(e,t,r)=>{!function(){var r={};function i(){"undefined"==typeof process&&console.log.apply(console,arguments)}t.exports=r,function(e,t){!function(){"use strict";var t=function(){function e(e){this.message="JPEG error: "+e}return e.prototype=Error(),e.prototype.name="JpegError",e.constructor=e,e}();function r(e,t){return e[t]<<8|e[t+1]}e.JpegDecoder=function(){var e=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),i=4017,a=799,n=3406,s=2276,o=1567,d=3784,u=5793,l=2896;function c(e){null==e&&(e={}),null==e.w&&(e.w=-1),this.V=e.n,this.N=e.w}function h(e,t){for(var r,i,a,n=0,s=[],o=16;o>0&&!e[o-1];)o--;s.push({children:[],index:0});var d=s[0];for(r=0;r<o;r++){for(i=0;i<e[r];i++){for((d=s.pop()).children[d.index]=t[n];d.index>0;)d=s.pop();for(d.index++,s.push(d);s.length<=r;)s.push(a={children:[],index:0}),d.children[d.index]=a.children,d=a;n++}r+1<o&&(s.push(a={children:[],index:0}),d.children[d.index]=a.children,d=a)}return s[0].children}function p(e,t,r){return 64*((e.P+1)*t+r)}function f(i,a,n,s,o,d,u,l,c,h){null==h&&(h=!1);var f,m,_,y,v,b,x,k,w,T,Z,E=n.m,A=n.Z,S=a,O=0,I=0,C=0,N=0,M=0,P=0;function j(){if(I>0)return I--,O>>I&1;if(255===(O=i[a++])){var e=i[a++];if(e){if(220===e&&h){var s=r(i,a+=2);if(a+=2,s>0&&s!==n.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",s)}else if(217===e){if(h){var o=8*M;if(o>0&&o<n.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",o)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new t("unexpected marker")}}return I=7,O>>>7}function R(e){for(var r=e;;){switch(typeof(r=r[j()])){case"number":return r;case"object":continue}throw new t("invalid huffman sequence")}}function D(e){for(var t=0;e>0;)t=t<<1|j(),e--;return t}function L(e){if(1===e)return 1===j()?1:-1;var t=D(e);return t>=1<<e-1?t:t+(-1<<e)+1}function F(t,r){var i=R(t.J),a=0===i?0:L(i),n=1;for(t.D[r]=t.Q+=a;n<64;){var s=R(t.i),o=15&s,d=s>>4;if(0===o){if(d<15)break;n+=16;continue}var u=e[n+=d];t.D[r+u]=L(o),n++}}function B(e,t){var r=R(e.J),i=0===r?0:L(r)<<c;e.D[t]=e.Q+=i}function z(e,t){e.D[t]|=j()<<c}function $(t,r){if(C>0)return void C--;for(var i=d,a=u;i<=a;){var n=R(t.i),s=15&n,o=n>>4;if(0===s){if(o<15){C=D(o)+(1<<o)-1;break}i+=16;continue}var l=e[i+=o];t.D[r+l]=L(s)*(1<<c),i++}}function U(r,i){for(var a,n,s=d,o=u,l=0;s<=o;){var h=i+e[s],p=r.D[h]<0?-1:1;switch(N){case 0:if(a=15&(n=R(r.i)),l=n>>4,0===a)l<15?(C=D(l)+(1<<l),N=4):(l=16,N=1);else{if(1!==a)throw new t("invalid ACn encoding");f=L(a),N=l?2:3}continue;case 1:case 2:r.D[h]?r.D[h]+=p*(j()<<c):0==--l&&(N=3*(2===N));break;case 3:r.D[h]?r.D[h]+=p*(j()<<c):(r.D[h]=f<<c,N=0);break;case 4:r.D[h]&&(r.D[h]+=p*(j()<<c))}s++}4===N&&0==--C&&(N=0)}function V(e,t,r,i,a){var n=r/E|0,s=r%E;M=n*e.A+i;var o=s*e.h+a,d=p(e,M,o);t(e,d)}function W(e,t,r){M=r/e.P|0;var i=r%e.P,a=p(e,M,i);t(e,a)}var K=s.length;for(x=A?0===d?0===l?B:z:0===l?$:U:F,w=1===K?s[0].P*s[0].c:E*n.R;P<=w;){var q=o?Math.min(w-P,o):w;if(q>0){for(_=0;_<K;_++)s[_].Q=0;if(C=0,1===K)for(b=0,m=s[0];b<q;b++)W(m,x,P),P++;else for(b=0;b<q;b++){for(_=0;_<K;_++)for(y=0,T=(m=s[_]).h,Z=m.A;y<Z;y++)for(v=0;v<T;v++)V(m,x,P,y,v);P++}}if(I=0,!(k=g(i,a)))break;if(k.u&&(a=k.offset),k.M>=65488&&k.M<=65495)a+=2;else break}return a-S}function m(e,r,c){var h,p,f,m,_,g,y,v,b,x,k,w,T,Z,E,A,S,O=e.$,I=e.D;if(!O)throw new t("missing required Quantization Table.");for(var C=0;C<64;C+=8){if(b=I[r+C],x=I[r+C+1],k=I[r+C+2],w=I[r+C+3],T=I[r+C+4],Z=I[r+C+5],E=I[r+C+6],A=I[r+C+7],b*=O[C],(x|k|w|T|Z|E|A)==0){S=u*b+512>>10,c[C]=S,c[C+1]=S,c[C+2]=S,c[C+3]=S,c[C+4]=S,c[C+5]=S,c[C+6]=S,c[C+7]=S;continue}x*=O[C+1],k*=O[C+2],w*=O[C+3],T*=O[C+4],Z*=O[C+5],E*=O[C+6],A*=O[C+7],h=u*b+128>>8,p=u*T+128>>8,f=k,m=E,_=l*(x-A)+128>>8,v=l*(x+A)+128>>8,g=w<<4,y=Z<<4,p=(h=h+p+1>>1)-p,S=f*d+m*o+128>>8,f=f*o-m*d+128>>8,m=S,y=(_=_+y+1>>1)-y,g=(v=v+g+1>>1)-g,m=(h=h+m+1>>1)-m,f=(p=p+f+1>>1)-f,S=_*s+v*n+2048>>12,_=_*n-v*s+2048>>12,v=S,S=g*a+y*i+2048>>12,g=g*i-y*a+2048>>12,y=S,c[C]=h+v,c[C+7]=h-v,c[C+1]=p+y,c[C+6]=p-y,c[C+2]=f+g,c[C+5]=f-g,c[C+3]=m+_,c[C+4]=m-_}for(var N=0;N<8;++N){if(b=c[N],x=c[N+8],k=c[N+16],w=c[N+24],T=c[N+32],Z=c[N+40],(x|k|w|T|Z|(E=c[N+48])|(A=c[N+56]))==0){S=(S=u*b+8192>>14)<-2040?0:S>=2024?255:S+2056>>4,I[r+N]=S,I[r+N+8]=S,I[r+N+16]=S,I[r+N+24]=S,I[r+N+32]=S,I[r+N+40]=S,I[r+N+48]=S,I[r+N+56]=S;continue}h=u*b+2048>>12,p=u*T+2048>>12,f=k,m=E,_=l*(x-A)+2048>>12,v=l*(x+A)+2048>>12,g=w,y=Z,p=(h=(h+p+1>>1)+4112)-p,S=f*d+m*o+2048>>12,f=f*o-m*d+2048>>12,m=S,y=(_=_+y+1>>1)-y,g=(v=v+g+1>>1)-g,m=(h=h+m+1>>1)-m,f=(p=p+f+1>>1)-f,S=_*s+v*n+2048>>12,_=_*n-v*s+2048>>12,v=S,S=g*a+y*i+2048>>12,g=g*i-y*a+2048>>12,y=S,b=h+v,A=h-v,x=p+y,E=p-y,k=f+g,Z=f-g,b<16?b=0:b>=4080?b=255:b>>=4,x<16?x=0:x>=4080?x=255:x>>=4,k<16?k=0:k>=4080?k=255:k>>=4,(w=m+_)<16?w=0:w>=4080?w=255:w>>=4,(T=m-_)<16?T=0:T>=4080?T=255:T>>=4,Z<16?Z=0:Z>=4080?Z=255:Z>>=4,E<16?E=0:E>=4080?E=255:E>>=4,A<16?A=0:A>=4080?A=255:A>>=4,I[r+N]=b,I[r+N+8]=x,I[r+N+16]=k,I[r+N+24]=w,I[r+N+32]=T,I[r+N+40]=Z,I[r+N+48]=E,I[r+N+56]=A}}function _(e,t){for(var r=t.P,i=t.c,a=new Int16Array(64),n=0;n<i;n++)for(var s=0;s<r;s++){var o=p(t,n,s);m(t,o,a)}return t.D}function g(e,t,i){null==i&&(i=t);var a=e.length-1,n=i<t?i:t;if(t>=a)return null;var s=r(e,t);if(s>=65472&&s<=65534)return{u:null,M:s,offset:t};for(var o=r(e,n);!(o>=65472&&o<=65534);){if(++n>=a)return null;o=r(e,n)}return{u:s.toString(16),M:o,offset:n}}return c.prototype={parse(i,a){null==a&&(a={});var n,s,o=a.F,d=0,u=null,l=null,c=0;function p(){var e=r(i,d),t=(d+=2)+e-2,a=g(i,t,d);a&&a.u&&(t=a.offset);var n=i.subarray(d,t);return d+=n.length,n}function m(e){for(var t=Math.ceil(e.o/8/e.X),r=Math.ceil(e.s/8/e.B),i=0;i<e.W.length;i++){V=e.W[i];var a=Math.ceil(Math.ceil(e.o/8)*V.h/e.X),n=Math.ceil(Math.ceil(e.s/8)*V.A/e.B),s=t*V.h,o=64*(r*V.A)*(s+1);V.D=new Int16Array(o),V.P=a,V.c=n}e.m=t,e.R=r}var y=[],v=[],b=[],x=r(i,0);if(d+=2,65496!==x)throw new t("SOI not found");x=r(i,d),d+=2;e:for(;65497!==x;){switch(x){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var k=p();65504===x&&74===k[0]&&70===k[1]&&73===k[2]&&70===k[3]&&0===k[4]&&(u={version:{d:k[5],T:k[6]},K:k[7],j:k[8]<<8|k[9],H:k[10]<<8|k[11],S:k[12],I:k[13],C:k.subarray(14,14+3*k[12]*k[13])}),65518===x&&65===k[0]&&100===k[1]&&111===k[2]&&98===k[3]&&101===k[4]&&(l={version:k[5]<<8|k[6],k:k[7]<<8|k[8],q:k[9]<<8|k[10],a:k[11]});break;case 65499:for(var w,T,Z,E,A=r(i,d),S=A+(d+=2)-2;d<S;){var O=i[d++],I=new Uint16Array(64);if(O>>4==0)for(T=0;T<64;T++)I[E=e[T]]=i[d++];else if(O>>4==1)for(T=0;T<64;T++)I[E=e[T]]=r(i,d),d+=2;else throw new t("DQT - invalid table spec");y[15&O]=I}break;case 65472:case 65473:case 65474:if(n)throw new t("Only single frame JPEGs supported");d+=2,(n={}).G=65473===x,n.Z=65474===x,n.precision=i[d++];var C,N=r(i,d),M=0,P=0;d+=2,n.s=o||N,n.o=r(i,d),d+=2,n.W=[],n._={};var j=i[d++];for(w=0;w<j;w++){C=i[d];var R=i[d+1]>>4,D=15&i[d+1];M<R&&(M=R),P<D&&(P=D);var L=i[d+2];Z=n.W.push({h:R,A:D,L:L,$:null}),n._[C]=Z-1,d+=3}n.X=M,n.B=P,m(n);break;case 65476:var F=r(i,d);for(d+=2,w=2;w<F;){var B=i[d++],z=new Uint8Array(16),$=0;for(T=0;T<16;T++,d++)$+=z[T]=i[d];var U=new Uint8Array($);for(T=0;T<$;T++,d++)U[T]=i[d];w+=17+$,(B>>4==0?b:v)[15&B]=h(z,U)}break;case 65501:d+=2,s=r(i,d),d+=2;break;case 65498:var V,W=1==++c&&!o;d+=2;var K=i[d++],q=[];for(w=0;w<K;w++){var G=i[d++],H=n._[G];(V=n.W[H]).index=G;var Y=i[d++];V.J=b[Y>>4],V.i=v[15&Y],q.push(V)}var J=i[d++],X=i[d++],Q=i[d++];try{var ee=f(i,d,n,q,s,J,X,Q>>4,15&Q,W);d+=ee}catch(e){if(e instanceof DNLMarkerError)return this.parse(i,{F:e.s});if(e instanceof EOIMarkerError)break e;throw e}break;case 65500:d+=4;break;case 65535:255!==i[d]&&d--;break;default:var et=g(i,d-2,d-3);if(et&&et.u){d=et.offset;break}if(d>=i.length-1)break e;throw new t("JpegImage.parse - unknown marker: "+x.toString(16))}x=r(i,d),d+=2}for(w=0,this.width=n.o,this.height=n.s,this.g=u,this.b=l,this.W=[];w<n.W.length;w++){var er=y[(V=n.W[w]).L];er&&(V.$=er),this.W.push({index:V.index,e:_(n,V),l:V.h/n.X,t:V.A/n.B,P:V.P,c:V.c})}this.p=this.W.length},Y(e,t,r){null==r&&(r=!1);var i,a,n,s,o,d,u,l,c,h,p,f,m=this.width/e,_=this.height/t,g=0,y=this.W.length,v=e*t*y,b=new Uint8ClampedArray(v),x=new Uint32Array(e),k=0xfffffff8;for(u=0;u<y;u++){if(a=(i=this.W[u]).l*m,n=i.t*_,g=u,p=i.e,s=i.P+1<<3,a!==f){for(o=0;o<e;o++)l=0|o*a,x[o]=(l&k)<<3|7&l;f=a}for(d=0;d<t;d++)for(o=0,h=s*((l=0|d*n)&k)|(7&l)<<3;o<e;o++)b[g]=p[h+x[o]],g+=y}var w=this.V;if(r||4!==y||w||(w=new Int32Array([-256,255,-256,255,-256,255,-256,255])),w)for(u=0;u<v;)for(l=0,c=0;l<y;l++,u++,c+=2)b[u]=(b[u]*w[c]>>8)+w[c+1];return b},get f(){if(this.b)return!!this.b.a;if(3===this.p){if(0===this.N||82===this.W[0].index&&71===this.W[1].index&&66===this.W[2].index)return!1;return!0}if(1===this.N)return!0;return!1},z:function(e){for(var t,r,i,a=0,n=e.length;a<n;a+=3)t=e[a],r=e[a+1],i=e[a+2],e[a]=t-179.456+1.402*i,e[a+1]=t+135.459-.344*r-.714*i,e[a+2]=t-226.816+1.772*r;return e},O:function(e){for(var t,r,i,a,n=0,s=0,o=e.length;s<o;s+=4)t=e[s],r=e[s+1],i=e[s+2],a=e[s+3],e[n++]=-122.67195406894+r*(-660635669420364e-19*r+437130475926232e-18*i-54080610064599e-18*t+48449797120281e-17*a-.154362151871126)+i*(-957964378445773e-18*i+817076911346625e-18*t-.00477271405408747*a+1.53380253221734)+t*(961250184130688e-18*t-.00266257332283933*a+.48357088451265)+a*(-336197177618394e-18*a+.484791561490776),e[n++]=107.268039397724+r*(219927104525741e-19*r-640992018297945e-18*i+659397001245577e-18*t+426105652938837e-18*a-.176491792462875)+i*(-778269941513683e-18*i+.00130872261408275*t+770482631801132e-18*a-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*a+.25802910206845)+a*(-318913117588328e-18*a-.213742400323665),e[n++]=-20.810012546947+r*(-570115196973677e-18*r-263409051004589e-19*i+.0020741088115012*t-.00288260236853442*a+.814272968359295)+i*(-153496057440975e-19*i-132689043961446e-18*t+560833691242812e-18*a-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*a+.116935020465145)+a*(-343531996510555e-18*a+.24165260232407);return e.subarray(0,n)},r:function(e){for(var t,r,i,a=0,n=e.length;a<n;a+=4)t=e[a],r=e[a+1],i=e[a+2],e[a]=434.456-t-1.402*i,e[a+1]=119.541-t+.344*r+.714*i,e[a+2]=481.816-t-1.772*r;return e},U:function(e){for(var t,r,i,a,n=0,s=0,o=e.length;s<o;s+=4)t=e[s],r=e[s+1],i=e[s+2],a=e[s+3],e[n++]=255+t*(-6747147073602441e-20*t+8379262121013727e-19*r+2894718188643294e-19*i+.003264231057537806*a-1.1185611867203937)+r*(26374107616089405e-21*r-8626949158638572e-20*i-2748769067499491e-19*a-.02155688794978967)+i*(-3878099212869363e-20*i-3267808279485286e-19*a+.0686742238595345)-a*(3361971776183937e-19*a+.7430659151342254),e[n++]=255+t*(13596372813588848e-20*t+924537132573585e-18*r+10567359618683593e-20*i+4791864687436512e-19*a-.3109689587515875)+r*(-23545346108370344e-20*r+2702845253534714e-19*i+.0020200308977307156*a-.7488052167015494)+i*(6834815998235662e-20*i+15168452363460973e-20*a-.09751927774728933)-a*(3189131175883281e-19*a+.7364883807733168),e[n++]=255+t*(13598650411385307e-21*t+12423956175490851e-20*r+4751985097583589e-19*i-36729317476630422e-22*a-.05562186980264034)+r*(16141380598724676e-20*r+9692239130725186e-19*i+7782692450036253e-19*a-.44015232367526463)+i*(5068882914068769e-22*i+.0017778369011375071*a-.7591454649749609)-a*(3435319965105553e-19*a+.7063770186160144);return e.subarray(0,n)},getData:function(e){var r=e.width,i=e.height,a=e.forceRGB,n=e.isSourcePDF;if(this.p>4)throw new t("Unsupported color mode");var s=this.Y(r,i,n);if(1===this.p&&a){for(var o=s.length,d=new Uint8ClampedArray(3*o),u=0,l=0;l<o;l++){var c=s[l];d[u++]=c,d[u++]=c,d[u++]=c}return d}if(3===this.p&&this.f)return this.z(s);if(4===this.p){if(this.f)return a?this.O(s):this.r(s);else if(a)return this.U(s)}return s}},c}()}(),e.encodeImage=function(t,r,i,a){var n={t256:[r],t257:[i],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[i],t279:[r*i*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(a)for(var s in a)n[s]=a[s];for(var o=new Uint8Array(e.encode([n])),d=new Uint8Array(t),u=new Uint8Array(1e3+r*i*4),s=0;s<o.length;s++)u[s]=o[s];for(var s=0;s<d.length;s++)u[1e3+s]=d[s];return u.buffer},e.encode=function(t){var r=new Uint8Array(2e4),i=4,a=e._binBE;r[0]=r[1]=77,a.writeUshort(r,2,42);var n=8;a.writeUint(r,i,n),i+=4;for(var s=0;s<t.length;s++){var o=e._writeIFD(a,e._types.basic,r,n,t[s]);n=o[1],s<t.length-1&&((3&n)!=0&&(n+=4-(3&n)),a.writeUint(r,o[0],n))}return r.slice(0,n).buffer},e.decode=function(t,r){null==r&&(r={parseMN:!0,debug:!1});var a=new Uint8Array(t),n=0,s=e._binBE.readASCII(a,n,2);n+=2;var o="II"==s?e._binLE:e._binBE;o.readUshort(a,n),n+=2;var d=o.readUint(a,n);n+=4;for(var u=[];;){var l=o.readUshort(a,d),c=o.readUshort(a,d+4);if(0!=l&&(c<1||13<c)){i("error in TIFF");break}if(e._readIFD(o,a,d,u,0,r),0==(d=o.readUint(a,d+2+12*l)))break}return u},e.decodeImage=function(t,r,a){if(!r.data){var n=new Uint8Array(t),s=e._binBE.readASCII(n,0,2);if(null!=r.t256){r.isLE="II"==s,r.width=r.t256[0],r.height=r.t257[0];var o=r.t259?r.t259[0]:1,d=r.t266?r.t266[0]:1;r.t284&&2==r.t284[0]&&i("PlanarConfiguration 2 should not be used!"),7==o&&r.t258&&r.t258.length>3&&(r.t258=r.t258.slice(0,3));var u=r.t277?r.t277[0]:1,l=r.t258?r.t258[0]:1,c=l*u;1==o&&null!=r.t279&&r.t278&&32803==r.t262[0]&&(c=Math.round(8*r.t279[0]/(r.width*r.t278[0]))),r.t50885&&4==r.t50885[0]&&(c=3*r.t258[0]);var h=8*Math.ceil(r.width*c/8),p=r.t273;(null==p||r.t322)&&(p=r.t324);var f=r.t279;1==o&&1==p.length&&(f=[r.height*(h>>>3)]),(null==f||r.t322)&&(f=r.t325);var m=new Uint8Array(r.height*(h>>>3)),_=0;if(null!=r.t322){var g=r.t322[0],y=r.t323[0],v=Math.floor((r.width+g-1)/g),b=Math.floor((r.height+y-1)/y),x=new Uint8Array(0|Math.ceil(g*y*c/8));console.log("====",v,b);for(var k=0;k<b;k++)for(var w=0;w<v;w++){var T=k*v+w;x.fill(0),e.decode._decompress(r,a,n,p[T],f[T],o,x,0,d,g,y),6==o?m=x:e._copyTile(x,0|Math.ceil(g*c/8),y,m,0|Math.ceil(r.width*c/8),r.height,0|Math.ceil(w*g*c/8),k*y)}_=8*m.length}else{if(null==p)return;var Z=r.t278?r.t278[0]:r.height;Z=Math.min(Z,r.height);for(var T=0;T<p.length;T++)e.decode._decompress(r,a,n,p[T],f[T],o,m,0|Math.ceil(_/8),d,r.width,Z),_+=h*Z;_=Math.min(_,8*m.length)}r.data=new Uint8Array(m.buffer,0,0|Math.ceil(_/8))}}},e.decode._decompress=function(r,a,n,s,o,d,u,l,c,h,p){if(r.t271&&"Panasonic"==r.t271[0]&&r.t45&&6==r.t45[0]&&(d=34316),1==d)for(var f=0;f<o;f++)u[l+f]=n[s+f];else if(2==d)e.decode._decodeG2(n,s,o,u,l,h,c);else if(3==d)e.decode._decodeG3(n,s,o,u,l,h,c,!!r.t292&&(1&r.t292[0])==1);else if(4==d)e.decode._decodeG4(n,s,o,u,l,h,c);else if(5==d)e.decode._decodeLZW(n,s,o,u,l,8);else if(6==d)e.decode._decodeOldJPEG(r,n,s,o,u,l);else if(7==d||34892==d)e.decode._decodeNewJPEG(r,n,s,o,u,l);else if(8==d||32946==d){var m=new Uint8Array(n.buffer,s+2,o-6),_=t.inflateRaw(m);l+_.length<=u.length&&u.set(_,l)}else 9==d?e.decode._decodeVC5(n,s,o,u,l,r.t33422):32767==d?e.decode._decodeARW(r,n,s,o,u,l):32773==d?e.decode._decodePackBits(n,s,o,u,l):32809==d?e.decode._decodeThunder(n,s,o,u,l):34316==d?e.decode._decodePanasonic(r,n,s,o,u,l):34713==d?e.decode._decodeNikon(r,a,n,s,o,u,l):34676==d?e.decode._decodeLogLuv32(r,n,s,o,u,l):i("Unknown compression",d);var g=r.t258?Math.min(32,r.t258[0]):1,y=r.t277?r.t277[0]:1,v=g*y>>>3,b=Math.ceil(g*y*h/8);if(16==g&&!r.isLE&&null==r.t33422)for(var x=0;x<p;x++)for(var k=l+x*b,w=1;w<b;w+=2){var T=u[k+w];u[k+w]=u[k+w-1],u[k+w-1]=T}if(r.t317&&2==r.t317[0])for(var x=0;x<p;x++){var Z=l+x*b;if(16==g)for(var f=v;f<b;f+=2){var E=(u[Z+f+1]<<8|u[Z+f])+(u[Z+f-v+1]<<8|u[Z+f-v]);u[Z+f]=255&E,u[Z+f+1]=E>>>8&255}else if(3==y)for(var f=3;f<b;f+=3)u[Z+f]=u[Z+f]+u[Z+f-3]&255,u[Z+f+1]=u[Z+f+1]+u[Z+f-2]&255,u[Z+f+2]=u[Z+f+2]+u[Z+f-1]&255;else for(var f=v;f<b;f++)u[Z+f]=u[Z+f]+u[Z+f-v]&255}},e.decode._decodePanasonic=function(e,t,r,i,a,n){var s,o,d,u,l,c,h,p,f=t.buffer,m=e.t2[0],_=e.t3[0],g=e.t10[0],y=e.t45[0],v=0,b=0,x=0,k=0,w=6==y?new Uint32Array(18):new Uint8Array(16),T=[0,0],Z=[0,0],E=0,A=new Uint8Array(16384),S=new Uint16Array(a.buffer);function O(e){if(0==x){var t=new Uint8Array(f,r+b+8184,8200),i=new Uint8Array(f,r+b,8184);A.set(t),A.set(i,t.length),b+=16384}if(5!=y)return(A[k=(x=x-e&131071)>>3^16368]|A[k+1]<<8)>>(7&x)&~(-1<<e);for(u=0;u<16;u++)w[u]=A[x++],x&=16383}function I(e){return A[x+15-e]}function C(){w[0]=I(0)<<6|I(1)>>2,w[1]=((3&I(1))<<12|I(2)<<4|I(3)>>4)&16383,w[2]=I(3)>>2&3,w[3]=(3&I(3))<<8|I(4),w[4]=I(5)<<2|I(6)>>6,w[5]=(63&I(6))<<4|I(7)>>4,w[6]=I(7)>>2&3,w[7]=(3&I(7))<<8|I(8),w[8]=I(9)<<2&1020|I(10)>>6,w[9]=(I(10)<<4|I(11)>>4)&1023,w[10]=I(11)>>2&3,w[11]=(3&I(11))<<8|I(12),w[12]=(I(13)<<2&1020|I(14)>>6)&1023,w[13]=(I(14)<<4|I(15)>>4)&1023,x+=16,k=0}function N(){w[0]=I(0)<<4|I(1)>>4,w[1]=((15&I(1))<<8|I(2))&4095,w[2]=I(3)>>6&3,w[3]=(63&I(3))<<2|I(4)>>6,w[4]=(63&I(4))<<2|I(5)>>6,w[5]=(63&I(5))<<2|I(6)>>6,w[6]=I(6)>>4&3,w[7]=(15&I(6))<<4|I(7)>>4,w[8]=(15&I(7))<<4|I(8)>>4,w[9]=(15&I(8))<<4|I(9)>>4,w[10]=I(9)>>2&3,w[11]=(3&I(9))<<6|I(10)>>2,w[12]=(3&I(10))<<6|I(11)>>2,w[13]=(3&I(11))<<6|I(12)>>2,w[14]=3&I(12),w[15]=I(13),w[16]=I(14),w[17]=I(15),x+=16,k=0}function M(){T[0]=0,T[1]=0,Z[0]=0,Z[1]=0}if(7==y)throw y;if(6==y){var P=12==g,j=P?N:C,R=P?14:11,D=P?128:512,L=P?2048:8192,F=P?16383:65535,B=P?4095:16383,z=m/R,$=16*z,U=P?18:14;for(s=0;s<_-15;s+=16){var V=Math.min(16,_-s),W=$*V;for(A=new Uint8Array(f,r+v,W),x=0,v+=W,d=0,o=0;d<V;d++,o=0){E=(s+d)*m;for(var K=0;K<z;K++)for(j(),M(),c=0,p=0,u=0;u<R;u++){if(h=1&u,u%3==2){var q=k<U?w[k++]:0;3==q&&(q=4),p=D<<q,c=1<<q}var G=k<U?w[k++]:0;T[h]?(G*=c,p<L&&Z[h]>p&&(G+=Z[h]-p),Z[h]=G):(T[h]=G,G?Z[h]=G:G=Z[h]),S[E+o++]=G-15<=F?G-15&F:G+0x7ffffff1>>31&B}}}}else if(5==y){var H=12==g?10:9;for(s=0;s<_;s++)for(o=0;o<m;o+=H)O(0),12==g?(S[E++]=((15&w[1])<<8)+w[0],S[E++]=16*w[2]+(w[1]>>4),S[E++]=((15&w[4])<<8)+w[3],S[E++]=16*w[5]+(w[4]>>4),S[E++]=((15&w[7])<<8)+w[6],S[E++]=16*w[8]+(w[7]>>4),S[E++]=((15&w[10])<<8)+w[9],S[E++]=16*w[11]+(w[10]>>4),S[E++]=((15&w[13])<<8)+w[12],S[E++]=16*w[14]+(w[13]>>4)):14==g&&(S[E++]=w[0]+((63&w[1])<<8),S[E++]=(w[1]>>6)+4*w[2]+((15&w[3])<<10),S[E++]=(w[3]>>4)+16*w[4]+((3&w[5])<<12),S[E++]=((252&w[5])>>2)+(w[6]<<6),S[E++]=w[7]+((63&w[8])<<8),S[E++]=(w[8]>>6)+4*w[9]+((15&w[10])<<10),S[E++]=(w[10]>>4)+16*w[11]+((3&w[12])<<12),S[E++]=((252&w[12])>>2)+(w[13]<<6),S[E++]=w[14]+((63&w[15])<<8))}else if(4==y)for(s=0;s<_;s++)for(o=0;o<m;o++)h=1&(u=o%14),0==u&&M(),u%3==2&&(c=4>>3-O(2)),Z[h]?0!=(l=O(8))&&(T[h]-=128<<c,(T[h]<0||4==c)&&(T[h]&=~(-1<<c)),T[h]+=l<<c):(Z[h]=O(8),(Z[h]||u>11)&&(T[h]=Z[h]<<4|O(4))),S[E++]=T[1&o];else throw y},e.decode._decodeVC5=function(){var t,r,i,a=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,0xd54a79,1,111,24,0xc5d265,1,109,24,0xc452b8,1,108,24,0xdd0d71,1,113,24,0xd54a78,1,110,24,0xdd0d70,1,112,24,0xdd0df2,1,114,24,0xdd0df3,1,115,25,0x188a5f6,1,225,25,0x188a5f5,1,189,25,0x188a5f4,1,188,25,0x188a5f3,1,203,25,0x188a5f2,1,202,25,0x188a5f1,1,197,25,0x188a5f0,1,207,25,0x188a5ef,1,169,25,0x188a5ee,1,223,25,0x188a5ed,1,159,25,0x188a5aa,1,235,25,0x188a5e3,1,152,25,0x188a5df,1,192,25,0x188a589,1,179,25,0x188a5dd,1,201,25,0x188a578,1,172,25,0x188a5e0,1,149,25,0x188a588,1,178,25,0x188a5d6,1,120,25,0x188a5db,1,219,25,0x188a5e1,1,150,25,0x188a587,1,127,25,0x188a59a,1,211,25,0x188a5c4,1,125,25,0x188a5ec,1,158,25,0x188a586,1,247,25,0x188a573,1,238,25,0x188a59c,1,163,25,0x188a5c8,1,228,25,0x188a5fb,1,183,25,0x188a5a1,1,217,25,0x188a5eb,1,168,25,0x188a5a8,1,122,25,0x188a584,1,128,25,0x188a5d2,1,249,25,0x188a599,1,187,25,0x188a598,1,186,25,0x188a583,1,136,25,0x18ba4c9,1,181,25,0x188a5d0,1,255,25,0x188a594,1,230,25,0x188a582,1,135,25,0x188a5cb,1,233,25,0x188a5d8,1,222,25,0x188a5e7,1,145,25,0x188a581,1,134,25,0x188a5ea,1,167,25,0x188a5a9,1,248,25,0x188a5a6,1,209,25,0x188a580,1,243,25,0x188a5a0,1,216,25,0x188a59d,1,164,25,0x188a5c3,1,140,25,0x188a57f,1,157,25,0x188a5c0,1,239,25,0x188a5de,1,191,25,0x188a5d4,1,251,25,0x188a57e,1,156,25,0x188a5c2,1,139,25,0x188a592,1,242,25,0x188a5cd,1,133,25,0x188a57d,1,162,25,0x188a5a3,1,213,25,0x188a5e8,1,165,25,0x188a5a2,1,212,25,0x188a57c,1,227,25,0x188a58e,1,198,25,0x188a5b3,1,236,25,0x188a5b2,1,234,25,0x188a5b1,1,117,25,0x188a5b0,1,215,25,0x188a5af,1,124,25,0x188a5ae,1,123,25,0x188a5ad,1,254,25,0x188a5ac,1,253,25,0x188a5ab,1,148,25,0x188a5da,1,218,25,0x188a5e4,1,146,25,0x188a5e5,1,147,25,0x188a5d9,1,224,25,0x188a5b5,1,143,25,0x188a5bc,1,184,25,0x188a5bd,1,185,25,0x188a5e9,1,166,25,0x188a5cc,1,132,25,0x188a585,1,129,25,0x188a5d3,1,250,25,0x188a5e2,1,151,25,0x188a595,1,119,25,0x188a596,1,193,25,0x188a5b8,1,176,25,0x188a590,1,245,25,0x188a5c9,1,229,25,0x188a5a4,1,206,25,0x188a5e6,1,144,25,0x188a5a5,1,208,25,0x188a5ce,1,137,25,0x188a5bf,1,241,25,0x188a572,1,237,25,0x188a59b,1,190,25,0x188a5be,1,240,25,0x188a5c7,1,131,25,0x188a5ca,1,232,25,0x188a5d5,1,252,25,0x188a57b,1,171,25,0x188a58d,1,205,25,0x188a58c,1,204,25,0x188a58b,1,118,25,0x188a58a,1,214,25,0x18ba4c8,1,180,25,0x188a5c5,1,126,25,0x188a5fa,1,182,25,0x188a5bb,1,175,25,0x188a5c1,1,141,25,0x188a5cf,1,138,25,0x188a5b9,1,177,25,0x188a5b6,1,153,25,0x188a597,1,194,25,0x188a5fe,1,160,25,0x188a5d7,1,121,25,0x188a5ba,1,174,25,0x188a591,1,246,25,0x188a5c6,1,130,25,0x188a5dc,1,200,25,0x188a57a,1,170,25,0x188a59f,1,221,25,0x188a5f9,1,196,25,0x188a5b4,1,142,25,0x188a5a7,1,210,25,0x188a58f,1,199,25,0x188a5fd,1,155,25,0x188a5b7,1,154,25,0x188a593,1,244,25,0x188a59e,1,220,25,0x188a5f8,1,195,25,0x188a5ff,1,161,25,0x188a5fc,1,231,25,0x188a579,1,173,25,0x188a5f7,1,226,26,0x3114ba2,1,116,26,0x3114ba3,0,1],n=[3,3,3,3,2,2,2,1,1,1],s=24576,o=8192,d=24576;function u(e){var t=e[1],r=e[0][t>>>3]>>>7-(7&t)&1;return e[1]++,r}function l(e,r){if(null==t){t={};for(var i=0;i<a.length;i+=4)t[a[i+1]]=a.slice(i,i+4)}for(var n=u(e),s=t[n];null==s;)s=t[n=n<<1|u(e)];var o=s[3];0!=o&&(o=0==u(e)?o:-o),r[0]=s[2],r[1]=o}function c(e,t){for(var r=0;r<t;r++)(1&e)==1&&e++,e>>>=1;return e}function h(e,t){return e>>t}function p(e,t,r,i,a,n){t[r]=h(h(11*e[a]-4*e[a+n]+e[a+n+n]+4,3)+e[i],1),t[r+n]=h(h(5*e[a]+4*e[a+n]-e[a+n+n]+4,3)-e[i],1)}function f(e,t,r,i,a,n){var s=e[a-n]-e[a+n],o=e[a],d=e[i];t[r]=h(h(s+4,3)+o+d,1),t[r+n]=h(h(-s+4,3)+o-d,1)}function m(e,t,r,i,a,n){t[r]=h(h(5*e[a]+4*e[a-n]-e[a-n-n]+4,3)+e[i],1),t[r+n]=h(h(11*e[a]-4*e[a-n]+e[a-n-n]+4,3)-e[i],1)}function _(e){return i[e=e<0?0:e>4095?4095:e]>>>2}return function(t,a,u,h,g,y){h=new Uint16Array(h.buffer);var v,b,x,k,w,T,Z,E,A,S,O=Date.now(),I=e._binBE,C=a+u;a+=4;for(var N=1==y[0];a<C;){var M=I.readShort(t,a),P=I.readUshort(t,a+2);if(a+=4,12==M)v=P;else if(20==M)b=P;else if(21==M)x=P;else if(48==M)k=P;else if(53==M)w=P;else if(35==M);else if(62==M)T=P;else if(101==M);else if(109==M)Z=P;else if(84==M);else if(106==M);else if(107==M);else if(108==M);else if(102==M);else if(104==M)E=P;else if(105==M);else{var j=M<0?-M:M,R=65280&j,D=0;if(j&d&&(D=j&o?(65535&P)+((255&j)<<16):65535&P),(j&s)==s){if(null==A){A=[];for(var L=0;L<4;L++)A[L]=new Int16Array((b>>>1)*(x>>>1));S=new Int16Array((b>>>1)*(x>>>1)),r=new Int16Array(1024);for(var L=0;L<1024;L++){var F=L-512,B=Math.abs(F),v=Math.floor(768*B*B*B/0xfd02ff)+B;r[L]=Math.sign(F)*v}i=new Uint16Array(4096);for(var z=65535,L=0;L<4096;L++){var $=z*(Math.pow(113,L/4095)-1)/112;i[L]=Math.min($,z)}}var U=A[T],V=c(b,1+n[k]),W=c(x,1+n[k]);if(0==k)for(var K=0;K<W;K++)for(var q=0;q<V;q++){var G=a+(K*V+q)*2;U[K*(b>>>1)+q]=t[G]<<8|t[G+1]}else{for(var H=[t,8*a],Y=[],J=0,X=V*W,Q=[0,0],ee=0,P=0;J<X;)for(l(H,Q),ee=Q[0],P=Q[1];ee>0;)Y[J++]=P,ee--;for(var et=(k-1)%3,er=1!=et?V:0,ei=0!=et?W:0,K=0;K<W;K++)for(var ea=(K+ei)*(b>>>1)+er,en=K*V,q=0;q<V;q++)U[ea+q]=r[Y[en+q]+512]*w;if(2==et){for(var E=b>>>1,es=2*V,eo=2*W,K=0;K<W;K++)for(var q=0;q<es;q++){var L=2*K*E+q,ed=K*E+q,eu=W*E+ed;0==K?p(U,S,L,eu,ed,E):K==W-1?m(U,S,L,eu,ed,E):f(U,S,L,eu,ed,E)}var el=U;U=S,S=el;for(var K=0;K<eo;K++)for(var q=0;q<V;q++){var L=K*E+2*q,ed=K*E+q,eu=V+ed;0==q?p(U,S,L,eu,ed,1):q==V-1?m(U,S,L,eu,ed,1):f(U,S,L,eu,ed,1)}var el=U;U=S,S=el;for(var ec=[],eh=2-~~((k-1)/3),ep=0;ep<3;ep++)ec[ep]=Z>>14-2*ep&3;var ef=ec[eh];if(0!=ef)for(var K=0;K<eo;K++)for(var q=0;q<es;q++){var L=K*E+q;U[L]=U[L]<<ef}}}if(9==k&&3==T)for(var em=A[0],e_=A[1],eg=A[2],ey=A[3],K=0;K<x;K+=2)for(var q=0;q<b;q+=2){var ev=K*b+q,G=(K>>>1)*(b>>>1)+(q>>>1),eb=em[G],ex=e_[G]-2048,ek=eg[G]-2048,ew=ey[G]-2048,eT=(ex<<1)+eb,eZ=(ek<<1)+eb,eE=eb+ew,eA=eb-ew;N?(h[ev]=_(eE),h[ev+1]=_(eZ),h[ev+b]=_(eT),h[ev+b+1]=_(eA)):(h[ev]=_(eT),h[ev+1]=_(eE),h[ev+b]=_(eA),h[ev+b+1]=_(eZ))}a+=4*D}else if(16388==j)a+=4*D;else if(8192==R||8448==R||9216==R);else throw j.toString(16)}}console.log(Date.now()-O)}}(),e.decode._decodeLogLuv32=function(e,t,r,i,a,n){for(var s=e.width,o=4*s,d=0,u=new Uint8Array(o);d<i;){for(var l=0;l<o;){var c=t[r+d];if(d++,c<128){for(var h=0;h<c;h++)u[l+h]=t[r+d+h];l+=c,d+=c}else{c-=126;for(var h=0;h<c;h++)u[l+h]=t[r+d];l+=c,d++}}for(var p=0;p<s;p++)a[n+0]=u[p],a[n+1]=u[p+s],a[n+2]=u[p+2*s],a[n+4]=u[p+3*s],n+=6}},e.decode._ljpeg_diff=function(t,r,i){var a,n,s=e.decode._getbithuff;return a=s(t,r,i[0],i),((n=s(t,r,a,0))&1<<a-1)==0&&(n-=(1<<a)-1),n},e.decode._decodeARW=function(t,r,i,a,n,s){var o,d,u,l,c,h,p,f,m,_,g,y=t.t256[0],v=t.t257[0],b=t.t258[0],x=t.isLE?e._binLE:e._binBE;if(y*v!=a&&y*v*1.5!=a){v+=8;var _,k,w,d,o,T=[i,0,0,0],Z=new Uint16Array(32770),E=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],A=0,S=e.decode._ljpeg_diff;for(Z[0]=15,w=_=0;_<18;_++)for(var O=32768>>>(E[_]>>>8),k=0;k<O;k++)Z[++w]=E[_];for(d=y;d--;)for(o=0;o<v+1;o+=2)if(o==v&&(o=1),A+=S(r,T,Z),o<v){var I=4095&A;e.decode._putsF(n,(o*y+d)*b,I<<16-b)}return}if(y*v*1.5==a){for(var _=0;_<a;_+=3){var C=r[i+_+0],N=r[i+_+1],M=r[i+_+2];n[s+_]=N<<4|C>>>4,n[s+_+1]=C<<4|M>>>4,n[s+_+2]=M<<4|N>>>4}return}var P=new Uint16Array(16),j=new Uint8Array(y+1);for(o=0;o<v;o++){for(var R=0;R<y;R++)j[R]=r[i++];for(g=0,d=0;d<y-30;g+=16){for(f=0,l=2047&(u=x.readUint(j,g)),c=2047&u>>>11,h=15&u>>>22,p=15&u>>>26;f<4&&128<<f<=l-c;f++);for(m=30,_=0;_<16;_++)_==h?P[_]=l:_==p?P[_]=c:(P[_]=((x.readUshort(j,g+(m>>3))>>>(7&m)&127)<<f)+c,P[_]>2047&&(P[_]=2047),m+=7);for(_=0;_<16;_++,d+=2){var I=P[_]<<1;e.decode._putsF(n,(o*y+d)*b,I<<16-b)}d-=1&d?1:31}}},e.decode._decodeNikon=function(t,r,i,a,n,s,o){var d,u,l,c,h,p,f=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],m=t.t256[0],_=t.t257[0],g=t.t258[0],y=0,v=0,b=e.decode._make_decoder,x=e.decode._getbithuff,k=r[0].exifIFD.makerNote,w=k.t150?k.t150:k.t140,T=0,Z=w[T++],E=w[T++];(73==Z||88==E)&&(T+=2110),70==Z&&(y=2),14==g&&(y+=3);for(var A=[[0,0],[0,0]],S=t.isLE?e._binLE:e._binBE,d=0;d<2;d++)for(var O=0;O<2;O++)A[d][O]=S.readShort(w,T),T+=2;var I=1<<g&32767,C=0,N=S.readShort(w,T);T+=2,N>1&&(C=Math.floor(I/(N-1))),68==Z&&32==E&&C>0&&(v=S.readShort(w,562));var M=0,P=[0,0],j=b(f[y]),R=[a,0,0,0];for(M=u=0;u<_;u++)for(v&&u==v&&(j=b(f[y+1])),l=0;l<m;l++){c=15&(d=x(i,R,j[0],j)),((p=(x(i,R,c-(h=d>>>4),0)<<1)+1<<h>>>1)&1<<c-1)==0&&(p-=(1<<c)-(0==h)),l<2?P[l]=A[1&u][l]+=p:P[1&l]+=p;var D=Math.min(Math.max(P[1&l],0),(1<<g)-1),L=(u*m+l)*g;e.decode._putsF(s,L,D<<16-g)}},e.decode._putsF=function(e,t,r){r<<=8-(7&t);var i=t>>>3;e[i]|=r>>>16,e[i+1]|=r>>>8,e[i+2]|=r},e.decode._getbithuff=function(t,r,i,a){var n,s=0;e.decode._get_byte;var o=r[0],d=r[1],u=r[2],l=r[3];if(0==i||u<0)return 0;for(;!l&&u<i&&-1!=(n=t[o++])&&!(l=s&&255==n&&t[o++]);)d=(d<<8)+n,u+=8;if(n=d<<32-u>>>32-i,a?(u-=a[n+1]>>>8,n=255&a[n+1]):u-=i,u<0)throw"e";return r[0]=o,r[1]=d,r[2]=u,r[3]=l,n},e.decode._make_decoder=function(e){var t,r,i,a,n,s=[];for(t=16;0!=t&&!e[t];t--);var o=17;for(s[0]=t,i=r=1;r<=t;r++)for(a=0;a<e[r];a++,++o)for(n=0;n<1<<t-r;n++)i<=1<<t&&(s[i++]=r<<8|e[o]);return s},e.decode._decodeNewJPEG=function(t,r,i,a,n,s){a=Math.min(a,r.length-i);var o=t.t347,d=o?o.length:0,u=new Uint8Array(d+a);if(o){for(var l=216,c=217,h=0,p=0;p<d-1&&(255!=o[p]||o[p+1]!=c);p++)u[h++]=o[p];var f=r[i],m=r[i+1];(255!=f||m!=l)&&(u[h++]=f,u[h++]=m);for(var p=2;p<a;p++)u[h++]=r[i+p]}else for(var p=0;p<a;p++)u[p]=r[i+p];if(32803==t.t262[0]||7==t.t259[0]&&34892==t.t262[0]){var _=t.t258[0],g=e.LosslessJpegDecode(u),y=g.length;if(16==_)if(t.isLE)for(var p=0;p<y;p++)n[s+(p<<1)]=255&g[p],n[s+(p<<1)+1]=g[p]>>>8;else for(var p=0;p<y;p++)n[s+(p<<1)]=g[p]>>>8,n[s+(p<<1)+1]=255&g[p];else if(14==_||12==_||10==_)for(var v=16-_,p=0;p<y;p++)e.decode._putsF(n,p*_,g[p]<<v);else if(8==_)for(var p=0;p<y;p++)n[s+p]=g[p];else throw Error("unsupported bit depth "+_)}else{var b=new e.JpegDecoder;b.parse(u);for(var x=b.getData({width:b.width,height:b.height,forceRGB:!0,isSourcePDF:!1}),p=0;p<x.length;p++)n[s+p]=x[p]}6==t.t262[0]&&(t.t262[0]=2)},e.decode._decodeOldJPEGInit=function(e,t,r,a){var n,s,o,d,u,l=216,c=219,h=196,p=221,f=192,m=218,_=0,g=0,y=!1,v=e.t513,b=v?v[0]:0,x=e.t514,k=x?x[0]:0,w=e.t324||e.t273||v,T=e.t530,Z=0,E=0,A=e.t277?e.t277[0]:1,S=e.t515;if(w&&(g=w[0],y=w.length>1),!y){if(255==t[r]&&t[r+1]==l)return{jpegOffset:r};if(null!=v&&(255==t[r+b]&&t[r+b+1]==l?_=r+b:i("JPEGInterchangeFormat does not point to SOI"),null==x?i("JPEGInterchangeFormatLength field is missing"):(b>=g||b+k<=g)&&i("JPEGInterchangeFormatLength field value is invalid"),null!=_))return{jpegOffset:_}}if(null!=T&&(Z=T[0],E=T[1]),null!=v&&null!=x)if(k>=2&&b+k<=g){for(o=0,n=new Uint8Array(255==t[r+b+k-2]&&t[r+b+k-1]==l?k-2:k);o<n.length;o++)n[o]=t[r+b+o];i("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else i("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==n){var O=0,I=[];I[O++]=255,I[O++]=l;var C=e.t519;if(null==C)throw Error("JPEGQTables tag is missing");for(o=0;o<C.length;o++)for(d=0,I[O++]=255,I[O++]=c,I[O++]=0,I[O++]=67,I[O++]=o;d<64;d++)I[O++]=t[r+C[o]+d];for(u=0;u<2;u++){var N=e[0==u?"t520":"t521"];if(null==N)throw Error((0==u?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(o=0;o<N.length;o++){I[O++]=255,I[O++]=h;var M=19;for(d=0;d<16;d++)M+=t[r+N[o]+d];for(d=0,I[O++]=M>>>8,I[O++]=255&M,I[O++]=o|u<<4;d<16;d++)I[O++]=t[r+N[o]+d];for(d=0;d<M;d++)I[O++]=t[r+N[o]+16+d]}}if(I[O++]=255,I[O++]=f,I[O++]=0,I[O++]=8+3*A,I[O++]=8,I[O++]=e.height>>>8&255,I[O++]=255&e.height,I[O++]=e.width>>>8&255,I[O++]=255&e.width,I[O++]=A,1==A)I[O++]=1,I[O++]=17,I[O++]=0;else for(o=0;o<3;o++)I[O++]=o+1,I[O++]=0!=o?17:(15&Z)<<4|15&E,I[O++]=o;null!=S&&0!=S[0]&&(I[O++]=255,I[O++]=p,I[O++]=0,I[O++]=4,I[O++]=S[0]>>>8&255,I[O++]=255&S[0]),n=new Uint8Array(I)}var P=-1;for(o=0;o<n.length-1;){if(255==n[o]&&n[o+1]==f){P=o;break}o++}if(-1==P){var j=new Uint8Array(n.length+10+3*A);j.set(n);var R=n.length;if(P=n.length,(n=j)[R++]=255,n[R++]=f,n[R++]=0,n[R++]=8+3*A,n[R++]=8,n[R++]=e.height>>>8&255,n[R++]=255&e.height,n[R++]=e.width>>>8&255,n[R++]=255&e.width,n[R++]=A,1==A)n[R++]=1,n[R++]=17,n[R++]=0;else for(o=0;o<3;o++)n[R++]=o+1,n[R++]=0!=o?17:(15&Z)<<4|15&E,n[R++]=o}if(255==t[g]&&t[g+1]==m){var D=t[g+2]<<8|t[g+3];for(o=0,(s=new Uint8Array(D+2))[0]=t[g],s[1]=t[g+1],s[2]=t[g+2],s[3]=t[g+3];o<D-2;o++)s[o+4]=t[g+o+4]}else{s=new Uint8Array(8+2*A);var L=0;if(s[L++]=255,s[L++]=m,s[L++]=0,s[L++]=6+2*A,s[L++]=A,1==A)s[L++]=1,s[L++]=0;else for(o=0;o<3;o++)s[L++]=o+1,s[L++]=o<<4|o;s[L++]=0,s[L++]=63,s[L++]=0}return{jpegOffset:r,tables:n,sosMarker:s,sofPosition:P}},e.decode._decodeOldJPEG=function(t,r,i,a,n,s){var o,d,u,l,c,h=e.decode._decodeOldJPEGInit(t,r,i,a);if(null!=h.jpegOffset)for(o=0,l=new Uint8Array(d=i+a-h.jpegOffset);o<d;o++)l[o]=r[h.jpegOffset+o];else{for((l=new Uint8Array((u=h.tables.length)+h.sosMarker.length+a+2)).set(h.tables),c=u,l[h.sofPosition+5]=t.height>>>8&255,l[h.sofPosition+6]=255&t.height,l[h.sofPosition+7]=t.width>>>8&255,l[h.sofPosition+8]=255&t.width,(255!=r[i]||r[i+1]!=SOS)&&(l.set(h.sosMarker,c),c+=sosMarker.length),o=0;o<a;o++)l[c++]=r[i+o];l[c++]=255,l[c++]=EOI}var p=new e.JpegDecoder;p.parse(l);for(var f=p.getData({width:p.width,height:p.height,forceRGB:!0,isSourcePDF:!1}),o=0;o<f.length;o++)n[s+o]=f[o];t.t262&&6==t.t262[0]&&(t.t262[0]=2)},e.decode._decodePackBits=function(e,t,r,i,a){for(var n=new Int8Array(e.buffer),s=new Int8Array(i.buffer),o=t+r;t<o;){var d=n[t];if(t++,d>=0&&d<128)for(var u=0;u<d+1;u++)s[a]=n[t],a++,t++;if(d>=-127&&d<0){for(var u=0;u<-d+1;u++)s[a]=n[t],a++;t++}}return a},e.decode._decodeThunder=function(e,t,r,i,a){for(var n=[0,1,0,-1],s=[0,1,2,3,0,-3,-2,-1],o=t+r,d=2*a,u=0;t<o;){var l=e[t],c=l>>>6,h=63&l;if(t++,3==c&&(u=15&h,i[d>>>1]|=u<<4*(1-d&1),d++),0==c)for(var p=0;p<h;p++)i[d>>>1]|=u<<4*(1-d&1),d++;if(2==c)for(var p=0;p<2;p++){var f=h>>>3*(1-p)&7;4!=f&&(u+=s[f],i[d>>>1]|=u<<4*(1-d&1),d++)}if(1==c)for(var p=0;p<3;p++){var f=h>>>2*(2-p)&3;2!=f&&(u+=n[f],i[d>>>1]|=u<<4*(1-d&1),d++)}}},e.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},e.decode._lens=function(){var e=function(e,t,r,i){for(var a=0;a<t.length;a++)e[t[a]]=r+a*i},t="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",r="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",i="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",a="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",n="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";t=t.split(","),r=r.split(","),i=i.split(","),a=a.split(","),n=n.split(",");var s={},o={};return e(s,t,0,1),e(s,i,64,64),e(s,n,1792,64),e(o,r,0,1),e(o,a,64,64),e(o,n,1792,64),[s,o]}(),e.decode._decodeG4=function(t,r,i,a,n,s,o){for(var d=e.decode,u=r<<3,l=0,c="",h=[],p=[],f=0;f<s;f++)p.push(0);p=d._makeDiff(p);for(var m=0,_=0,g=0,y=0,v=0,b=0,x="",k=0,w=8*Math.ceil(s/8);u>>>3<r+i;){g=d._findDiff(p,m+ +(0!=m),1-v),y=d._findDiff(p,g,v);var T=0;if(1==o&&(T=t[u>>>3]>>>7-(7&u)&1),2==o&&(T=t[u>>>3]>>>(7&u)&1),u++,c+=T,"H"==x){if(null!=d._lens[v][c]){var Z=d._lens[v][c];c="",l+=Z,Z<64&&(d._addNtimes(h,l,v),m+=l,v=1-v,l=0,0==--k&&(x=""))}}else"0001"==c&&(c="",d._addNtimes(h,y-m,v),m=y),"001"==c&&(c="",x="H",k=2),null!=d._dmap[c]&&(_=g+d._dmap[c],d._addNtimes(h,_-m,v),m=_,c="",v=1-v);h.length==s&&""==x&&(d._writeBits(h,a,8*n+b*w),v=0,b++,m=0,p=d._makeDiff(h),h=[])}},e.decode._findDiff=function(e,t,r){for(var i=0;i<e.length;i+=2)if(e[i]>=t&&e[i+1]==r)return e[i]},e.decode._makeDiff=function(e){var t=[];1==e[0]&&t.push(0,1);for(var r=1;r<e.length;r++)e[r-1]!=e[r]&&t.push(r,e[r]);return t.push(e.length,0,e.length,1),t},e.decode._decodeG2=function(t,r,i,a,n,s,o){for(var d=e.decode,u=r<<3,l=0,c="",h=[],p=0,f=0,m=8*Math.ceil(s/8);u>>>3<r+i;){var _=0;1==o&&(_=t[u>>>3]>>>7-(7&u)&1),2==o&&(_=t[u>>>3]>>>(7&u)&1),u++,c+=_,null!=(l=d._lens[p][c])&&(d._addNtimes(h,l,p),c="",l<64&&(p=1-p),h.length==s&&(d._writeBits(h,a,8*n+f*m),h=[],f++,p=0,(7&u)!=0&&(u+=8-(7&u)),l>=64&&(u+=8)))}},e.decode._decodeG3=function(t,r,i,a,n,s,o,d){for(var u=e.decode,l=r<<3,c=0,h="",p=[],f=[],m=0;m<s;m++)p.push(0);for(var _=0,g=0,y=0,v=0,b=0,x=-1,k="",w=0,T=!0,Z=8*Math.ceil(s/8);l>>>3<r+i;){y=u._findDiff(f,_+ +(0!=_),1-b),v=u._findDiff(f,y,b);var E=0;if(1==o&&(E=t[l>>>3]>>>7-(7&l)&1),2==o&&(E=t[l>>>3]>>>(7&l)&1),l++,h+=E,T){if(null!=u._lens[b][h]){var A=u._lens[b][h];h="",c+=A,A<64&&(u._addNtimes(p,c,b),b=1-b,c=0)}}else if("H"==k){if(null!=u._lens[b][h]){var A=u._lens[b][h];h="",c+=A,A<64&&(u._addNtimes(p,c,b),_+=c,b=1-b,c=0,0==--w&&(k=""))}}else"0001"==h&&(h="",u._addNtimes(p,v-_,b),_=v),"001"==h&&(h="",k="H",w=2),null!=u._dmap[h]&&(g=y+u._dmap[h],u._addNtimes(p,g-_,b),_=g,h="",b=1-b);h.endsWith("000000000001")&&(x>=0&&u._writeBits(p,a,8*n+x*Z),d&&(1==o&&(T=(t[l>>>3]>>>7-(7&l)&1)==1),2==o&&(T=(t[l>>>3]>>>(7&l)&1)==1),l++),h="",b=0,x++,_=0,f=u._makeDiff(p),p=[])}p.length==s&&u._writeBits(p,a,8*n+x*Z)},e.decode._addNtimes=function(e,t,r){for(var i=0;i<t;i++)e.push(r)},e.decode._writeBits=function(e,t,r){for(var i=0;i<e.length;i++)t[r+i>>>3]|=e[i]<<7-(r+i&7)},e.decode._decodeLZW=e.decode._decodeLZW=function(){var e,t,r,i,a=0,n=0,s=0,o=0,d=function(){var r=e>>>3,i=(t[r]<<16|t[r+1]<<8|t[r+2])>>>24-(7&e)-n&(1<<n)-1;return e+=n,i},u=new Uint32Array(16384),l=0,c=function(e){if(e!=l){l=e,s=1<<e,o=s+1;for(var t=0;t<o+1;t++)u[4*t]=u[4*t+3]=t,u[4*t+1]=65535,u[4*t+2]=1}},h=function(e){n=e+1,a=o+1},p=function(e){for(var t=e<<2,a=u[t+2],n=i+a-1;65535!=t;)r[n--]=u[t],t=u[t+1];i+=a},f=function(e,t){var r=a<<2,i=e<<2;u[r]=u[(t<<2)+3],u[r+1]=i,u[r+2]=u[i+2]+1,u[r+3]=u[i+3],++a+1==1<<n&&12!=n&&n++};return function(n,u,l,m,_,g){e=u<<3,t=n,r=m,i=_;var y=u+l<<3,v=0,b=0;for(c(g),h(g);e<y&&(v=d())!=o;){if(v==s){if(h(g),(v=d())==o)break;p(v)}else v<a?(p(v),f(b,v)):(f(b,b),p(a-1));b=v}return i}}(),e.tags={},e._types=function(){var e=Array(250);return e.fill(0),{basic:{main:e=e.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),e._readIFD=function(t,r,a,n,s,o){var d=t.readUshort(r,a);a+=2;var u={};o.debug&&i("   ".repeat(s),n.length-1,">>>----------------");for(var l=0;l<d;l++){var c=t.readUshort(r,a);a+=2;var h=t.readUshort(r,a);a+=2;var p=t.readUint(r,a);a+=4;var f=t.readUint(r,a);a+=4;var m=[];if(1==h||7==h){var _=p<5?a-4:f;_+p>r.buffer.byteLength&&(p=r.buffer.byteLength-_),m=new Uint8Array(r.buffer,_,p)}if(2==h){var g=p<5?a-4:f,y=r[g],v=Math.max(0,Math.min(p-1,r.length-g));y<128||0==v?m.push(t.readASCII(r,g,v)):m=new Uint8Array(r.buffer,g,v)}if(3==h)for(var b=0;b<p;b++)m.push(t.readUshort(r,(p<3?a-4:f)+2*b));if(4==h||13==h)for(var b=0;b<p;b++)m.push(t.readUint(r,(p<2?a-4:f)+4*b));if(5==h||10==h)for(var x=5==h?t.readUint:t.readInt,b=0;b<p;b++)m.push([x(r,f+8*b),x(r,f+8*b+4)]);if(8==h)for(var b=0;b<p;b++)m.push(t.readShort(r,(p<3?a-4:f)+2*b));if(9==h)for(var b=0;b<p;b++)m.push(t.readInt(r,(p<2?a-4:f)+4*b));if(11==h)for(var b=0;b<p;b++)m.push(t.readFloat(r,f+4*b));if(12==h)for(var b=0;b<p;b++)m.push(t.readDouble(r,f+8*b));if(0!=p&&0==m.length){if(i(c,"unknown TIFF tag type: ",h,"num:",p),0==l)return;continue}if(o.debug&&i("   ".repeat(s),c,h,e.tags[c],m),u["t"+c]=m,330==c&&u.t272&&"DSLR-A100"==u.t272[0]);else if(330==c||34665==c||34853==c||50740==c&&300>t.readUshort(r,t.readUint(m,0))||61440==c){for(var k=50740==c?[t.readUint(m,0)]:m,w=[],b=0;b<k.length;b++)e._readIFD(t,r,k[b],w,s+1,o);330==c&&(u.subIFD=w),34665==c&&(u.exifIFD=w[0]),34853==c&&(u.gpsiIFD=w[0]),50740==c&&(u.dngPrvt=w[0]),61440==c&&(u.fujiIFD=w[0])}if(37500==c&&o.parseMN){var T=m;if("Nikon"==t.readASCII(T,0,5))u.makerNote=e.decode(T.slice(10).buffer)[0];else if("OLYMP"==t.readASCII(T,0,5)||"OM SYSTEM"==t.readASCII(T,0,9)){var Z=[8208,8224,8240,8256,8272],E=[];e._readIFD(t,T,77==T[1]?16:85==T[5]?12:8,E,s+1,o);for(var A=u.makerNote=E.pop(),b=0;b<Z.length;b++){var S="t"+Z[b];null!=A[S]&&(e._readIFD(t,T,A[S][0],E,s+1,o),A[S]=E.pop())}A.t12288&&(e._readIFD(t,A.t12288,0,E,s+1,o),A.t12288=E.pop())}else if(300>t.readUshort(r,f)&&12>=t.readUshort(r,f+4)){var E=[];e._readIFD(t,r,f,E,s+1,o),u.makerNote=E[0]}}}return n.push(u),o.debug&&i("   ".repeat(s),"<<<---------------"),a},e._writeIFD=function(t,r,i,a,n){var s=Object.keys(n),o=s.length;n.exifIFD&&o--,n.gpsiIFD&&o--,t.writeUshort(i,a,o);for(var d=(a+=2)+12*o+4,u=0;u<s.length;u++){var l=s[u];if("t34665"!=l&&"t34853"!=l){"exifIFD"==l&&(l="t34665"),"gpsiIFD"==l&&(l="t34853");var c=parseInt(l.slice(1)),h=r.main[c];if(null==h&&(h=r.rest[c]),null==h||0==h)throw Error("unknown type of tag: "+c);var p=n[l];if(34665==c){var f=e._writeIFD(t,r,i,d,n.exifIFD);p=[d],d=f[1]}if(34853==c){var f=e._writeIFD(t,e._types.gps,i,d,n.gpsiIFD);p=[d],d=f[1]}2==h&&(p=p[0]+"\0");var m=p.length;t.writeUshort(i,a,c),a+=2,t.writeUshort(i,a,h),a+=2,t.writeUint(i,a,m),a+=4;var _=[-1,1,1,2,4,8,0,1,0,4,8,0,8][h]*m,g=a;if(_>4&&(t.writeUint(i,a,d),g=d),1==h||7==h)for(var y=0;y<m;y++)i[g+y]=p[y];else if(2==h)t.writeASCII(i,g,p);else if(3==h)for(var y=0;y<m;y++)t.writeUshort(i,g+2*y,p[y]);else if(4==h)for(var y=0;y<m;y++)t.writeUint(i,g+4*y,p[y]);else if(5==h||10==h)for(var v=5==h?t.writeUint:t.writeInt,y=0;y<m;y++){var b=p[y],x=b[0],k=b[1];if(null==x)throw"e";v(i,g+8*y,x),v(i,g+8*y+4,k)}else if(9==h)for(var y=0;y<m;y++)t.writeInt(i,g+4*y,p[y]);else if(12==h)for(var y=0;y<m;y++)t.writeDouble(i,g+8*y,p[y]);else throw h;_>4&&(_+=1&_,d+=_),a+=4}}return[a,d]},e.toRGBA8=function(e,t){function r(e){return e<.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}var a=e.width,n=e.height,s=a*n,o=e.data,d=new Uint8Array(4*s),u=e.t262?e.t262[0]:2,l=e.t258?Math.min(32,e.t258[0]):1;null==e.t262&&1==l&&(u=0);var c=e.t277?e.t277[0]:e.t258?e.t258.length:[1,1,3,1,1,4,3][u],h=e.t339?e.t339[0]:null;if(1==u&&32==l&&3!=h)throw"e";var p=Math.ceil(c*l*a/8);if(0==u){t=1/256;for(var f=0;f<n;f++){var m=f*p,_=f*a;if(1==l)for(var g=0;g<a;g++){var y=_+g<<2,v=o[m+(g>>3)]>>7-(7&g)&1;d[y]=d[y+1]=d[y+2]=(1-v)*255,d[y+3]=255}if(4==l)for(var g=0;g<a;g++){var y=_+g<<2,v=o[m+(g>>1)]>>4-4*(1&g)&15;d[y]=d[y+1]=d[y+2]=(15-v)*17,d[y+3]=255}if(8==l)for(var g=0;g<a;g++){var y=_+g<<2,v=o[m+g];d[y]=d[y+1]=d[y+2]=255-v,d[y+3]=255}if(16==l)for(var g=0;g<a;g++){var y=_+g<<2,b=m+2*g,v=o[b+1]<<8|o[b];d[y]=d[y+1]=d[y+2]=Math.min(255,255-~~(v*t)),d[y+3]=255}}}else if(1==u){null==t&&(t=1/256);for(var x=(3&o.length)==0?new Float32Array(o.buffer):null,f=0;f<n;f++){var m=f*p,_=f*a;if(1==l)for(var g=0;g<a;g++){var y=_+g<<2,v=o[m+(g>>3)]>>7-(7&g)&1;d[y]=d[y+1]=d[y+2]=255*v,d[y+3]=255}if(2==l)for(var g=0;g<a;g++){var y=_+g<<2,v=o[m+(g>>2)]>>6-2*(3&g)&3;d[y]=d[y+1]=d[y+2]=85*v,d[y+3]=255}if(8==l)for(var g=0;g<a;g++){var y=_+g<<2,v=o[m+g*c];d[y]=d[y+1]=d[y+2]=v,d[y+3]=255}if(16==l)for(var g=0;g<a;g++){var y=_+g<<2,b=m+2*g,v=o[b+1]<<8|o[b];d[y]=d[y+1]=d[y+2]=Math.min(255,~~(v*t)),d[y+3]=255}if(32==l)for(var g=0;g<a;g++){var y=_+g<<2,b=(m>>>2)+g,v=x[b];d[y]=d[y+1]=d[y+2]=~~(.5+255*v),d[y+3]=255}}}else if(2==u)if(8==l){if(1==c)for(var g=0;g<s;g++)d[4*g]=d[4*g+1]=d[4*g+2]=o[g],d[4*g+3]=255;if(3==c)for(var g=0;g<s;g++){var y=g<<2,k=3*g;d[y]=o[k],d[y+1]=o[k+1],d[y+2]=o[k+2],d[y+3]=255}if(c>=4)for(var g=0;g<s;g++){var y=g<<2,k=g*c;d[y]=o[k],d[y+1]=o[k+1],d[y+2]=o[k+2],d[y+3]=o[k+3]}}else if(16==l){if(4==c)for(var g=0;g<s;g++){var y=g<<2,k=8*g+1;d[y]=o[k],d[y+1]=o[k+2],d[y+2]=o[k+4],d[y+3]=o[k+6]}if(3==c)for(var g=0;g<s;g++){var y=g<<2,k=6*g+1;d[y]=o[k],d[y+1]=o[k+2],d[y+2]=o[k+4],d[y+3]=255}}else if(32==l){for(var w=new Float32Array(o.buffer),T=0,g=0;g<w.length;g++)T=Math.min(T,w[g]);if(T<0)for(var g=0;g<o.length;g+=4){var Z=o[g];o[g]=o[g+3],o[g+3]=Z,Z=o[g+1],o[g+1]=o[g+2],o[g+2]=Z}for(var E=[],g=0;g<65536;g++)E.push(r(g/65535));for(var g=0;g<w.length;g++){var A=Math.max(0,Math.min(1,w[g]));w[g]=E[~~(.5+65535*A)]}if(3==c)for(var g=0;g<s;g++){var y=g<<2,k=3*g;d[y]=~~(.5+255*w[k]),d[y+1]=~~(.5+255*w[k+1]),d[y+2]=~~(.5+255*w[k+2]),d[y+3]=255}else if(4==c)for(var g=0;g<s;g++){var y=g<<2,k=4*g;d[y]=~~(.5+255*w[k]),d[y+1]=~~(.5+255*w[k+1]),d[y+2]=~~(.5+255*w[k+2]),d[y+3]=~~(.5+255*w[k+3])}else throw c}else throw l;else if(3==u)for(var S=e.t320,O=1<<l,I=8==l&&c>1&&e.t338&&0!=e.t338[0],f=0;f<n;f++)for(var C=0;C<a;C++){var g=f*a+C,y=g<<2,N=0,M=f*p;if(1==l)N=o[M+(C>>>3)]>>>7-(7&C)&1;else if(2==l)N=o[M+(C>>>2)]>>>6-2*(3&C)&3;else if(4==l)N=o[M+(C>>>1)]>>>4-4*(1&C)&15;else if(8==l)N=o[M+C*c];else throw l;d[y]=S[N]>>8,d[y+1]=S[O+N]>>8,d[y+2]=S[O+O+N]>>8,d[y+3]=I?o[M+C*c+1]:255}else if(5==u)for(var P=+(c>4),g=0;g<s;g++){var y=g<<2,j=g*c;if(window.UDOC){var R=o[j],D=o[j+1],L=o[j+2],F=o[j+3],B=UDOC.C.cmykToRgb([1/255*R,1/255*D,1/255*L,1/255*F]);d[y]=~~(.5+255*B[0]),d[y+1]=~~(.5+255*B[1]),d[y+2]=~~(.5+255*B[2])}else{var R=255-o[j],D=255-o[j+1],L=255-o[j+2],F=(255-o[j+3])*(1/255);d[y]=~~(R*F+.5),d[y+1]=~~(D*F+.5),d[y+2]=~~(L*F+.5)}d[y+3]=255*(1-P)+o[j+4]*P}else if(6==u&&e.t278)for(var z=e.t278[0],f=0;f<n;f+=z)for(var g=f*a,$=z*a,U=0;U<$;U++){var y=4*(g+U),j=3*g+4*(U>>>1),L=o[j+(1&U)],V=o[j+2]-128,W=o[j+3]-128,K=L+((W>>2)+(W>>3)+(W>>5)),q=L-((V>>2)+(V>>4)+(V>>5))-((W>>1)+(W>>3)+(W>>4)+(W>>5)),G=L+(V+(V>>1)+(V>>2)+(V>>6));d[y]=Math.max(0,Math.min(255,K)),d[y+1]=Math.max(0,Math.min(255,q)),d[y+2]=Math.max(0,Math.min(255,G)),d[y+3]=255}else if(32845==u)for(var f=0;f<n;f++)for(var C=0;C<a;C++){var j=(f*a+C)*6,y=(f*a+C)*4,H=o[j+1]<<8|o[j],H=Math.pow(2,(H+.5)/256-64),Y=(o[j+3]+.5)/410,J=(o[j+5]+.5)/410,X=9*Y/(6*Y-16*J+12),Q=4*J/(6*Y-16*J+12),ee=H,et=X*ee/Q,L=ee,er=(1-X-Q)*ee/Q,K=2.69*et-1.276*L-.414*er,q=-1.022*et+1.978*L+.044*er,G=.061*et-.224*L+1.163*er;d[y]=255*r(Math.min(K,1)),d[y+1]=255*r(Math.min(q,1)),d[y+2]=255*r(Math.min(G,1)),d[y+3]=255}else i("Unknown Photometric interpretation: "+u);return d},e.replaceIMG=function(t){null==t&&(t=document.getElementsByTagName("img"));for(var r=["tif","tiff","dng","cr2","nef"],i=0;i<t.length;i++){var a=t[i],n=a.getAttribute("src");if(null!=n){var s=n.split(".").pop().toLowerCase();if(-1!=r.indexOf(s)){var o=new XMLHttpRequest;e._xhrs.push(o),e._imgs.push(a),o.open("GET",n),o.responseType="arraybuffer",o.onload=e._imgLoaded,o.send()}}}},e._xhrs=[],e._imgs=[],e._imgLoaded=function(t){var r=e._xhrs.indexOf(t.target),i=e._imgs[r];e._xhrs.splice(r,1),e._imgs.splice(r,1),i.setAttribute("src",e.bufferToURI(t.target.response))},e.bufferToURI=function(t){var r=e.decode(t),i=r,a=0,n=i[0];r[0].subIFD&&(i=i.concat(r[0].subIFD));for(var s=0;s<i.length;s++){var o=i[s];if(null!=o.t258&&!(o.t258.length<3)){var d=o.t256*o.t257;d>a&&(a=d,n=o)}}e.decodeImage(t,n,r);var u=e.toRGBA8(n),l=n.width,c=n.height,h=document.createElement("canvas");h.width=l,h.height=c;var p=h.getContext("2d"),f=new ImageData(new Uint8ClampedArray(u.buffer),l,c);return p.putImageData(f,0,0),h.toDataURL()},e._binBE={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},readShort:function(t,r){var i=e._binBE.ui8;return i[0]=t[r+1],i[1]=t[r+0],e._binBE.i16[0]},readInt:function(t,r){var i=e._binBE.ui8;return i[0]=t[r+3],i[1]=t[r+2],i[2]=t[r+1],i[3]=t[r+0],e._binBE.i32[0]},readUint:function(t,r){var i=e._binBE.ui8;return i[0]=t[r+3],i[1]=t[r+2],i[2]=t[r+1],i[3]=t[r+0],e._binBE.ui32[0]},readASCII:function(e,t,r){for(var i="",a=0;a<r;a++)i+=String.fromCharCode(e[t+a]);return i},readFloat:function(t,r){for(var i=e._binBE.ui8,a=0;a<4;a++)i[a]=t[r+3-a];return e._binBE.fl32[0]},readDouble:function(t,r){for(var i=e._binBE.ui8,a=0;a<8;a++)i[a]=t[r+7-a];return e._binBE.fl64[0]},writeUshort:function(e,t,r){e[t]=r>>8&255,e[t+1]=255&r},writeInt:function(t,r,i){var a=e._binBE.ui8;e._binBE.i32[0]=i,t[r+3]=a[0],t[r+2]=a[1],t[r+1]=a[2],t[r+0]=a[3]},writeUint:function(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},writeASCII:function(e,t,r){for(var i=0;i<r.length;i++)e[t+i]=r.charCodeAt(i)},writeDouble:function(t,r,i){e._binBE.fl64[0]=i;for(var a=0;a<8;a++)t[r+a]=e._binBE.ui8[7-a]}},e._binBE.ui8=new Uint8Array(8),e._binBE.i16=new Int16Array(e._binBE.ui8.buffer),e._binBE.i32=new Int32Array(e._binBE.ui8.buffer),e._binBE.ui32=new Uint32Array(e._binBE.ui8.buffer),e._binBE.fl32=new Float32Array(e._binBE.ui8.buffer),e._binBE.fl64=new Float64Array(e._binBE.ui8.buffer),e._binLE={nextZero:e._binBE.nextZero,readUshort:function(e,t){return e[t+1]<<8|e[t]},readShort:function(t,r){var i=e._binBE.ui8;return i[0]=t[r+0],i[1]=t[r+1],e._binBE.i16[0]},readInt:function(t,r){var i=e._binBE.ui8;return i[0]=t[r+0],i[1]=t[r+1],i[2]=t[r+2],i[3]=t[r+3],e._binBE.i32[0]},readUint:function(t,r){var i=e._binBE.ui8;return i[0]=t[r+0],i[1]=t[r+1],i[2]=t[r+2],i[3]=t[r+3],e._binBE.ui32[0]},readASCII:e._binBE.readASCII,readFloat:function(t,r){for(var i=e._binBE.ui8,a=0;a<4;a++)i[a]=t[r+a];return e._binBE.fl32[0]},readDouble:function(t,r){for(var i=e._binBE.ui8,a=0;a<8;a++)i[a]=t[r+a];return e._binBE.fl64[0]},writeUshort:function(e,t,r){e[t]=255&r,e[t+1]=r>>8&255},writeInt:function(t,r,i){var a=e._binBE.ui8;e._binBE.i32[0]=i,t[r+0]=a[0],t[r+1]=a[1],t[r+2]=a[2],t[r+3]=a[3]},writeUint:function(e,t,r){e[t]=r>>>0&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24&255},writeASCII:e._binBE.writeASCII},e._copyTile=function(e,t,r,i,a,n,s,o){for(var d=Math.min(t,a-s),u=Math.min(r,n-o),l=0;l<u;l++)for(var c=(o+l)*a+s,h=l*t,p=0;p<d;p++)i[c+p]=e[h+p]},e.LosslessJpegDecode=function(){var e,t;function r(){return e[t++]}function i(){return e[t++]<<8|e[t++]}function a(e){for(var t=r(),i=[0,0,0,255],a=[],s=8,o=0;o<16;o++)a[o]=r();for(var o=0;o<16;o++)for(var d=0;d<a[o];d++){var u=n(i,0,o+1,1);i[u+3]=r()}var l=new Uint8Array(1<<s);e[t]=[new Uint8Array(i),l];for(var o=0;o<1<<s;o++){for(var c=s,h=o,p=0,f=0;255==i[p+3]&&0!=c;)p=i[p+(f=h>>--c&1)];l[o]=p}}function n(e,t,r,i){if(255!=e[t+3])return 0;if(0==r)return t;for(var a=0;a<2;a++){0==e[t+a]&&(e[t+a]=e.length,e.push(0,0,i,255));var s=n(e,e[t+a],r-1,i+1);if(0!=s)return s}return 0}function s(e){for(var t=e.b,r=e.f;t<25&&e.a<e.d;){var i=e.data[e.a++];255==i&&!e.c&&e.a++,r=r<<8|i,t+=8}if(t<0)throw"e";e.b=t,e.f=r}function o(e,t){return t.b<e&&s(t),t.f>>(t.b-=e)&65535>>16-e}function d(e,t){var r=e[0],i=0,a=255,n=0;t.b<16&&s(t);var o=t.f>>t.b-8&255;for(a=r[(i=e[1][o])+3],t.b-=r[i+2];255==a;)i=r[i+(n=t.f>>--t.b&1)],a=r[i+3];return a}function u(e,t){return e<32768>>16-t&&(e+=-(1<<t)+1),e}function l(e,t){var r=d(e,t);return 0==r?0:16==r?-32768:u(o(r,t),r)}function c(e,t,r,i,a,n){for(var s=0,o=0;o<n;o++){for(var d=o*t,u=0;u<t;u+=a){s++;for(var c=0;c<a;c++)e[d+u+c]=l(i[c],r)}if(0!=r.e&&s%r.e==0&&0!=o){for(var h=r.a,p=r.data;255!=p[h]||!(208<=p[h+1]&&p[h+1]<=215);)h--;r.a=h+2,r.f=0,r.b=0}}}function h(e,t){return u(o(e,t),e)}function p(r,i,a,n,s){for(var o=e.length-t,u=0;u<o;u+=4){var l=e[t+u];e[t+u]=e[t+u+3],e[t+u+3]=l;var l=e[t+u+1];e[t+u+1]=e[t+u+2],e[t+u+2]=l}for(var c=0;c<s;c++)for(var p=32768,f=32768,m=0;m<i;m+=2){var _=d(n,a),g=d(n,a);0!=_&&(p+=h(_,a)),0!=g&&(f+=h(g,a)),r[c*i+m]=65535&p,r[c*i+m+1]=65535&f}}function f(e,t,r,i,a,n,s,o){for(var d=r*s,u=a;u<n;u++)e[u]+=1<<o-1;for(var l=s;l<d;l+=s)for(var u=a;u<n;u++)e[l+u]+=e[l+u-s];for(var c=1;c<i;c++){for(var h=c*d,u=a;u<n;u++)e[h+u]+=e[h+u-d];for(var l=s;l<d;l+=s)for(var u=a;u<n;u++){var p=h+l+u,f=p-d,m=e[p-s],_=0;if(0==t)_=0;else if(1==t)_=m;else if(2==t)_=e[f];else if(3==t)_=e[f-s];else if(4==t)_=m+(e[f]-e[f-s]);else if(5==t)_=m+(e[f]-e[f-s]>>>1);else if(6==t)_=e[f]+(m-e[f-s]>>>1);else if(7==t)_=m+e[f]>>>1;else throw t;e[p]+=_}}}return function(n){if(e=n,t=0,65496!=i())throw"e";for(var s=[],o=0,d=0,u=0,l=[],h=[],m=[],_=0,g=0,y=0;;){var v=i();if(65535==v){t--;continue}var b=i();if(65475==v){d=r(),g=i(),y=i(),_=r();for(var x=0;x<_;x++){var k=r(),w=r();if(0!=r())throw"e";s[k]=[x,w>>4,15&w]}}else if(65476==v)for(var T=t+b-2;t<T;)a(h);else if(65498==v){t++;for(var x=0;x<_;x++){var Z=s[r()];m[Z[0]]=h[r()>>>4],l[Z[0]]=Z.slice(1)}o=r(),t+=2;break}else 65501==v?u=i():t+=b-2}var E=new(d>8?Uint16Array:Uint8Array)(g*y*_),A={b:0,f:0,c:8==o,a:t,data:e,d:e.length,e:u};if(A.c)p(E,y*_,A,m[0],g);else{for(var S=[],O=0,I=0,x=0;x<_;x++){var C=l[x],N=C[0],M=C[1];N>O&&(O=N),M>I&&(I=M),S.push(N*M)}if(1!=O||1!=I){if(3!=_||1!=S[1]||1!=S[2]||2!=O||1!=I&&2!=I)throw"e";for(var P=[],j=0,x=0;x<_;x++){for(var R=0;R<S[x];R++)P.push(m[x]);j+=S[x]}var D=y/O,L=g/I,F=D*L;c(E,D*j,A,P,j,L),f(E,o,D,L,j-2,j,j,d);var B=new Uint16Array(F*S[0]);if(2==O&&2==I){for(var x=0;x<F;x++)B[4*x]=E[6*x],B[4*x+1]=E[6*x+1],B[4*x+2]=E[6*x+2],B[4*x+3]=E[6*x+3];f(B,o,4*D,L,0,1,1,d);for(var x=0;x<F;x++)E[6*x]=B[4*x],E[6*x+1]=B[4*x+1],E[6*x+2]=B[4*x+2],E[6*x+3]=B[4*x+3]}if(2==O&&1==I){for(var x=0;x<F;x++)B[2*x]=E[4*x],B[2*x+1]=E[4*x+1];f(B,o,2*D,L,0,1,1,d);for(var x=0;x<F;x++)E[4*x]=B[2*x],E[4*x+1]=B[2*x+1]}for(var z=E.slice(0),M=0;M<g;M++)if(2==I)for(var N=0;N<y;N++){var $=(M*y+N)*_,U=((M>>>1)*D+(N>>>1))*j,V=(1&M)*2+(1&N);E[$]=z[U+V],E[$+1]=z[U+4],E[$+2]=z[U+5]}else for(var N=0;N<y;N++){var $=(M*y+N)*_,U=(M*D+(N>>>1))*j,V=1&N;E[$]=z[U+V],E[$+1]=z[U+2],E[$+2]=z[U+3]}}else if(c(E,y*_,A,m,_,g),0==u)f(E,o,y,g,0,_,_,d);else for(var W=Math.floor(u/y),M=0;M<g;M+=W){var K=E.slice(M*y*_,(M+W)*y*_);f(K,o,y,W,0,_,_,d),E.set(K,M*y*_)}}return E}}(),function(){var t=0,r=1,i=2,a=3,n=4,s=5,o=6,d=7,u=8,l=9,c=10,h=11,p=12,f=13,m=14,_=15,g=16,y=17,v=18;function b(t){var r=e._binBE.readUshort,i={b:r(t,0),i:t[2],C:t[3],u:t[4],q:r(t,5),k:r(t,7),e:r(t,9),l:r(t,11),s:t[13],d:r(t,14)};if(18771!=i.b||i.i>1||i.q<6||i.q%6||i.e<768||i.e%24||768!=i.l||i.k<i.l||i.k%i.l||i.k-i.e>=i.l||i.s>16||i.s!=i.k/i.l||i.s!=Math.ceil(i.e/i.l)||i.d!=i.q/6||12!=i.u&&14!=i.u&&16!=i.u||16!=i.C&&0!=i.C)throw"Invalid data";if(0==i.i)throw"Not implemented. We need this file!";return i.h=16==i.C,i.m=(i.h?2*i.l/3:i.l>>>1)|0,i.A=i.m+2,i.f=64,i.g=(1<<i.u)-1,i.n=4*i.u,i}function x(t,r){var i=Array(r.s),a=4*r.s,n=16+a;12&a&&(n+=16-(12&a));for(var s=0,o=16;s<r.s;o+=4){var d=e._binBE.readUint(t,o);i[s]=t.slice(n,n+d),i[s].j=0,i[s].a=0,n+=d,s++}if(n!=t.length)throw"Invalid data";return i}function k(e,t){for(var r=-t[4],i=0;r<=t[4];i++,r++)e[i]=r<=-t[3]?-4:r<=-t[2]?-3:r<=-t[1]?-2:r<-t[0]?-1:r<=t[0]?0:r<t[1]?1:r<t[2]?2:r<t[3]?3:4}function w(e,t,r){var i=[t,3*t+18,5*t+67,7*t+276,r];e.o=t,e.w=(i[4]+2*t)/(2*t+1)+1|0,e.v=Math.ceil(Math.log2(e.w)),e.t=9,k(e.c,i)}function T(e){var t={c:new Int8Array(2<<e.u)};return w(t,0,e.g),t}function Z(e){for(var t=[[],[],[]],r=Math.max(2,e.w+32>>>6),i=0;i<3;i++)for(var a=0;a<41;a++)t[i][a]=[r,1];return t}function E(e){for(var t=-1,r=0;!r;t++)r=e[e.j]>>>7-e.a&1,e.a++,e.a&=7,!e.a&&e.j++;return t}function A(e,t){var r=0,i=8-e.a;if(e.j,e.a,t){if(t>=i)do r<<=i,t-=i,r|=e[e.j]&(1<<i)-1,e.j++,i=8;while(t>=8)t&&(r<<=t,i-=t,r|=e[e.j]>>>i&(1<<t)-1),e.a=8-i}return r}function S(e,t){var r=0;if(t<e)for(;r<=14&&t<<++r<e;);return r}function O(e,t,r,i,a,n,s,o){null==o&&(o=0);var d,u,l,c,h,p,f=n+1,m=f%2,_=0,g=i[a],y=i[a-1],v=i[a-2][f],b=y[f-1],x=y[f],k=y[f+1],w=g[f-1],T=g[f+1],Z=Math.abs;if(m&&(l=Z(k-x),c=Z(v-x),h=Z(b-x)),m){if(p=(p=l>h&&c<l?v+b:l<h&&c<h?v+k:k+b)+2*x>>>2,o){g[f]=p;return}d=t.t*t.c[e.g+x-v]+t.c[e.g+b-x]}else p=x>b&&x>k||x<b&&x<k?T+w+2*x>>>2:w+T>>>1,d=t.t*t.c[e.g+x-b]+t.c[e.g+b-w];u=Z(d);var O=E(r);if(O<e.n-t.v-1){var I=S(s[u][0],s[u][1]);_=A(r,I)+(O<<I)}else _=A(r,t.v)+1;_=1&_?-1-(_>>>1):_>>>1,s[u][0]+=Z(_),s[u][1]==e.f&&(s[u][0]>>>=1,s[u][1]>>>=1),s[u][1]++,p=d<0?p-_:p+_,e.i&&(p<0?p+=t.w:p>e.g&&(p-=t.w)),g[f]=p>=0?Math.min(p,e.g):0}function I(e,t,r){for(var i=e[0].length,a=t;a<=r;a++)e[a][0]=e[a-1][1],e[a][i-1]=e[a-1][i-2]}function C(e){I(e,d,p),I(e,i,n),I(e,_,y)}function N(e,t,r,i,a,s,o,d,u,l,c,h,p){for(var m=0,_=1,g=a<f&&a>n;_<e.m;)m<e.m&&(O(e,t,r,i,a,m,o[u],e.h&&(g&&l||!g&&(c||(m&h)==p))),O(e,t,r,i,s,m,o[u],e.h&&(!g&&l||g&&(c||(m&h)==p))),m+=2),m>8&&(O(e,t,r,i,a,_,d[u]),O(e,t,r,i,s,_,d[u]),_+=2);C(i)}function M(e,t,r,s,o,f){N(e,t,r,s,i,d,o,f,0,0,1,0,8),N(e,t,r,s,u,_,o,f,1,0,1,0,8),N(e,t,r,s,a,l,o,f,2,1,0,3,0),N(e,t,r,s,c,g,o,f,0,0,0,3,2),N(e,t,r,s,n,h,o,f,1,0,0,3,2),N(e,t,r,s,p,y,o,f,2,1,0,3,0)}function P(e,t,r,a,n,s){var o=s.length,u=e.l;n+1==e.s&&(u=e.e-n*e.l);for(var l=6*e.e*a+n*e.l,c=0;c<6;c++){for(var h=0;h<u;h++){var p,f=s[c%o][h%o];p=0==f?i+(c>>>1):2==f?_+(c>>>1):d+c;var m=e.h?(2*h/3&0x7ffffffe|h%3&1)+(h%3>>>1):h>>>1;t[l+h]=r[p][m+1]}l+=e.e}}e._decompressRAF=function(e,d){var u=b(e),l=x(e,u),c=T(u),_=new Int16Array(u.e*u.q);null==d&&(d=u.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var k=[[t,a],[r,n],[s,h],[o,p],[f,g],[m,y]],w=[],E=0;E<v;E++)w[E]=new Uint16Array(u.A);for(var A=0;A<u.s;A++){for(var S=Z(c),O=Z(c),E=0;E<v;E++)for(var I=0;I<u.A;I++)w[E][I]=0;for(var N=0;N<u.d;N++){M(u,c,l[A],w,S,O);for(var E=0;E<6;E++)for(var I=0;I<u.A;I++)w[k[E][0]][I]=w[k[E][1]][I];P(u,_,w,N,A,d);for(var E=i;E<v;E++)if(-1==[s,o,f,m].indexOf(E))for(var I=0;I<u.A;I++)w[E][I]=0;C(w)}}return _}}()}(r,e.r(826509))}()},640635,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AnsiStringType=r.StringType=r.BufferType=r.Uint8ArrayType=r.IgnoreType=r.Float80_LE=r.Float80_BE=r.Float64_LE=r.Float64_BE=r.Float32_LE=r.Float32_BE=r.Float16_LE=r.Float16_BE=r.INT64_BE=r.UINT64_BE=r.INT64_LE=r.UINT64_LE=r.INT32_LE=r.INT32_BE=r.INT24_BE=r.INT24_LE=r.INT16_LE=r.INT16_BE=r.INT8=r.UINT32_BE=r.UINT32_LE=r.UINT24_BE=r.UINT24_LE=r.UINT16_BE=r.UINT16_LE=r.UINT8=void 0;let i=e.r(717324);function a(e){return new DataView(e.buffer,e.byteOffset)}r.UINT8={len:1,get:(e,t)=>a(e).getUint8(t),put:(e,t,r)=>(a(e).setUint8(t,r),t+1)},r.UINT16_LE={len:2,get:(e,t)=>a(e).getUint16(t,!0),put:(e,t,r)=>(a(e).setUint16(t,r,!0),t+2)},r.UINT16_BE={len:2,get:(e,t)=>a(e).getUint16(t),put:(e,t,r)=>(a(e).setUint16(t,r),t+2)},r.UINT24_LE={len:3,get(e,t){let r=a(e);return r.getUint8(t)+(r.getUint16(t+1,!0)<<8)},put(e,t,r){let i=a(e);return i.setUint8(t,255&r),i.setUint16(t+1,r>>8,!0),t+3}},r.UINT24_BE={len:3,get(e,t){let r=a(e);return(r.getUint16(t)<<8)+r.getUint8(t+2)},put(e,t,r){let i=a(e);return i.setUint16(t,r>>8),i.setUint8(t+2,255&r),t+3}},r.UINT32_LE={len:4,get:(e,t)=>a(e).getUint32(t,!0),put:(e,t,r)=>(a(e).setUint32(t,r,!0),t+4)},r.UINT32_BE={len:4,get:(e,t)=>a(e).getUint32(t),put:(e,t,r)=>(a(e).setUint32(t,r),t+4)},r.INT8={len:1,get:(e,t)=>a(e).getInt8(t),put:(e,t,r)=>(a(e).setInt8(t,r),t+1)},r.INT16_BE={len:2,get:(e,t)=>a(e).getInt16(t),put:(e,t,r)=>(a(e).setInt16(t,r),t+2)},r.INT16_LE={len:2,get:(e,t)=>a(e).getInt16(t,!0),put:(e,t,r)=>(a(e).setInt16(t,r,!0),t+2)},r.INT24_LE={len:3,get(e,t){let i=r.UINT24_LE.get(e,t);return i>8388607?i-0x1000000:i},put(e,t,r){let i=a(e);return i.setUint8(t,255&r),i.setUint16(t+1,r>>8,!0),t+3}},r.INT24_BE={len:3,get(e,t){let i=r.UINT24_BE.get(e,t);return i>8388607?i-0x1000000:i},put(e,t,r){let i=a(e);return i.setUint16(t,r>>8),i.setUint8(t+2,255&r),t+3}},r.INT32_BE={len:4,get:(e,t)=>a(e).getInt32(t),put:(e,t,r)=>(a(e).setInt32(t,r),t+4)},r.INT32_LE={len:4,get:(e,t)=>a(e).getInt32(t,!0),put:(e,t,r)=>(a(e).setInt32(t,r,!0),t+4)},r.UINT64_LE={len:8,get:(e,t)=>a(e).getBigUint64(t,!0),put:(e,t,r)=>(a(e).setBigUint64(t,r,!0),t+8)},r.INT64_LE={len:8,get:(e,t)=>a(e).getBigInt64(t,!0),put:(e,t,r)=>(a(e).setBigInt64(t,r,!0),t+8)},r.UINT64_BE={len:8,get:(e,t)=>a(e).getBigUint64(t),put:(e,t,r)=>(a(e).setBigUint64(t,r),t+8)},r.INT64_BE={len:8,get:(e,t)=>a(e).getBigInt64(t),put:(e,t,r)=>(a(e).setBigInt64(t,r),t+8)},r.Float16_BE={len:2,get(e,t){return i.read(e,t,!1,10,this.len)},put(e,t,r){return i.write(e,r,t,!1,10,this.len),t+this.len}},r.Float16_LE={len:2,get(e,t){return i.read(e,t,!0,10,this.len)},put(e,t,r){return i.write(e,r,t,!0,10,this.len),t+this.len}},r.Float32_BE={len:4,get:(e,t)=>a(e).getFloat32(t),put:(e,t,r)=>(a(e).setFloat32(t,r),t+4)},r.Float32_LE={len:4,get:(e,t)=>a(e).getFloat32(t,!0),put:(e,t,r)=>(a(e).setFloat32(t,r,!0),t+4)},r.Float64_BE={len:8,get:(e,t)=>a(e).getFloat64(t),put:(e,t,r)=>(a(e).setFloat64(t,r),t+8)},r.Float64_LE={len:8,get:(e,t)=>a(e).getFloat64(t,!0),put:(e,t,r)=>(a(e).setFloat64(t,r,!0),t+8)},r.Float80_BE={len:10,get(e,t){return i.read(e,t,!1,63,this.len)},put(e,t,r){return i.write(e,r,t,!1,63,this.len),t+this.len}},r.Float80_LE={len:10,get(e,t){return i.read(e,t,!0,63,this.len)},put(e,t,r){return i.write(e,r,t,!0,63,this.len),t+this.len}};class n{constructor(e){this.len=e}get(e,t){}}r.IgnoreType=n;class s{constructor(e){this.len=e}get(e,t){return e.subarray(t,t+this.len)}}r.Uint8ArrayType=s;class o{constructor(e){this.len=e}get(e,t){return Buffer.from(e.subarray(t,t+this.len))}}r.BufferType=o;class d{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return Buffer.from(e).toString(this.encoding,t,t+this.len)}}r.StringType=d;class u{constructor(e){this.len=e}static decode(e,t,r){let i="";for(let a=t;a<r;++a)i+=u.codePointToString(u.singleByteDecoder(e[a]));return i}static inRange(e,t,r){return t<=e&&e<=r}static codePointToString(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10)+55296,(1023&e)+56320)}static singleByteDecoder(e){if(u.inRange(e,0,127))return e;let t=u.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return u.decode(e,t,t+this.len)}}r.AnsiStringType=u,u.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},614727,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EndOfStreamError=r.defaultMessages=void 0,r.defaultMessages="End-Of-Stream";class i extends Error{constructor(){super(r.defaultMessages)}}r.EndOfStreamError=i},745835,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Deferred=void 0;class i{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}}r.Deferred=i},856496,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StreamReader=r.EndOfStreamError=void 0;let i=e.r(614727),a=e.r(745835);var n=e.r(614727);Object.defineProperty(r,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}});let s=1048576;class o{constructor(e){if(this.s=e,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new i.EndOfStreamError)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(Error("Stream closed")))}async peek(e,t,r){let i=await this.read(e,t,r);return this.peekQueue.push(e.subarray(t,t+i)),i}async read(e,t,r){if(0===r)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new i.EndOfStreamError;let a=r,n=0;for(;this.peekQueue.length>0&&a>0;){let r=this.peekQueue.pop();if(!r)throw Error("peekData should be defined");let i=Math.min(r.length,a);e.set(r.subarray(0,i),t+n),n+=i,a-=i,i<r.length&&this.peekQueue.push(r.subarray(i))}for(;a>0&&!this.endOfStream;){let r=Math.min(a,s),i=await this.readFromStream(e,t+n,r);if(n+=i,i<r)break;a-=i}return n}async readFromStream(e,t,r){let i=this.s.read(r);if(i)return e.set(i,t),i.length;{let i={buffer:e,offset:t,length:r,deferred:new a.Deferred};return this.deferred=i.deferred,this.s.once("readable",()=>{this.readDeferred(i)}),i.deferred.promise}}readDeferred(e){let t=this.s.read(e.length);t?(e.buffer.set(t,e.offset),e.deferred.resolve(t.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(e)})}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}}r.StreamReader=o},720961,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StreamReader=r.EndOfStreamError=void 0;var i=e.r(614727);Object.defineProperty(r,"EndOfStreamError",{enumerable:!0,get:function(){return i.EndOfStreamError}});var a=e.r(856496);Object.defineProperty(r,"StreamReader",{enumerable:!0,get:function(){return a.StreamReader}})},950279,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AbstractTokenizer=void 0;let i=e.r(720961);class a{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(e,t=this.position){let r=Buffer.alloc(e.len);if(await this.readBuffer(r,{position:t})<e.len)throw new i.EndOfStreamError;return e.get(r,0)}async peekToken(e,t=this.position){let r=Buffer.alloc(e.len);if(await this.peekBuffer(r,{position:t})<e.len)throw new i.EndOfStreamError;return e.get(r,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new i.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new i.EndOfStreamError;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){let t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}r.AbstractTokenizer=a},238012,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ReadStreamTokenizer=void 0;let i=e.r(950279),a=e.r(720961),n=256e3;class s extends i.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new a.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){let r=this.normalizeOptions(e,t),i=r.position-this.position;if(i>0)return await this.ignore(i),this.readBuffer(e,t);if(i<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===r.length)return 0;let n=await this.streamReader.read(e,r.offset,r.length);if(this.position+=n,(!t||!t.mayBeLess)&&n<r.length)throw new a.EndOfStreamError;return n}async peekBuffer(e,t){let r=this.normalizeOptions(e,t),i=0;if(r.position){let t=r.position-this.position;if(t>0){let a=new Uint8Array(r.length+t);return i=await this.peekBuffer(a,{mayBeLess:r.mayBeLess}),e.set(a.subarray(t),r.offset),i-t}if(t<0)throw Error("Cannot peek from a negative offset in a stream")}if(r.length>0){try{i=await this.streamReader.peek(e,r.offset,r.length)}catch(e){if(t&&t.mayBeLess&&e instanceof a.EndOfStreamError)return 0;throw e}if(!r.mayBeLess&&i<r.length)throw new a.EndOfStreamError}return i}async ignore(e){let t=Math.min(n,e),r=new Uint8Array(t),i=0;for(;i<e;){let a=e-i,n=await this.readBuffer(r,{length:Math.min(t,a)});if(n<0)return n;i+=n}return i}}r.ReadStreamTokenizer=s},210430,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BufferTokenizer=void 0;let i=e.r(720961),a=e.r(950279);class n extends a.AbstractTokenizer{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}let r=await this.peekBuffer(e,t);return this.position+=r,r}async peekBuffer(e,t){let r=this.normalizeOptions(e,t),a=Math.min(this.uint8Array.length-r.position,r.length);if(r.mayBeLess||!(a<r.length))return e.set(this.uint8Array.subarray(r.position,r.position+a),r.offset),a;throw new i.EndOfStreamError}async close(){}}r.BufferTokenizer=n},684322,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fromBuffer=r.fromStream=r.EndOfStreamError=void 0;let i=e.r(238012),a=e.r(210430);var n=e.r(720961);Object.defineProperty(r,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}}),r.fromStream=function(e,t){return t=t||{},new i.ReadStreamTokenizer(e,t)},r.fromBuffer=function(e,t){return new a.BufferTokenizer(e,t)}},985225,(e,t,r)=>{"use strict";r.stringToBytes=e=>[...e].map(e=>e.charCodeAt(0)),r.tarHeaderChecksumMatches=(e,t=0)=>{let r=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;let i=256;for(let r=t;r<t+148;r++)i+=e[r];for(let r=t+156;r<t+512;r++)i+=e[r];return r===i},r.uint32SyncSafeToken={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}},42447,(e,t,r)=>{"use strict";t.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},626831,(__turbopack_context__,module,exports)=>{"use strict";let Token=__turbopack_context__.r(640635),strtok3=__turbopack_context__.r(684322),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__turbopack_context__.r(985225),supported=__turbopack_context__.r(42447),minimumBytes=4100;async function fromStream(e){let t=await strtok3.fromStream(e);try{return await fromTokenizer(t)}finally{await t.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);let t=e instanceof Buffer?e:Buffer.from(e);if(t&&t.length>1)return fromTokenizer(strtok3.fromBuffer(t))}function _check(e,t,r){for(let[i,a]of(r={offset:0,...r},t.entries()))if(r.mask){if(a!==(r.mask[i]&e[i+r.offset]))return!1}else if(a!==e[i+r.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}}async function _fromTokenizer(e){let t=Buffer.alloc(minimumBytes),r=12,i=(e,r)=>_check(t,e,r),a=(e,t)=>i(stringToBytes(e),t);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),await e.peekBuffer(t,{length:r,mayBeLess:!0}),i([66,77]))return{ext:"bmp",mime:"image/bmp"};if(i([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(i([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(i([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(i([37,33]))return(await e.peekBuffer(t,{length:24,mayBeLess:!0}),a("PS-Adobe-",{offset:2})&&a(" EPSF-",{offset:14}))?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(i([31,160])||i([31,157]))return{ext:"Z",mime:"application/x-compress"};if(i([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(i([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(i([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(i([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(a("ID3")){await e.ignore(6);let t=await e.readToken(uint32SyncSafeToken);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),fromTokenizer(e))}if(a("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===t[0]||70===t[0])&&i([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(i([71,73,70]))return{ext:"gif",mime:"image/gif"};if(a("FLIF"))return{ext:"flif",mime:"image/flif"};if(a("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(a("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(a("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(a("FORM"))return{ext:"aif",mime:"audio/aiff"};if(a("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(i([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(t,{length:30});let r={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(r.filename=await e.readToken(new Token.StringType(r.filenameLength,"utf-8")),await e.ignore(r.extraFieldLength),"META-INF/mozilla.rsa"===r.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(r.filename.endsWith(".rels")||r.filename.endsWith(".xml"))switch(r.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(r.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(r.filename.startsWith("3D/")&&r.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===r.filename&&r.compressedSize===r.uncompressedSize)switch(await e.readToken(new Token.StringType(r.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(0===r.compressedSize){let r=-1;for(;r<0&&e.position<e.fileInfo.size;)await e.peekBuffer(t,{mayBeLess:!0}),r=t.indexOf("504B0304",0,"hex"),await e.ignore(r>=0?r:t.length)}else await e.ignore(r.compressedSize)}}catch(e){if(!(e instanceof strtok3.EndOfStreamError))throw e}return{ext:"zip",mime:"application/zip"}}if(a("OggS")){await e.ignore(28);let t=Buffer.alloc(8);return(await e.readBuffer(t),_check(t,[79,112,117,115,72,101,97,100]))?{ext:"opus",mime:"audio/opus"}:_check(t,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(t,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(t,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(t,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(t,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(i([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(a("ftyp",{offset:4})&&(96&t[8])!=0){let e=t.toString("binary",8,12).replace("\0"," ").trim();switch(e){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(e.startsWith("3g")){if(e.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(a("MThd"))return{ext:"mid",mime:"audio/midi"};if(a("wOFF")&&(i([0,1,0,0],{offset:4})||a("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(a("wOF2")&&(i([0,1,0,0],{offset:4})||a("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(i([212,195,178,161])||i([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(a("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(a("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(a("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(i([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(a("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(a("%PDF")){await e.ignore(1350);let t=0xa00000,r=Buffer.alloc(Math.min(t,e.fileInfo.size));return(await e.readBuffer(r,{mayBeLess:!0}),r.includes(Buffer.from("AIPrivateData")))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(i([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(i([73,73,42,0]))return a("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:i([28,0,254,0],{offset:8})||i([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:i([8,0,0,0],{offset:4})&&(i([45,0,254,0],{offset:8})||i([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=Buffer.alloc(24),await e.peekBuffer(t),(i([16,251,134,1],{offset:4})||i([8,0,0,0],{offset:4}))&&i([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9}))?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"};if(i([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(a("MAC "))return{ext:"ape",mime:"audio/ape"};if(i([26,69,223,163])){async function n(){let t=await e.peekNumber(Token.UINT8),r=128,i=0;for(;(t&r)==0&&0!==r;)++i,r>>=1;let a=Buffer.alloc(i+1);return await e.readBuffer(a),a}async function s(){let e=await n(),t=await n();t[0]^=128>>t.length-1;let r=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-r,r)}}async function o(t,r){for(;r>0;){let t=await s();if(17026===t.id)return e.readToken(new Token.StringType(t.len,"utf-8"));await e.ignore(t.len),--r}}let t=await s();switch(await o(1,t.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(i([82,73,70,70])){if(i([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(i([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(i([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(a("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(i([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(a("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(a("MSCF")||a("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(i([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(i([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(i([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(i([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(a("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(a("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(i([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(a("IMPM"))return{ext:"it",mime:"audio/x-it"};if(a("-lh0-",{offset:2})||a("-lh1-",{offset:2})||a("-lh2-",{offset:2})||a("-lh3-",{offset:2})||a("-lh4-",{offset:2})||a("-lh5-",{offset:2})||a("-lh6-",{offset:2})||a("-lh7-",{offset:2})||a("-lzs-",{offset:2})||a("-lz4-",{offset:2})||a("-lz5-",{offset:2})||a("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(i([0,0,1,186])){if(i([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(i([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(a("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(i([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(a("<?xml "))return{ext:"xml",mime:"application/xml"};if(i([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(i([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(a("solid "))return{ext:"stl",mime:"model/stl"};if(a("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(a("!<arch>"))return(await e.ignore(8),"debian-binary"===await e.readToken(new Token.StringType(13,"ascii")))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(i([137,80,78,71,13,10,26,10])){async function d(){return{length:await e.readToken(Token.INT32_BE),type:await e.readToken(new Token.StringType(4,"binary"))}}await e.ignore(8);do{let t=await d();if(t.length<0)return;switch(t.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(t.length+4)}}while(e.position+8<e.fileInfo.size)return{ext:"png",mime:"image/png"}}if(i([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(i([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(i([102,114,101,101],{offset:4})||i([109,100,97,116],{offset:4})||i([109,111,111,118],{offset:4})||i([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(i([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(a("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(i([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(i([48,38,178,117,142,102,207,17,166,217])){async function u(){let t=Buffer.alloc(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(Token.UINT64_LE))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){let t=await u(),r=t.size-24;if(_check(t.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let t=Buffer.alloc(16);if(r-=await e.readBuffer(t),_check(t,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(t,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(r)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(i([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((i([126,16,4])||i([126,24,4]))&&i([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(i([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(i([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(i([255,10])||i([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(i([0,0,1,186])||i([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(i([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(i([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(i([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(i([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),a("BEGIN:")){if(a("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(a("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(a("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(a("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(a("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(i([4,0,0,0])&&t.length>=16){let e=t.readUInt32LE(12);if(e>12&&t.length>=e+16)try{let r=t.slice(16,e+16).toString();if(JSON.parse(r).files)return{ext:"asar",mime:"application/x-asar"}}catch(e){}}if(i([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(a("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(i([71],{offset:4})&&(i([71],{offset:192})||i([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(i([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(i([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(i([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(i([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(i([76,80],{offset:34})&&(i([0,0,1],{offset:8})||i([1,0,2],{offset:8})||i([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(i([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(i([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(a("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(t.length>=2&&i([255,224],{offset:0,mask:[255,224]})){if(i([16],{offset:1,mask:[22]}))return i([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(i([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(i([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(i([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}let stream=readableStream=>new Promise((resolve,reject)=>{let stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{let e,t=new stream.PassThrough;e=stream.pipeline?stream.pipeline(readableStream,t,()=>{}):readableStream.pipe(t);let r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{t.fileType=await fromBuffer(r)}catch(e){reject(e)}resolve(e)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},742204,(e,t,r)=>{"use strict";function i(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}i.prototype.define=function(e,t){for(let r in e){let i=e[r].map(function(e){return e.toLowerCase()});r=r.toLowerCase();for(let e=0;e<i.length;e++){let a=i[e];if("*"!==a[0]){if(!t&&a in this._types)throw Error('Attempt to change mapping for "'+a+'" extension from "'+this._types[a]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+a+'" from the list of extensions for "'+r+'".');this._types[a]=r}}if(t||!this._extensions[r]){let e=i[0];this._extensions[r]="*"!==e[0]?e:e.substr(1)}}},i.prototype.getType=function(e){let t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),r=t.replace(/^.*\./,"").toLowerCase(),i=t.length<e.length;return(r.length<t.length-1||!i)&&this._types[r]||null},i.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null},t.exports=i},113336,(e,t,r)=>{t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},307887,(e,t,r)=>{"use strict";t.exports=new(e.r(742204))(e.r(113336))},806775,(e,t,r)=>{function i(e,t,r,i,a,n){this.global=a,t=t||0,r=r||e.byteLength-t,this.arrayBuffer=e.slice(t,t+r),this.view=new a.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(i),this.offset=0,this.parentOffset=(n||0)+t}i.prototype={setBigEndian:function(e){this.littleEndian=!e},nextUInt8:function(){var e=this.view.getUint8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.view.getInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},nextUInt32:function(){var e=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},nextInt16:function(){var e=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},nextInt32:function(){var e=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},nextFloat:function(){var e=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},nextDouble:function(){var e=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},nextBuffer:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return t=String.fromCharCode.apply(null,new this.global.Uint8Array(t)),this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(t){return t=(t||0)+this.offset,new i(e.arrayBuffer,t,e.arrayBuffer.byteLength-t,!e.littleEndian,e.global,e.parentOffset)},offset:this.offset,getParentOffset:function(){return e.parentOffset}}},offsetFrom:function(e){return this.parentOffset+this.offset-(e.offset+e.getParentOffset())},skip:function(e){this.offset+=e},branch:function(e,t){return t="number"==typeof t?t:this.arrayBuffer.byteLength-(this.offset+e),new i(this.arrayBuffer,this.offset+e,t,!this.littleEndian,this.global,this.parentOffset)}},t.exports=i},542578,(e,t,r)=>{function i(e,t,r,i){this.buffer=e,this.offset=t||0,r="number"==typeof r?r:e.length,this.endPosition=this.offset+r,this.setBigEndian(i)}i.prototype={setBigEndian:function(e){this.bigEndian=!!e},nextUInt8:function(){var e=this.buffer.readUInt8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.buffer.readInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,e},nextUInt32:function(){var e=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,e},nextInt16:function(){var e=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,e},nextInt32:function(){var e=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,e},nextFloat:function(){var e=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,e},nextDouble:function(){var e=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,e},nextBuffer:function(e){var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.endPosition-this.offset},nextString:function(e){var t=this.buffer.toString("utf8",this.offset,this.offset+e);return this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(t){return t=(t||0)+this.offset,new i(e.buffer,t,e.endPosition-t,e.bigEndian)},offset:this.offset}},offsetFrom:function(e){return this.offset-e.offset},skip:function(e){this.offset+=e},branch:function(e,t){return t="number"==typeof t?t:this.endPosition-(this.offset+e),new i(this.buffer,this.offset+e,t,this.bigEndian)}},t.exports=i},927067,(e,t,r)=>{t.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},450468,(e,t,r)=>{t.exports={parseSections:function(e,t){var r,i;for(e.setBigEndian(!0);e.remainingLength()>0&&218!==i;){if(255!==e.nextUInt8())throw Error("Invalid JPEG section offset");r=(i=e.nextUInt8())>=208&&i<=217||218===i?0:e.nextUInt16()-2,t(i,e.branch(0,r)),e.skip(r)}},getSizeFromSOFSection:function(e){return e.skip(1),{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){switch(e){case 216:t="SOI";break;case 196:t="DHT";break;case 219:t="DQT";break;case 221:t="DRI";break;case 218:t="SOS";break;case 254:t="COM";break;case 217:t="EOI";break;default:e>=224&&e<=239?(t="APP",r=e-224):e>=192&&e<=207&&196!==e&&200!==e&&204!==e?(t="SOF",r=e-192):e>=208&&e<=215&&(t="RST",r=e-208)}var t,r,i={name:t};return"number"==typeof r&&(i.index=r),i}}},396880,(e,t,r)=>{function i(e,t){switch(e){case 1:return t.nextUInt8();case 3:case 8:return t.nextUInt16();case 4:case 9:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw Error("Invalid format while decoding: "+e)}}function a(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function n(e,t){var r,n,s=t.nextUInt16(),o=t.nextUInt16(),d=a(o),u=t.nextUInt32(),l=d*u;if(l>4&&(t=e.openWithOffset(t.nextUInt32())),2===o){var c=(r=t.nextString(u)).indexOf("\0");-1!==c&&(r=r.substr(0,c))}else if(7===o)r=t.nextBuffer(u);else if(0!==o)for(n=0,r=[];n<u;++n)r.push(i(o,t));return l<4&&t.skip(4-l),[s,r,o]}function s(e,t,r){var i,a,s=t.nextUInt16();for(a=0;a<s;++a)r((i=n(e,t))[0],i[1],i[2])}function o(e){if("Exif\0\0"!==e.nextString(6))throw Error("Invalid EXIF header");var t=e.mark(),r=e.nextUInt16();if(18761===r)e.setBigEndian(!1);else if(19789===r)e.setBigEndian(!0);else throw Error("Invalid TIFF header");if(42!==e.nextUInt16())throw Error("Invalid TIFF data");return t}t.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){try{r=o(e)}catch(e){return!1}var r,i,a,n,d=r.openWithOffset(e.nextUInt32()),u=this.IFD0;s(r,d,function(e,r,n){switch(e){case 34853:a=r[0];break;case 34665:i=r[0];break;default:t(u,e,r,n)}});var l=d.nextUInt32();if(0!==l){var c=r.openWithOffset(l);s(r,c,t.bind(null,this.IFD1))}if(a){var h=r.openWithOffset(a);s(r,h,t.bind(null,this.GPSIFD))}if(i){var p=r.openWithOffset(i),f=this.InteropIFD;s(r,p,function(e,r,i){40965===e?n=r[0]:t(f,e,r,i)})}if(n){var m=r.openWithOffset(n);s(r,m,t.bind(null,this.InteropIFD))}return!0}}},482003,(e,t,r)=>{function i(e){return parseInt(e,10)}var a=3600,n=60;function s(e,t){return e=e.map(i),t=t.map(i),Date.UTC(e[0],e[1]-1,e[2],t[0],t[1],t[2],0)/1e3}function o(e){var t=e.substr(0,10).split("-"),r=e.substr(11,8).split(":"),o=e.substr(19,6).split(":").map(i),d=o[0]*a+o[1]*n,u=s(t,r);if("number"==typeof(u-=d)&&!isNaN(u))return u}function d(e){var t=e.split(" "),r=s(t[0].split(":"),t[1].split(":"));if("number"==typeof r&&!isNaN(r))return r}function u(e){var t=19===e.length&&":"===e.charAt(4);return 25===e.length&&"T"===e.charAt(10)?o(e):t?d(e):void 0}t.exports={parseDateWithSpecFormat:d,parseDateWithTimezoneFormat:o,parseExifDate:u}},338893,(e,t,r)=>{var i=e.r(396880),a=e.r(482003),n=[{section:i.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:i.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],s=[{section:i.SubIFD,type:306,name:"ModifyDate"},{section:i.SubIFD,type:36867,name:"DateTimeOriginal"},{section:i.SubIFD,type:36868,name:"CreateDate"},{section:i.SubIFD,type:306,name:"ModifyDate"}];t.exports={castDegreeValues:function(e,t){n.forEach(function(r){var i=e(r);if(i){var a=e({section:r.section,type:r.refType,name:r.refName})===r.posVal?1:-1;t(r,(i[0]+i[1]/60+i[2]/3600)*a)}})},castDateValues:function(e,t){s.forEach(function(r){var i=e(r);if(i){var n=a.parseExifDate(i);void 0!==n&&t(r,n)}})},simplifyValue:function(e,t){return Array.isArray(e)&&1===(e=e.map(function(e){return 10===t||5===t?e[0]/e[1]:e})).length&&(e=e[0]),e}}},870371,(e,t,r)=>{var i=e.r(450468),a=e.r(396880),n=e.r(338893);function s(e,t,r,i,a,n,s){this.startMarker=e,this.tags=t,this.imageSize=r,this.thumbnailOffset=i,this.thumbnailLength=a,this.thumbnailType=n,this.app1Offset=s}function o(e){this.stream=e,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}s.prototype={hasThumbnail:function(e){return!!this.thumbnailOffset&&!!this.thumbnailLength&&("string"!=typeof e||("image/jpeg"===e.toLowerCase().trim()?6===this.thumbnailType:"image/tiff"===e.toLowerCase().trim()&&1===this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var e,t=this._getThumbnailStream();return i.parseSections(t,function(t,r){"SOF"===i.getSectionName(t).name&&(e=i.getSizeFromSOFSection(r))}),e}},o.prototype={enableBinaryFields:function(e){return this.flags.readBinaryTags=!!e,this},enablePointers:function(e){return this.flags.hidePointers=!e,this},enableTagNames:function(e){return this.flags.resolveTagNames=!!e,this},enableImageSize:function(e){return this.flags.imageSize=!!e,this},enableReturnTags:function(e){return this.flags.returnTags=!!e,this},enableSimpleValues:function(e){return this.flags.simplifyValues=!!e,this},parse:function(){var t,r,o,d,u,l,c,h,p,f=this.stream.mark(),m=f.openWithOffset(0),_=this.flags;return _.resolveTagNames&&(c=e.r(927067)),_.resolveTagNames?(t={},h=function(e){return t[e.name]},p=function(e,r){t[e.name]=r}):(t=[],h=function(e){var r;for(r=0;r<t.length;++r)if(t[r].type===e.type&&t[r].section===e.section)return t.value},p=function(e,r){var i;for(i=0;i<t.length;++i)if(t[i].type===e.type&&t[i].section===e.section){t.value=r;return}}),i.parseSections(m,function(e,s){var h=s.offsetFrom(f);225===e?a.parseTags(s,function(e,r,i,s){if(_.readBinaryTags||7!==s){if(513===r){if(o=i[0],_.hidePointers)return}else if(514===r){if(d=i[0],_.hidePointers)return}else if(259===r&&(u=i[0],_.hidePointers))return;if(_.returnTags)if(_.simplifyValues&&(i=n.simplifyValue(i,s)),_.resolveTagNames){var l=(e===a.GPSIFD?c.gps:c.exif)[r];l||(l=c.exif[r]),t.hasOwnProperty(l)||(t[l]=i)}else t.push({section:e,type:r,value:i})}})&&(l=h):_.imageSize&&"SOF"===i.getSectionName(e).name&&(r=i.getSizeFromSOFSection(s))}),_.simplifyValues&&(n.castDegreeValues(h,p),n.castDateValues(h,p)),new s(f,t,r,o,d,u,l)}},t.exports=o},582894,(e,t,r)=>{var i=e.r(870371);function a(){return(0,eval)("this")}t.exports={create:function(t,r){return new i(t instanceof(r=r||a()).ArrayBuffer?new(e.r(806775))(t,0,t.byteLength,!0,r):new(e.r(542578))(t,0,t.length,!0))}}},576074,(e,t,r)=>{"use strict";function i(e,t){if(!e||!t||!e.length||!t.length)throw Error("Bad alphabet");this.srcAlphabet=e,this.dstAlphabet=t}i.prototype.convert=function(e){var t,r,i,a={},n=this.srcAlphabet.length,s=this.dstAlphabet.length,o=e.length,d="string"==typeof e?"":[];if(!this.isValid(e))throw Error('Number "'+e+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return e;for(t=0;t<o;t++)a[t]=this.srcAlphabet.indexOf(e[t]);do{for(t=0,r=0,i=0;t<o;t++)(r=r*n+a[t])>=s?(a[i++]=parseInt(r/s,10),r%=s):i>0&&(a[i++]=0);o=i,d=this.dstAlphabet.slice(r,r+1).concat(d)}while(0!==i)return d},i.prototype.isValid=function(e){for(var t=0;t<e.length;++t)if(-1===this.srcAlphabet.indexOf(e[t]))return!1;return!0},t.exports=i},795497,(e,t,r)=>{var i=e.r(576074);function a(e,t){var r=new i(e,t);return function(e){return r.convert(e)}}a.BIN="01",a.OCT="01234567",a.DEC="0123456789",a.HEX="0123456789abcdef",t.exports=a},319624,(e,t,r)=>{function i(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var r=e.indexOf(" ");if(-1===r)throw Error("no named row at line "+t);var i=e.substring(0,r);e=(e=(e=(e=e.substring(r+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var n=[],s=0;s<e.length;s++){var o=e[s];0===s?n.push({key:o[0],data:""}):s===e.length-1?n[n.length-1].data=a(o[0]):(n[n.length-1].data=a(o[0]),n.push({key:o[1],data:""}))}var d={key:i,data:{}};return n.forEach(function(e){d.data[e.key]=e.data}),d}function a(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?n(e):parseInt(e,10):""}function n(e){return e.split(",").map(function(e){return parseInt(e,10)})}t.exports=function(e){if(!e)throw Error("no data provided");e=e.toString().trim();var t={pages:[],chars:[],kernings:[]},r=e.split(/\r\n?|\n/g);if(0===r.length)throw Error("no data in BMFont file");for(var a=0;a<r.length;a++){var n=i(r[a],a);if(n)if("page"===n.key){if("number"!=typeof n.data.id)throw Error("malformed file at line "+a+" -- needs page id=N");if("string"!=typeof n.data.file)throw Error("malformed file at line "+a+' -- needs page file="path"');t.pages[n.data.id]=n.data.file}else"chars"===n.key||"kernings"===n.key||("char"===n.key?t.chars.push(n.data):"kerning"===n.key?t.kernings.push(n.data):t[n.key]=n.data)}return t}},779516,(e,t,r)=>{(function(){r.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(e.e)},397747,(e,t,r)=>{(function(){var e,r,i,a,n,s,o,d=[].slice,u={}.hasOwnProperty;e=function(){var e,t,r,i,a,s;if(s=arguments[0],a=2<=arguments.length?d.call(arguments,1):[],n(Object.assign))Object.assign.apply(null,arguments);else for(e=0,r=a.length;e<r;e++)if(null!=(i=a[e]))for(t in i)u.call(i,t)&&(s[t]=i[t]);return s},n=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},s=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},i=function(e){return n(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},a=function(e){var t;if(i(e))return!e.length;for(t in e)if(u.call(e,t))return!1;return!0},o=function(e){var t,r;return s(e)&&(r=Object.getPrototypeOf(e))&&(t=r.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},r=function(e){return n(e.valueOf)?e.valueOf():e},t.exports.assign=e,t.exports.isFunction=n,t.exports.isObject=s,t.exports.isArray=i,t.exports.isEmpty=a,t.exports.isPlainObject=o,t.exports.getValue=r}).call(e.e)},36686,(e,t,r)=>{(function(){t.exports=function(){function e(){}return e.prototype.hasFeature=function(e,t){return!0},e.prototype.createDocumentType=function(e,t,r){throw Error("This DOM method is not implemented.")},e.prototype.createDocument=function(e,t,r){throw Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(e){throw Error("This DOM method is not implemented.")},e.prototype.getFeature=function(e,t){throw Error("This DOM method is not implemented.")},e}()}).call(e.e)},801737,(e,t,r)=>{(function(){t.exports=function(){function e(){}return e.prototype.handleError=function(e){throw Error(e)},e}()}).call(e.e)},508917,(e,t,r)=>{(function(){t.exports=function(){function e(e){this.arr=e||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(e){return this.arr[e]||null},e.prototype.contains=function(e){return -1!==this.arr.indexOf(e)},e}()}).call(e.e)},771747,(e,t,r)=>{(function(){var r,i;r=e.r(801737),i=e.r(508917),t.exports=function(){function e(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new r,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new i(Object.keys(this.defaultParams))}}),e.prototype.getParameter=function(e){return this.params.hasOwnProperty(e)?this.params[e]:null},e.prototype.canSetParameter=function(e,t){return!0},e.prototype.setParameter=function(e,t){return null!=t?this.params[e]=t:delete this.params[e]},e}()}).call(e.e)},376047,(e,t,r)=>{(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(e.e)},949764,(e,t,r)=>{(function(){var r,i;r=e.r(376047),i=e.r(414671),t.exports=function(){function e(e,t,i){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==t)throw Error("Missing attribute name. "+this.debugInfo(t));this.name=this.stringify.name(t),this.value=this.stringify.attValue(i),this.type=r.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},e.prototype.debugInfo=function(e){return null==(e=e||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(e){return e.namespaceURI===this.namespaceURI&&e.prefix===this.prefix&&e.localName===this.localName&&e.value===this.value},e}()}).call(e.e)},256516,(e,t,r)=>{(function(){t.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(e){return this.nodes[e]},e.prototype.setNamedItem=function(e){var t;return t=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,t||null},e.prototype.removeNamedItem=function(e){var t;return t=this.nodes[e],delete this.nodes[e],t||null},e.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null},e.prototype.getNamedItemNS=function(e,t){throw Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(e){throw Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(e,t){throw Error("This DOM method is not implemented.")},e}()}).call(e.e)},817643,(e,t,r)=>{(function(){var r,i,a,n,s,o,d,u,l=function(e,t){for(var r in t)c.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},c={}.hasOwnProperty;d=(u=e.r(397747)).isObject,o=u.isFunction,s=u.getValue,n=e.r(414671),r=e.r(376047),i=e.r(949764),a=e.r(256516),t.exports=function(e){function t(e,i,a){var n,s,o,d;if(t.__super__.constructor.call(this,e),null==i)throw Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(i),this.type=r.Element,this.attribs={},this.schemaTypeInfo=null,null!=a&&this.attribute(a),e.type===r.Document&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this,e.children)){for(s=0,o=(d=e.children).length;s<o;s++)if((n=d[s]).type===r.DocType){n.name=this.name;break}}}return l(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"id",{get:function(){throw Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"className",{get:function(){throw Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"classList",{get:function(){throw Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new a(this.attribs)),this.attributeMap}}),t.prototype.clone=function(){var e,t,r,i;for(t in(r=Object.create(this)).isRoot&&(r.documentObject=null),r.attribs={},i=this.attribs)c.call(i,t)&&(e=i[t],r.attribs[t]=e.clone());return r.children=[],this.children.forEach(function(e){var t;return(t=e.clone()).parent=r,r.children.push(t)}),r},t.prototype.attribute=function(e,t){var r,a;if(null!=e&&(e=s(e)),d(e))for(r in e)c.call(e,r)&&(a=e[r],this.attribute(r,a));else o(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.attribs[e]=new i(this,e,""):null!=t&&(this.attribs[e]=new i(this,e,t));return this},t.prototype.removeAttribute=function(e){var t,r,i;if(null==e)throw Error("Missing attribute name. "+this.debugInfo());if(Array.isArray(e=s(e)))for(r=0,i=e.length;r<i;r++)t=e[r],delete this.attribs[t];else delete this.attribs[e];return this},t.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))},t.prototype.att=function(e,t){return this.attribute(e,t)},t.prototype.a=function(e,t){return this.attribute(e,t)},t.prototype.getAttribute=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null},t.prototype.setAttribute=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNode=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null},t.prototype.setAttributeNode=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeAttributeNode=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNS=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setAttributeNS=function(e,t,r){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeAttributeNS=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNodeNS=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setAttributeNodeNS=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)},t.prototype.hasAttributeNS=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setIdAttribute=function(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t},t.prototype.setIdAttributeNS=function(e,t,r){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setIdAttributeNode=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByClassName=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){var r,i,a;if(!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)||e.namespaceURI!==this.namespaceURI||e.prefix!==this.prefix||e.localName!==this.localName||e.attribs.length!==this.attribs.length)return!1;for(r=i=0,a=this.attribs.length-1;0<=a?i<=a:i>=a;r=0<=a?++i:--i)if(!this.attribs[r].isEqualNode(e.attribs[r]))return!1;return!0},t}(n)}).call(e.e)},462562,(e,t,r)=>{(function(){var r=function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.value=""}return r(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(t.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.substringData=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendData=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.insertData=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.deleteData=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceData=function(e,t,r){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.data===this.data},t}(e.r(414671))}).call(e.e)},253655,(e,t,r)=>{(function(){var r,i=function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e.r(376047),t.exports=function(e){function t(e,i){if(t.__super__.constructor.call(this,e),null==i)throw Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=r.CData,this.value=this.stringify.cdata(i)}return i(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))},t}(e.r(462562))}).call(e.e)},259254,(e,t,r)=>{(function(){var r,i=function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e.r(376047),t.exports=function(e){function t(e,i){if(t.__super__.constructor.call(this,e),null==i)throw Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=r.Comment,this.value=this.stringify.comment(i)}return i(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))},t}(e.r(462562))}).call(e.e)},42437,(e,t,r)=>{(function(){var r,i,a,n=function(e,t){for(var r in t)s.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},s={}.hasOwnProperty;a=e.r(397747).isObject,i=e.r(414671),r=e.r(376047),t.exports=function(e){function t(e,i,n,s){var o;t.__super__.constructor.call(this,e),a(i)&&(i=(o=i).version,n=o.encoding,s=o.standalone),i||(i="1.0"),this.type=r.Declaration,this.version=this.stringify.xmlVersion(i),null!=n&&(this.encoding=this.stringify.xmlEncoding(n)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return n(t,e),t.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))},t}(i)}).call(e.e)},568161,(e,t,r)=>{(function(){var r,i,a=function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;i=e.r(414671),r=e.r(376047),t.exports=function(e){function t(e,i,a,n,s,o){if(t.__super__.constructor.call(this,e),null==i)throw Error("Missing DTD element name. "+this.debugInfo());if(null==a)throw Error("Missing DTD attribute name. "+this.debugInfo(i));if(!n)throw Error("Missing DTD attribute type. "+this.debugInfo(i));if(!s)throw Error("Missing DTD attribute default. "+this.debugInfo(i));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(i));if(o&&!s.match(/^(#FIXED|#DEFAULT)$/))throw Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(i));this.elementName=this.stringify.name(i),this.type=r.AttributeDeclaration,this.attributeName=this.stringify.name(a),this.attributeType=this.stringify.dtdAttType(n),o&&(this.defaultValue=this.stringify.dtdAttDefault(o)),this.defaultValueType=s}return a(t,e),t.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))},t}(i)}).call(e.e)},770814,(e,t,r)=>{(function(){var r,i,a,n=function(e,t){for(var r in t)s.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},s={}.hasOwnProperty;a=e.r(397747).isObject,i=e.r(414671),r=e.r(376047),t.exports=function(e){function t(e,i,n,s){if(t.__super__.constructor.call(this,e),null==n)throw Error("Missing DTD entity name. "+this.debugInfo(n));if(null==s)throw Error("Missing DTD entity value. "+this.debugInfo(n));if(this.pe=!!i,this.name=this.stringify.name(n),this.type=r.EntityDeclaration,a(s)){if(!s.pubID&&!s.sysID)throw Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(n));if(s.pubID&&!s.sysID)throw Error("System identifier is required for a public external entity. "+this.debugInfo(n));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(n))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}return n(t,e),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(t.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(t.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"xmlVersion",{get:function(){return null}}),t.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))},t}(i)}).call(e.e)},125248,(e,t,r)=>{(function(){var r,i,a=function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;i=e.r(414671),r=e.r(376047),t.exports=function(e){function t(e,i,a){if(t.__super__.constructor.call(this,e),null==i)throw Error("Missing DTD element name. "+this.debugInfo());a||(a="(#PCDATA)"),Array.isArray(a)&&(a="("+a.join(",")+")"),this.name=this.stringify.name(i),this.type=r.ElementDeclaration,this.value=this.stringify.dtdElementValue(a)}return a(t,e),t.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))},t}(i)}).call(e.e)},850665,(e,t,r)=>{(function(){var r,i,a=function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;i=e.r(414671),r=e.r(376047),t.exports=function(e){function t(e,i,a){if(t.__super__.constructor.call(this,e),null==i)throw Error("Missing DTD notation name. "+this.debugInfo(i));if(!a.pubID&&!a.sysID)throw Error("Public or system identifiers are required for an external entity. "+this.debugInfo(i));this.name=this.stringify.name(i),this.type=r.NotationDeclaration,null!=a.pubID&&(this.pubID=this.stringify.dtdPubID(a.pubID)),null!=a.sysID&&(this.sysID=this.stringify.dtdSysID(a.sysID))}return a(t,e),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),t.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))},t}(i)}).call(e.e)},107247,(e,t,r)=>{(function(){var r,i,a,n,s,o,d,u,l=function(e,t){for(var r in t)c.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},c={}.hasOwnProperty;u=e.r(397747).isObject,d=e.r(414671),r=e.r(376047),i=e.r(568161),n=e.r(770814),a=e.r(125248),s=e.r(850665),o=e.r(256516),t.exports=function(e){function t(e,i,a){var n,s,o,d,l,c;if(t.__super__.constructor.call(this,e),this.type=r.DocType,e.children){for(s=0,o=(d=e.children).length;s<o;s++)if((n=d[s]).type===r.Element){this.name=n.name;break}}this.documentObject=e,u(i)&&(i=(l=i).pubID,a=l.sysID),null==a&&(a=(c=[i,a])[0],i=c[1]),null!=i&&(this.pubID=this.stringify.dtdPubID(i)),null!=a&&(this.sysID=this.stringify.dtdSysID(a))}return l(t,e),Object.defineProperty(t.prototype,"entities",{get:function(){var e,t,i,a,n;for(t=0,a={},i=(n=this.children).length;t<i;t++)(e=n[t]).type!==r.EntityDeclaration||e.pe||(a[e.name]=e);return new o(a)}}),Object.defineProperty(t.prototype,"notations",{get:function(){var e,t,i,a,n;for(t=0,a={},i=(n=this.children).length;t<i;t++)(e=n[t]).type===r.NotationDeclaration&&(a[e.name]=e);return new o(a)}}),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(t.prototype,"internalSubset",{get:function(){throw Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.element=function(e,t){var r;return r=new a(this,e,t),this.children.push(r),this},t.prototype.attList=function(e,t,r,a,n){var s;return s=new i(this,e,t,r,a,n),this.children.push(s),this},t.prototype.entity=function(e,t){var r;return r=new n(this,!1,e,t),this.children.push(r),this},t.prototype.pEntity=function(e,t){var r;return r=new n(this,!0,e,t),this.children.push(r),this},t.prototype.notation=function(e,t){var r;return r=new s(this,e,t),this.children.push(r),this},t.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))},t.prototype.ele=function(e,t){return this.element(e,t)},t.prototype.att=function(e,t,r,i,a){return this.attList(e,t,r,i,a)},t.prototype.ent=function(e,t){return this.entity(e,t)},t.prototype.pent=function(e,t){return this.pEntity(e,t)},t.prototype.not=function(e,t){return this.notation(e,t)},t.prototype.up=function(){return this.root()||this.documentObject},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.name===this.name&&e.publicId===this.publicId&&e.systemId===this.systemId},t}(d)}).call(e.e)},157186,(e,t,r)=>{(function(){var r,i=function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e.r(376047),t.exports=function(e){function t(e,i){if(t.__super__.constructor.call(this,e),null==i)throw Error("Missing raw text. "+this.debugInfo());this.type=r.Raw,this.value=this.stringify.raw(i)}return i(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))},t}(e.r(414671))}).call(e.e)},731536,(e,t,r)=>{(function(){var r,i=function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e.r(376047),t.exports=function(e){function t(e,i){if(t.__super__.constructor.call(this,e),null==i)throw Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=r.Text,this.value=this.stringify.text(i)}return i(t,e),Object.defineProperty(t.prototype,"isElementContentWhitespace",{get:function(){throw Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"wholeText",{get:function(){var e,t,r;for(r="",t=this.previousSibling;t;)r=t.data+r,t=t.previousSibling;for(r+=this.data,e=this.nextSibling;e;)r+=e.data,e=e.nextSibling;return r}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))},t.prototype.splitText=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceWholeText=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t}(e.r(462562))}).call(e.e)},948489,(e,t,r)=>{(function(){var r,i=function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e.r(376047),t.exports=function(e){function t(e,i,a){if(t.__super__.constructor.call(this,e),null==i)throw Error("Missing instruction target. "+this.debugInfo());this.type=r.ProcessingInstruction,this.target=this.stringify.insTarget(i),this.name=this.target,a&&(this.value=this.stringify.insValue(a))}return i(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.target===this.target},t}(e.r(462562))}).call(e.e)},389652,(e,t,r)=>{(function(){var r,i,a=function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;i=e.r(414671),r=e.r(376047),t.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.type=r.Dummy}return a(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return""},t}(i)}).call(e.e)},68458,(e,t,r)=>{(function(){t.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(e){return this.nodes[e]||null},e}()}).call(e.e)},715687,(e,t,r)=>{(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(e.e)},414671,(e,t,r)=>{(function(){var r,i,a,n,s,o,d,u,l,c,h,p,f,m,_,g,y,v,b={}.hasOwnProperty;y=(v=e.r(397747)).isObject,g=v.isFunction,_=v.isEmpty,m=v.getValue,u=null,a=null,n=null,s=null,o=null,p=null,f=null,h=null,d=null,i=null,c=null,l=null,r=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,u||(u=e.r(817643),a=e.r(253655),n=e.r(259254),s=e.r(42437),o=e.r(107247),p=e.r(157186),f=e.r(731536),h=e.r(948489),d=e.r(389652),i=e.r(376047),c=e.r(68458),l=e.r(256516),r=e.r(715687))}return Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new c(this.children)),this.childNodeList}}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(t.prototype,"textContent",{get:function(){var e,t,r,a,n;if(this.nodeType!==i.Element&&this.nodeType!==i.DocumentFragment)return null;for(t=0,n="",r=(a=this.children).length;t<r;t++)(e=a[t]).textContent&&(n+=e.textContent);return n},set:function(e){throw Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.setParent=function(e){var t,r,i,a,n;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),a=this.children,n=[],r=0,i=a.length;r<i;r++)t=a[r],n.push(t.setParent(this));return n},t.prototype.element=function(e,t,r){var i,a,n,s,o,d,u,l,c,h,p;if(d=null,null===t&&null==r&&(t=(c=[{},null])[0],r=c[1]),null==t&&(t={}),y(t=m(t))||(r=(h=[t,r])[0],t=h[1]),null!=e&&(e=m(e)),Array.isArray(e))for(n=0,u=e.length;n<u;n++)a=e[n],d=this.element(a);else if(g(e))d=this.element(e.apply());else if(y(e)){for(o in e)if(b.call(e,o))if(g(p=e[o])&&(p=p.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===o.indexOf(this.stringify.convertAttKey))d=this.attribute(o.substr(this.stringify.convertAttKey.length),p);else if(!this.options.separateArrayItems&&Array.isArray(p)&&_(p))d=this.dummy();else if(y(p)&&_(p))d=this.element(o);else if(this.options.keepNullNodes||null!=p)if(!this.options.separateArrayItems&&Array.isArray(p))for(s=0,l=p.length;s<l;s++)a=p[s],(i={})[o]=a,d=this.element(i);else y(p)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===o.indexOf(this.stringify.convertTextKey)?d=this.element(p):(d=this.element(o)).element(p):d=this.element(o,p);else d=this.dummy()}else d=this.options.keepNullNodes||null!==r?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),r):this.node(e,t,r):this.dummy();if(null==d)throw Error("Could not create any elements with: "+e+". "+this.debugInfo());return d},t.prototype.insertBefore=function(e,t,r){var i,a,n,s,o;if(null!=e?e.type:void 0)return n=e,s=t,n.setParent(this),s?(a=children.indexOf(s),o=children.splice(a),children.push(n),Array.prototype.push.apply(children,o)):children.push(n),n;if(this.isRoot)throw Error("Cannot insert elements at root level. "+this.debugInfo(e));return a=this.parent.children.indexOf(this),o=this.parent.children.splice(a),i=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,o),i},t.prototype.insertAfter=function(e,t,r){var i,a,n;if(this.isRoot)throw Error("Cannot insert elements at root level. "+this.debugInfo(e));return a=this.parent.children.indexOf(this),n=this.parent.children.splice(a+1),i=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,n),i},t.prototype.remove=function(){var e,t;if(this.isRoot)throw Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat(t=[])),this.parent},t.prototype.node=function(e,t,r){var i,a;return null!=e&&(e=m(e)),t||(t={}),y(t=m(t))||(r=(a=[t,r])[0],t=a[1]),i=new u(this,e,t),null!=r&&i.text(r),this.children.push(i),i},t.prototype.text=function(e){var t;return y(e)&&this.element(e),t=new f(this,e),this.children.push(t),this},t.prototype.cdata=function(e){var t;return t=new a(this,e),this.children.push(t),this},t.prototype.comment=function(e){var t;return t=new n(this,e),this.children.push(t),this},t.prototype.commentBefore=function(e){var t,r,i;return r=this.parent.children.indexOf(this),i=this.parent.children.splice(r),t=this.parent.comment(e),Array.prototype.push.apply(this.parent.children,i),this},t.prototype.commentAfter=function(e){var t,r,i;return r=this.parent.children.indexOf(this),i=this.parent.children.splice(r+1),t=this.parent.comment(e),Array.prototype.push.apply(this.parent.children,i),this},t.prototype.raw=function(e){var t;return t=new p(this,e),this.children.push(t),this},t.prototype.dummy=function(){return new d(this)},t.prototype.instruction=function(e,t){var r,i,a,n,s;if(null!=e&&(e=m(e)),null!=t&&(t=m(t)),Array.isArray(e))for(n=0,s=e.length;n<s;n++)r=e[n],this.instruction(r);else if(y(e))for(r in e)b.call(e,r)&&(i=e[r],this.instruction(r,i));else g(t)&&(t=t.apply()),a=new h(this,e,t),this.children.push(a);return this},t.prototype.instructionBefore=function(e,t){var r,i,a;return i=this.parent.children.indexOf(this),a=this.parent.children.splice(i),r=this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,a),this},t.prototype.instructionAfter=function(e,t){var r,i,a;return i=this.parent.children.indexOf(this),a=this.parent.children.splice(i+1),r=this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,a),this},t.prototype.declaration=function(e,t,r){var a,n;return a=this.document(),n=new s(a,e,t,r),0===a.children.length?a.children.unshift(n):a.children[0].type===i.Declaration?a.children[0]=n:a.children.unshift(n),a.root()||a},t.prototype.dtd=function(e,t){var r,a,n,s,d,u,l,c,h,p;for(a=this.document(),n=new o(a,e,t),h=a.children,s=d=0,l=h.length;d<l;s=++d)if((r=h[s]).type===i.DocType)return a.children[s]=n,n;for(p=a.children,s=u=0,c=p.length;u<c;s=++u)if((r=p[s]).isRoot)return a.children.splice(s,0,n),n;return a.children.push(n),n},t.prototype.up=function(){if(this.isRoot)throw Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var e;for(e=this;e;)if(e.type===i.Document)return e.rootObject;else{if(e.isRoot)return e;e=e.parent}},t.prototype.document=function(){var e;for(e=this;e;)if(e.type===i.Document)return e;else e=e.parent},t.prototype.end=function(e){return this.document().end(e)},t.prototype.prev=function(){var e;if((e=this.parent.children.indexOf(this))<1)throw Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},t.prototype.next=function(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},t.prototype.importDocument=function(e){var t;return(t=e.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},t.prototype.debugInfo=function(e){var t,r;return null!=(e=e||this.name)||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(r=this.parent)?r.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},t.prototype.ele=function(e,t,r){return this.element(e,t,r)},t.prototype.nod=function(e,t,r){return this.node(e,t,r)},t.prototype.txt=function(e){return this.text(e)},t.prototype.dat=function(e){return this.cdata(e)},t.prototype.com=function(e){return this.comment(e)},t.prototype.ins=function(e,t){return this.instruction(e,t)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(e,t,r){return this.declaration(e,t,r)},t.prototype.e=function(e,t,r){return this.element(e,t,r)},t.prototype.n=function(e,t,r){return this.node(e,t,r)},t.prototype.t=function(e){return this.text(e)},t.prototype.d=function(e){return this.cdata(e)},t.prototype.c=function(e){return this.comment(e)},t.prototype.r=function(e){return this.raw(e)},t.prototype.i=function(e,t){return this.instruction(e,t)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(e){return this.importDocument(e)},t.prototype.replaceChild=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeChild=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendChild=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasChildNodes=function(){return 0!==this.children.length},t.prototype.cloneNode=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalize=function(){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isSupported=function(e,t){return!0},t.prototype.hasAttributes=function(){return 0!==this.attribs.length},t.prototype.compareDocumentPosition=function(e){var t,i;if(t=this,t===e)return 0;if(this.document()!==e.document())return i=r.Disconnected|r.ImplementationSpecific,.5>Math.random()?i|=r.Preceding:i|=r.Following,i;if(t.isAncestor(e))return r.Contains|r.Preceding;if(t.isDescendant(e))return r.Contains|r.Following;if(t.isPreceding(e))return r.Preceding;else return r.Following},t.prototype.isSameNode=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupPrefix=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isDefaultNamespace=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupNamespaceURI=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){var t,r,i;if(e.nodeType!==this.nodeType||e.children.length!==this.children.length)return!1;for(t=r=0,i=this.children.length-1;0<=i?r<=i:r>=i;t=0<=i?++r:--r)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0},t.prototype.getFeature=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setUserData=function(e,t,r){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getUserData=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.contains=function(e){return!!e&&(e===this||this.isDescendant(e))},t.prototype.isDescendant=function(e){var t,r,i,a;for(r=0,i=(a=this.children).length;r<i;r++)if(e===(t=a[r])||t.isDescendant(e))return!0;return!1},t.prototype.isAncestor=function(e){return e.isDescendant(this)},t.prototype.isPreceding=function(e){var t,r;return t=this.treePosition(e),r=this.treePosition(this),-1!==t&&-1!==r&&t<r},t.prototype.isFollowing=function(e){var t,r;return t=this.treePosition(e),r=this.treePosition(this),-1!==t&&-1!==r&&t>r},t.prototype.treePosition=function(e){var t,r;return(r=0,t=!1,this.foreachTreeNode(this.document(),function(i){if(r++,!t&&i===e)return t=!0}),t)?r:-1},t.prototype.foreachTreeNode=function(e,t){var r,i,a,n,s;for(e||(e=this.document()),i=0,a=(n=e.children).length;i<a;i++)if((s=t(r=n[i]))||(s=this.foreachTreeNode(r,t)))return s},t}()}).call(e.e)},541938,(e,t,r)=>{(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty;t.exports=function(){function t(t){var i,a,n;for(i in this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this),t||(t={}),this.options=t,this.options.version||(this.options.version="1.0"),a=t.stringify||{})r.call(a,i)&&(n=a[i],this[i]=n)}return t.prototype.name=function(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")},t.prototype.text=function(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))},t.prototype.cdata=function(e){return this.options.noValidation?e:(e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))},t.prototype.comment=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/--/))throw Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},t.prototype.raw=function(e){return this.options.noValidation?e:""+e||""},t.prototype.attValue=function(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))},t.prototype.insTarget=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.insValue=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/\?>/))throw Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)},t.prototype.xmlVersion=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/1\.[0-9]+/))throw Error("Invalid version number: "+e);return e},t.prototype.xmlEncoding=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw Error("Invalid encoding: "+e);return this.assertLegalChar(e)},t.prototype.xmlStandalone=function(e){return this.options.noValidation?e:e?"yes":"no"},t.prototype.dtdPubID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdSysID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdElementValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdAttType=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdAttDefault=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdEntityValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdNData=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(e){var t,r;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=e.match(t))throw Error("Invalid character in string: "+e+" at index "+r.index)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=e.match(t)))throw Error("Invalid character in string: "+e+" at index "+r.index);return e},t.prototype.assertLegalName=function(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw Error("Invalid character in name");return e},t.prototype.textEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},t.prototype.attEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},t}()}).call(e.e)},527486,(e,t,r)=>{(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(e.e)},417773,(e,t,r)=>{(function(){var r,i,a,n,s,o,d,u,l,c,h,p,f,m,_,g,y={}.hasOwnProperty;g=e.r(397747).assign,r=e.r(376047),l=e.r(42437),c=e.r(107247),a=e.r(253655),n=e.r(259254),p=e.r(817643),m=e.r(157186),_=e.r(731536),f=e.r(948489),h=e.r(389652),s=e.r(568161),o=e.r(125248),d=e.r(770814),u=e.r(850665),i=e.r(527486),t.exports=function(){function e(e){var t,r,i;for(t in e||(e={}),this.options=e,r=e.writer||{})y.call(r,t)&&(i=r[t],this["_"+t]=this[t],this[t]=i)}return e.prototype.filterOptions=function(e){var t,r,a,n,s,o,d,u;return e||(e={}),e=g({},this.options,e),(t={writer:this}).pretty=e.pretty||!1,t.allowEmpty=e.allowEmpty||!1,t.indent=null!=(r=e.indent)?r:"  ",t.newline=null!=(a=e.newline)?a:"\n",t.offset=null!=(n=e.offset)?n:0,t.dontPrettyTextNodes=null!=(s=null!=(o=e.dontPrettyTextNodes)?o:e.dontprettytextnodes)?s:0,t.spaceBeforeSlash=null!=(d=null!=(u=e.spaceBeforeSlash)?u:e.spacebeforeslash)?d:"",!0===t.spaceBeforeSlash&&(t.spaceBeforeSlash=" "),t.suppressPrettyCount=0,t.user={},t.state=i.None,t},e.prototype.indent=function(e,t,r){var i;if(!t.pretty||t.suppressPrettyCount);else if(t.pretty&&(i=(r||0)+t.offset+1)>0)return Array(i).join(t.indent);return""},e.prototype.endline=function(e,t,r){return!t.pretty||t.suppressPrettyCount?"":t.newline},e.prototype.attribute=function(e,t,r){var i;return this.openAttribute(e,t,r),i=" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,r),i},e.prototype.cdata=function(e,t,r){var a;return this.openNode(e,t,r),t.state=i.OpenTag,a=this.indent(e,t,r)+"<![CDATA[",t.state=i.InsideTag,a+=e.value,t.state=i.CloseTag,a+="]]>"+this.endline(e,t,r),t.state=i.None,this.closeNode(e,t,r),a},e.prototype.comment=function(e,t,r){var a;return this.openNode(e,t,r),t.state=i.OpenTag,a=this.indent(e,t,r)+"<!-- ",t.state=i.InsideTag,a+=e.value,t.state=i.CloseTag,a+=" -->"+this.endline(e,t,r),t.state=i.None,this.closeNode(e,t,r),a},e.prototype.declaration=function(e,t,r){var a;return this.openNode(e,t,r),t.state=i.OpenTag,a=this.indent(e,t,r)+"<?xml",t.state=i.InsideTag,a+=' version="'+e.version+'"',null!=e.encoding&&(a+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(a+=' standalone="'+e.standalone+'"'),t.state=i.CloseTag,a+=t.spaceBeforeSlash+"?>",a+=this.endline(e,t,r),t.state=i.None,this.closeNode(e,t,r),a},e.prototype.docType=function(e,t,r){var a,n,s,o,d;if(r||(r=0),this.openNode(e,t,r),t.state=i.OpenTag,o=this.indent(e,t,r)+"<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(o+=" [",o+=this.endline(e,t,r),t.state=i.InsideTag,n=0,s=(d=e.children).length;n<s;n++)a=d[n],o+=this.writeChildNode(a,t,r+1);t.state=i.CloseTag,o+="]"}return t.state=i.CloseTag,o+=t.spaceBeforeSlash+">",o+=this.endline(e,t,r),t.state=i.None,this.closeNode(e,t,r),o},e.prototype.element=function(e,t,a){var n,s,o,d,u,l,c,h,p,f,m,_,g,v;for(p in a||(a=0),f=!1,m="",this.openNode(e,t,a),t.state=i.OpenTag,m+=this.indent(e,t,a)+"<"+e.name,_=e.attribs)y.call(_,p)&&(n=_[p],m+=this.attribute(n,t,a));if(d=0===(o=e.children.length)?null:e.children[0],0===o||e.children.every(function(e){return(e.type===r.Text||e.type===r.Raw)&&""===e.value}))t.allowEmpty?(m+=">",t.state=i.CloseTag,m+="</"+e.name+">"+this.endline(e,t,a)):(t.state=i.CloseTag,m+=t.spaceBeforeSlash+"/>"+this.endline(e,t,a));else if(t.pretty&&1===o&&(d.type===r.Text||d.type===r.Raw)&&null!=d.value)m+=">",t.state=i.InsideTag,t.suppressPrettyCount++,f=!0,m+=this.writeChildNode(d,t,a+1),t.suppressPrettyCount--,f=!1,t.state=i.CloseTag,m+="</"+e.name+">"+this.endline(e,t,a);else{if(t.dontPrettyTextNodes){for(u=0,c=(g=e.children).length;u<c;u++)if(((s=g[u]).type===r.Text||s.type===r.Raw)&&null!=s.value){t.suppressPrettyCount++,f=!0;break}}for(m+=">"+this.endline(e,t,a),t.state=i.InsideTag,l=0,h=(v=e.children).length;l<h;l++)s=v[l],m+=this.writeChildNode(s,t,a+1);t.state=i.CloseTag,m+=this.indent(e,t,a)+"</"+e.name+">",f&&t.suppressPrettyCount--,m+=this.endline(e,t,a),t.state=i.None}return this.closeNode(e,t,a),m},e.prototype.writeChildNode=function(e,t,i){switch(e.type){case r.CData:return this.cdata(e,t,i);case r.Comment:return this.comment(e,t,i);case r.Element:return this.element(e,t,i);case r.Raw:return this.raw(e,t,i);case r.Text:return this.text(e,t,i);case r.ProcessingInstruction:return this.processingInstruction(e,t,i);case r.Dummy:return"";case r.Declaration:return this.declaration(e,t,i);case r.DocType:return this.docType(e,t,i);case r.AttributeDeclaration:return this.dtdAttList(e,t,i);case r.ElementDeclaration:return this.dtdElement(e,t,i);case r.EntityDeclaration:return this.dtdEntity(e,t,i);case r.NotationDeclaration:return this.dtdNotation(e,t,i);default:throw Error("Unknown XML node type: "+e.constructor.name)}},e.prototype.processingInstruction=function(e,t,r){var a;return this.openNode(e,t,r),t.state=i.OpenTag,a=this.indent(e,t,r)+"<?",t.state=i.InsideTag,a+=e.target,e.value&&(a+=" "+e.value),t.state=i.CloseTag,a+=t.spaceBeforeSlash+"?>",a+=this.endline(e,t,r),t.state=i.None,this.closeNode(e,t,r),a},e.prototype.raw=function(e,t,r){var a;return this.openNode(e,t,r),t.state=i.OpenTag,a=this.indent(e,t,r),t.state=i.InsideTag,a+=e.value,t.state=i.CloseTag,a+=this.endline(e,t,r),t.state=i.None,this.closeNode(e,t,r),a},e.prototype.text=function(e,t,r){var a;return this.openNode(e,t,r),t.state=i.OpenTag,a=this.indent(e,t,r),t.state=i.InsideTag,a+=e.value,t.state=i.CloseTag,a+=this.endline(e,t,r),t.state=i.None,this.closeNode(e,t,r),a},e.prototype.dtdAttList=function(e,t,r){var a;return this.openNode(e,t,r),t.state=i.OpenTag,a=this.indent(e,t,r)+"<!ATTLIST",t.state=i.InsideTag,a+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(a+=" "+e.defaultValueType),e.defaultValue&&(a+=' "'+e.defaultValue+'"'),t.state=i.CloseTag,a+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=i.None,this.closeNode(e,t,r),a},e.prototype.dtdElement=function(e,t,r){var a;return this.openNode(e,t,r),t.state=i.OpenTag,a=this.indent(e,t,r)+"<!ELEMENT",t.state=i.InsideTag,a+=" "+e.name+" "+e.value,t.state=i.CloseTag,a+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=i.None,this.closeNode(e,t,r),a},e.prototype.dtdEntity=function(e,t,r){var a;return this.openNode(e,t,r),t.state=i.OpenTag,a=this.indent(e,t,r)+"<!ENTITY",t.state=i.InsideTag,e.pe&&(a+=" %"),a+=" "+e.name,e.value?a+=' "'+e.value+'"':(e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),e.nData&&(a+=" NDATA "+e.nData)),t.state=i.CloseTag,a+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=i.None,this.closeNode(e,t,r),a},e.prototype.dtdNotation=function(e,t,r){var a;return this.openNode(e,t,r),t.state=i.OpenTag,a=this.indent(e,t,r)+"<!NOTATION",t.state=i.InsideTag,a+=" "+e.name,e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?a+=' PUBLIC "'+e.pubID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),t.state=i.CloseTag,a+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=i.None,this.closeNode(e,t,r),a},e.prototype.openNode=function(e,t,r){},e.prototype.closeNode=function(e,t,r){},e.prototype.openAttribute=function(e,t,r){},e.prototype.closeAttribute=function(e,t,r){},e}()}).call(e.e)},648362,(e,t,r)=>{(function(){var r=function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return r(t,e),t.prototype.document=function(e,t){var r,i,a,n,s;for(i=0,t=this.filterOptions(t),n="",a=(s=e.children).length;i<a;i++)r=s[i],n+=this.writeChildNode(r,t,0);return t.pretty&&n.slice(-t.newline.length)===t.newline&&(n=n.slice(0,-t.newline.length)),n},t}(e.r(417773))}).call(e.e)},638982,(e,t,r)=>{(function(){var r,i,a,n,s,o,d,u=function(e,t){for(var r in t)l.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},l={}.hasOwnProperty;d=e.r(397747).isPlainObject,a=e.r(36686),i=e.r(771747),n=e.r(414671),r=e.r(376047),o=e.r(541938),s=e.r(648362),t.exports=function(e){function t(e){t.__super__.constructor.call(this,null),this.name="#document",this.type=r.Document,this.documentURI=null,this.domConfig=new i,e||(e={}),e.writer||(e.writer=new s),this.options=e,this.stringify=new o(e)}return u(t,e),Object.defineProperty(t.prototype,"implementation",{value:new a}),Object.defineProperty(t.prototype,"doctype",{get:function(){var e,t,i,a;for(t=0,i=(a=this.children).length;t<i;t++)if((e=a[t]).type===r.DocType)return e;return null}}),Object.defineProperty(t.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(t.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(t.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===r.Declaration?this.children[0].encoding:null}}),Object.defineProperty(t.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===r.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(t.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===r.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(t.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(t.prototype,"origin",{get:function(){return null}}),Object.defineProperty(t.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(t.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(t.prototype,"contentType",{get:function(){return null}}),t.prototype.end=function(e){var t;return t={},e?d(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))},t.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))},t.prototype.createElement=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createDocumentFragment=function(){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createTextNode=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createComment=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createCDATASection=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createProcessingInstruction=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createAttribute=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createEntityReference=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.importNode=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createElementNS=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createAttributeNS=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementById=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.adoptNode=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalizeDocument=function(){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.renameNode=function(e,t,r){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByClassName=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createEvent=function(e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createRange=function(){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createNodeIterator=function(e,t,r){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createTreeWalker=function(e,t,r){throw Error("This DOM method is not implemented."+this.debugInfo())},t}(n)}).call(e.e)},958093,(e,t,r)=>{(function(){var r,i,a,n,s,o,d,u,l,c,h,p,f,m,_,g,y,v,b,x,k,w,T,Z={}.hasOwnProperty;k=(T=e.r(397747)).isObject,x=T.isFunction,w=T.isPlainObject,b=T.getValue,r=e.r(376047),p=e.r(638982),f=e.r(817643),n=e.r(253655),s=e.r(259254),_=e.r(157186),v=e.r(731536),m=e.r(948489),c=e.r(42437),h=e.r(107247),o=e.r(568161),u=e.r(770814),d=e.r(125248),l=e.r(850665),a=e.r(949764),y=e.r(541938),g=e.r(648362),i=e.r(527486),t.exports=function(){function e(e,t,i){var a;this.name="?xml",this.type=r.Document,e||(e={}),a={},e.writer?w(e.writer)&&(a=e.writer,e.writer=new g):e.writer=new g,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(a),this.stringify=new y(e),this.onDataCallback=t||function(){},this.onEndCallback=i||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.createChildNode=function(e){var t,i,a,n,s,o,d,u;switch(e.type){case r.CData:this.cdata(e.value);break;case r.Comment:this.comment(e.value);break;case r.Element:for(i in a={},d=e.attribs)Z.call(d,i)&&(t=d[i],a[i]=t.value);this.node(e.name,a);break;case r.Dummy:this.dummy();break;case r.Raw:this.raw(e.value);break;case r.Text:this.text(e.value);break;case r.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(s=0,o=(u=e.children).length;s<o;s++)n=u[s],this.createChildNode(n),n.type===r.Element&&this.up();return this},e.prototype.dummy=function(){return this},e.prototype.node=function(e,t,r){var i;if(null==e)throw Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=b(e),null==t&&(t={}),k(t=b(t))||(r=(i=[t,r])[0],t=i[1]),this.currentNode=new f(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},e.prototype.element=function(e,t,i){var a,n,s,o,d,u;if(this.currentNode&&this.currentNode.type===r.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(e)||k(e)||x(e))for(o=this.options.noValidation,this.options.noValidation=!0,(u=new p(this.options).element("TEMP_ROOT")).element(e),this.options.noValidation=o,n=0,s=(d=u.children).length;n<s;n++)a=d[n],this.createChildNode(a),a.type===r.Element&&this.up();else this.node(e,t,i);return this},e.prototype.attribute=function(e,t){var r,i;if(!this.currentNode||this.currentNode.children)throw Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=b(e)),k(e))for(r in e)Z.call(e,r)&&(i=e[r],this.attribute(r,i));else x(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new a(this,e,""):null!=t&&(this.currentNode.attribs[e]=new a(this,e,t));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new v(this,e),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new n(this,e),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new s(this,e),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new _(this,e),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.instruction=function(e,t){var r,i,a,n,s;if(this.openCurrent(),null!=e&&(e=b(e)),null!=t&&(t=b(t)),Array.isArray(e))for(r=0,n=e.length;r<n;r++)i=e[r],this.instruction(i);else if(k(e))for(i in e)Z.call(e,i)&&(a=e[i],this.instruction(i,a));else x(t)&&(t=t.apply()),s=new m(this,e,t),this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},e.prototype.declaration=function(e,t,r){var i;if(this.openCurrent(),this.documentStarted)throw Error("declaration() must be the first node.");return i=new c(this,e,t,r),this.onData(this.writer.declaration(i,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.doctype=function(e,t,r){if(this.openCurrent(),null==e)throw Error("Missing root node name.");if(this.root)throw Error("dtd() must come before the root node.");return this.currentNode=new h(this,t,r),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var r;return this.openCurrent(),r=new d(this,e,t),this.onData(this.writer.dtdElement(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.attList=function(e,t,r,i,a){var n;return this.openCurrent(),n=new o(this,e,t,r,i,a),this.onData(this.writer.dtdAttList(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.entity=function(e,t){var r;return this.openCurrent(),r=new u(this,!1,e,t),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.pEntity=function(e,t){var r;return this.openCurrent(),r=new u(this,!0,e,t),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.notation=function(e,t){var r;return this.openCurrent(),r=new l(this,e,t),this.onData(this.writer.dtdNotation(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.up=function(){if(this.currentLevel<0)throw Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){var t,a,n,s;if(!e.isOpen){if(this.root||0!==this.currentLevel||e.type!==r.Element||(this.root=e),a="",e.type===r.Element){for(n in this.writerOptions.state=i.OpenTag,a=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,s=e.attribs)Z.call(s,n)&&(t=s[n],a+=this.writer.attribute(t,this.writerOptions,this.currentLevel));a+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=i.InsideTag}else this.writerOptions.state=i.OpenTag,a=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),e.children?(a+=" [",this.writerOptions.state=i.InsideTag):(this.writerOptions.state=i.CloseTag,a+=">"),a+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(a,this.currentLevel),e.isOpen=!0}},e.prototype.closeNode=function(e){var t;if(!e.isClosed)return t="",this.writerOptions.state=i.CloseTag,t=e.type===r.Element?this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=i.None,this.onData(t,this.currentLevel),e.isClosed=!0},e.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,r){return this.node(e,t,r)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,r){return this.declaration(e,t,r)},e.prototype.dtd=function(e,t,r){return this.doctype(e,t,r)},e.prototype.e=function(e,t,r){return this.element(e,t,r)},e.prototype.n=function(e,t,r){return this.node(e,t,r)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode.type===r.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode.type===r.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(e.e)},128049,(e,t,r)=>{(function(){var r,i,a,n=function(e,t){for(var r in t)s.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=e.r(376047),a=e.r(417773),i=e.r(527486),t.exports=function(e){function t(e,r){this.stream=e,t.__super__.constructor.call(this,r)}return n(t,e),t.prototype.endline=function(e,r,a){return e.isLastRootNode&&r.state===i.CloseTag?"":t.__super__.endline.call(this,e,r,a)},t.prototype.document=function(e,t){var r,i,a,n,s,o,d,u,l;for(d=e.children,i=a=0,s=d.length;a<s;i=++a)(r=d[i]).isLastRootNode=i===e.children.length-1;for(n=0,t=this.filterOptions(t),u=e.children,l=[],o=u.length;n<o;n++)r=u[n],l.push(this.writeChildNode(r,t,0));return l},t.prototype.attribute=function(e,r,i){return this.stream.write(t.__super__.attribute.call(this,e,r,i))},t.prototype.cdata=function(e,r,i){return this.stream.write(t.__super__.cdata.call(this,e,r,i))},t.prototype.comment=function(e,r,i){return this.stream.write(t.__super__.comment.call(this,e,r,i))},t.prototype.declaration=function(e,r,i){return this.stream.write(t.__super__.declaration.call(this,e,r,i))},t.prototype.docType=function(e,t,r){var a,n,s,o;if(r||(r=0),this.openNode(e,t,r),t.state=i.OpenTag,this.stream.write(this.indent(e,t,r)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e,t,r)),t.state=i.InsideTag,n=0,s=(o=e.children).length;n<s;n++)a=o[n],this.writeChildNode(a,t,r+1);t.state=i.CloseTag,this.stream.write("]")}return t.state=i.CloseTag,this.stream.write(t.spaceBeforeSlash+">"),this.stream.write(this.endline(e,t,r)),t.state=i.None,this.closeNode(e,t,r)},t.prototype.element=function(e,t,a){var n,o,d,u,l,c,h,p,f,m;for(h in a||(a=0),this.openNode(e,t,a),t.state=i.OpenTag,this.stream.write(this.indent(e,t,a)+"<"+e.name),f=e.attribs)s.call(f,h)&&(n=f[h],this.attribute(n,t,a));if(u=0===(d=e.children.length)?null:e.children[0],0===d||e.children.every(function(e){return(e.type===r.Text||e.type===r.Raw)&&""===e.value}))t.allowEmpty?(this.stream.write(">"),t.state=i.CloseTag,this.stream.write("</"+e.name+">")):(t.state=i.CloseTag,this.stream.write(t.spaceBeforeSlash+"/>"));else if(t.pretty&&1===d&&(u.type===r.Text||u.type===r.Raw)&&null!=u.value)this.stream.write(">"),t.state=i.InsideTag,t.suppressPrettyCount++,p=!0,this.writeChildNode(u,t,a+1),t.suppressPrettyCount--,p=!1,t.state=i.CloseTag,this.stream.write("</"+e.name+">");else{for(this.stream.write(">"+this.endline(e,t,a)),t.state=i.InsideTag,l=0,c=(m=e.children).length;l<c;l++)o=m[l],this.writeChildNode(o,t,a+1);t.state=i.CloseTag,this.stream.write(this.indent(e,t,a)+"</"+e.name+">")}return this.stream.write(this.endline(e,t,a)),t.state=i.None,this.closeNode(e,t,a)},t.prototype.processingInstruction=function(e,r,i){return this.stream.write(t.__super__.processingInstruction.call(this,e,r,i))},t.prototype.raw=function(e,r,i){return this.stream.write(t.__super__.raw.call(this,e,r,i))},t.prototype.text=function(e,r,i){return this.stream.write(t.__super__.text.call(this,e,r,i))},t.prototype.dtdAttList=function(e,r,i){return this.stream.write(t.__super__.dtdAttList.call(this,e,r,i))},t.prototype.dtdElement=function(e,r,i){return this.stream.write(t.__super__.dtdElement.call(this,e,r,i))},t.prototype.dtdEntity=function(e,r,i){return this.stream.write(t.__super__.dtdEntity.call(this,e,r,i))},t.prototype.dtdNotation=function(e,r,i){return this.stream.write(t.__super__.dtdNotation.call(this,e,r,i))},t}(a)}).call(e.e)},487642,(e,t,r)=>{(function(){var r,i,a,n,s,o,d,u,l,c;u=(c=e.r(397747)).assign,l=c.isFunction,a=e.r(36686),n=e.r(638982),s=e.r(958093),d=e.r(648362),o=e.r(128049),r=e.r(376047),i=e.r(527486),t.exports.create=function(e,t,r,i){var a,s;if(null==e)throw Error("Root element needs a name.");return s=(a=new n(i=u({},t,r,i))).element(e),i.headless||(a.declaration(i),(null!=i.pubID||null!=i.sysID)&&a.dtd(i)),s},t.exports.begin=function(e,t,r){var i;return(l(e)&&(t=(i=[e,t])[0],r=i[1],e={}),t)?new s(e,t,r):new n(e)},t.exports.stringWriter=function(e){return new d(e)},t.exports.streamWriter=function(e,t){return new o(e,t)},t.exports.implementation=new a,t.exports.nodeType=r,t.exports.writerState=i}).call(e.e)},674801,(e,t,r)=>{(function(){"use strict";var t,i,a,n,s,o={}.hasOwnProperty;t=e.r(487642),i=e.r(779516).defaults,n=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},s=function(e){return"<![CDATA["+a(e)+"]]>"},a=function(e){return e.replace("]]>","]]]]><![CDATA[>")},r.Builder=function(){function e(e){var t,r,a;for(t in this.options={},r=i["0.2"])o.call(r,t)&&(a=r[t],this.options[t]=a);for(t in e)o.call(e,t)&&(a=e[t],this.options[t]=a)}return e.prototype.buildObject=function(e){var r,a,d,u,l;return r=this.options.attrkey,a=this.options.charkey,1===Object.keys(e).length&&this.options.rootName===i["0.2"].rootName?(l=Object.keys(e)[0],e=e[l]):l=this.options.rootName,d=function(e){return function(t,i){var u,l,c,h,p,f;if("object"!=typeof i)e.options.cdata&&n(i)?t.raw(s(i)):t.txt(i);else if(Array.isArray(i)){for(h in i)if(o.call(i,h))for(p in l=i[h])c=l[p],t=d(t.ele(p),c).up()}else for(p in i)if(o.call(i,p))if(l=i[p],p===r){if("object"==typeof l)for(u in l)f=l[u],t=t.att(u,f)}else if(p===a)t=e.options.cdata&&n(l)?t.raw(s(l)):t.txt(l);else if(Array.isArray(l))for(h in l)o.call(l,h)&&(t="string"==typeof(c=l[h])?e.options.cdata&&n(c)?t.ele(p).raw(s(c)).up():t.ele(p,c).up():d(t.ele(p),c).up());else"object"==typeof l?t=d(t.ele(p),l).up():"string"==typeof l&&e.options.cdata&&n(l)?t=t.ele(p).raw(s(l)).up():(null==l&&(l=""),t=t.ele(p,l.toString()).up());return t}}(this),u=t.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),d(u,e).end(this.options.renderOpts)},e}()}).call(e.e)},99348,(e,t,r)=>{t.exports=e.x("string_decoder",()=>require("string_decoder"))},753752,(e,t,r)=>{!function(t){t.parser=function(e,t){return new a(e,t)},t.SAXParser=a,t.SAXStream=l,t.createStream=u,t.MAX_BUFFER_LENGTH=65536;var r,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(e,r){if(!(this instanceof a))return new a(e,r);var i=this;s(i),i.q=i.c="",i.bufferCheckPosition=t.MAX_BUFFER_LENGTH,i.opt=r||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!e,i.noscript=!!(e||i.opt.noscript),i.state=O.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(b)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),C(i,"onready")}function n(e){for(var r=Math.max(t.MAX_BUFFER_LENGTH,10),a=0,n=0,s=i.length;n<s;n++){var o=e[i[n]].length;if(o>r)switch(i[n]){case"textNode":M(e);break;case"cdata":N(e,"oncdata",e.cdata),e.cdata="";break;case"script":N(e,"onscript",e.script),e.script="";break;default:j(e,"Max buffer length exceeded: "+i[n])}a=Math.max(a,o)}e.bufferCheckPosition=t.MAX_BUFFER_LENGTH-a+e.position}function s(e){for(var t=0,r=i.length;t<r;t++)e[i[t]]=""}function o(e){M(e),""!==e.cdata&&(N(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(N(e,"onscript",e.script),e.script="")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),a.prototype={end:function(){R(this)},write:K,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};try{r=e.r(688947).Stream}catch(e){r=function(){}}var d=t.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function u(e,t){return new l(e,t)}function l(e,t){if(!(this instanceof l))return new l(e,t);r.apply(this),this._parser=new a(e,t),this.writable=!0,this.readable=!0;var i=this;this._parser.onend=function(){i.emit("end")},this._parser.onerror=function(e){i.emit("error",e),i._parser.error=null},this._decoder=null,d.forEach(function(e){Object.defineProperty(i,"on"+e,{get:function(){return i._parser["on"+e]},set:function(t){if(!t)return i.removeAllListeners(e),i._parser["on"+e]=t,t;i.on(e,t)},enumerable:!0,configurable:!1})})}l.prototype=Object.create(r.prototype,{constructor:{value:l}}),l.prototype.write=function(t){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)){if(!this._decoder){var r=e.r(99348).StringDecoder;this._decoder=new r("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},l.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},l.prototype.on=function(e,t){var i=this;return i._parser["on"+e]||-1===d.indexOf(e)||(i._parser["on"+e]=function(){var t=1==arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),i.emit.apply(i,t)}),r.prototype.on.call(i,e,t)};var c="\r\n	 ",h="0124356789",p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",f="'\"",m=c+">",_="[CDATA[",g="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",b={xml:y,xmlns:v};c=Z(c),h=Z(h),p=Z(p);var x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,k=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function Z(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}function E(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function A(e,t){return E(e)?!!t.match(e):e[t]}function S(e,t){return!A(e,t)}f=Z(f),m=Z(m);var O=0;for(var I in t.STATE={BEGIN:O++,BEGIN_WHITESPACE:O++,TEXT:O++,TEXT_ENTITY:O++,OPEN_WAKA:O++,SGML_DECL:O++,SGML_DECL_QUOTED:O++,DOCTYPE:O++,DOCTYPE_QUOTED:O++,DOCTYPE_DTD:O++,DOCTYPE_DTD_QUOTED:O++,COMMENT_STARTING:O++,COMMENT:O++,COMMENT_ENDING:O++,COMMENT_ENDED:O++,CDATA:O++,CDATA_ENDING:O++,CDATA_ENDING_2:O++,PROC_INST:O++,PROC_INST_BODY:O++,PROC_INST_ENDING:O++,OPEN_TAG:O++,OPEN_TAG_SLASH:O++,ATTRIB:O++,ATTRIB_NAME:O++,ATTRIB_NAME_SAW_WHITE:O++,ATTRIB_VALUE:O++,ATTRIB_VALUE_QUOTED:O++,ATTRIB_VALUE_CLOSED:O++,ATTRIB_VALUE_UNQUOTED:O++,ATTRIB_VALUE_ENTITY_Q:O++,ATTRIB_VALUE_ENTITY_U:O++,CLOSE_TAG:O++,CLOSE_TAG_SAW_WHITE:O++,SCRIPT:O++,SCRIPT_ENDING:O++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var r=t.ENTITIES[e],i="number"==typeof r?String.fromCharCode(r):r;t.ENTITIES[e]=i}),t.STATE)t.STATE[t.STATE[I]]=I;function C(e,t,r){e[t]&&e[t](r)}function N(e,t,r){e.textNode&&M(e),C(e,t,r)}function M(e){e.textNode=P(e.opt,e.textNode),e.textNode&&C(e,"ontext",e.textNode),e.textNode=""}function P(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function j(e,t){return M(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),e.error=t=Error(t),C(e,"onerror",t),e}function R(e){return e.sawRoot&&!e.closedRoot&&D(e,"Unclosed root tag"),e.state!==O.BEGIN&&e.state!==O.BEGIN_WHITESPACE&&e.state!==O.TEXT&&j(e,"Unexpected end"),M(e),e.c="",e.closed=!0,C(e,"onend"),a.call(e,e.strict,e.opt),e}function D(e,t){if("object"!=typeof e||!(e instanceof a))throw Error("bad call to strictFail");e.strict&&j(e,t)}function L(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,N(e,"onopentagstart",r)}function F(e,t){var r=0>e.indexOf(":")?["",e]:e.split(":"),i=r[0],a=r[1];return t&&"xmlns"===e&&(i="xmlns",a=""),{prefix:i,local:a}}function B(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName)){e.attribName=e.attribValue="";return}if(e.opt.xmlns){var t=F(e.attribName,!0),r=t.prefix,i=t.local;if("xmlns"===r)if("xml"===i&&e.attribValue!==y)D(e,"xml: prefix must be bound to "+y+"\nActual: "+e.attribValue);else if("xmlns"===i&&e.attribValue!==v)D(e,"xmlns: prefix must be bound to "+v+"\nActual: "+e.attribValue);else{var a=e.tag,n=e.tags[e.tags.length-1]||e;a.ns===n.ns&&(a.ns=Object.create(n.ns)),a.ns[i]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,N(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}function z(e,t){if(e.opt.xmlns){var r=e.tag,i=F(e.tagName);r.prefix=i.prefix,r.local=i.local,r.uri=r.ns[i.prefix]||"",r.prefix&&!r.uri&&(D(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=i.prefix);var a=e.tags[e.tags.length-1]||e;r.ns&&a.ns!==r.ns&&Object.keys(r.ns).forEach(function(t){N(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var n=0,s=e.attribList.length;n<s;n++){var o=e.attribList[n],d=o[0],u=o[1],l=F(d,!0),c=l.prefix,h=l.local,p=""===c?"":r.ns[c]||"",f={name:d,value:u,prefix:c,local:h,uri:p};c&&"xmlns"!==c&&!p&&(D(e,"Unbound namespace prefix: "+JSON.stringify(c)),f.uri=c),e.tag.attributes[d]=f,N(e,"onattribute",f)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),N(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=O.TEXT:e.state=O.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function $(e){if(!e.tagName){D(e,"Weird empty close tag."),e.textNode+="</>",e.state=O.TEXT;return}if(e.script){if("script"!==e.tagName){e.script+="</"+e.tagName+">",e.tagName="",e.state=O.SCRIPT;return}N(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var i=r;t--;)if(e.tags[t].name!==i)D(e,"Unexpected close tag");else break;if(t<0){D(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",e.state=O.TEXT;return}e.tagName=r;for(var a=e.tags.length;a-- >t;){var n=e.tag=e.tags.pop();e.tagName=e.tag.name,N(e,"onclosetag",e.tagName);var s={};for(var o in n.ns)s[o]=n.ns[o];var d=e.tags[e.tags.length-1]||e;e.opt.xmlns&&n.ns!==d.ns&&Object.keys(n.ns).forEach(function(t){var r=n.ns[t];N(e,"onclosenamespace",{prefix:t,uri:r})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=O.TEXT}function U(e){var t,r=e.entity,i=r.toLowerCase(),a="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[i]?e.ENTITIES[i]:("#"===(r=i).charAt(0)&&(a="x"===r.charAt(1)?(t=parseInt(r=r.slice(2),16)).toString(16):(t=parseInt(r=r.slice(1),10)).toString(10)),r=r.replace(/^0+/,""),a.toLowerCase()!==r)?(D(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t)}function V(e,t){"<"===t?(e.state=O.OPEN_WAKA,e.startTagPosition=e.position):S(c,t)&&(D(e,"Non-whitespace before first tag."),e.textNode=t,e.state=O.TEXT)}function W(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}function K(e){var t=this;if(this.error)throw this.error;if(t.closed)return j(t,"Cannot write after close. Assign an onready handler.");if(null===e)return R(t);"object"==typeof e&&(e=e.toString());for(var r=0,i="";t.c=i=W(e,r++),i;)switch(t.trackPosition&&(t.position++,"\n"===i?(t.line++,t.column=0):t.column++),t.state){case O.BEGIN:if(t.state=O.BEGIN_WHITESPACE,"\uFEFF"===i)continue;V(t,i);continue;case O.BEGIN_WHITESPACE:V(t,i);continue;case O.TEXT:if(t.sawRoot&&!t.closedRoot){for(var a,s,o=r-1;i&&"<"!==i&&"&"!==i;)(i=W(e,r++))&&t.trackPosition&&(t.position++,"\n"===i?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(o,r-1)}"<"!==i||t.sawRoot&&t.closedRoot&&!t.strict?(S(c,i)&&(!t.sawRoot||t.closedRoot)&&D(t,"Text data outside of root node."),"&"===i?t.state=O.TEXT_ENTITY:t.textNode+=i):(t.state=O.OPEN_WAKA,t.startTagPosition=t.position);continue;case O.SCRIPT:"<"===i?t.state=O.SCRIPT_ENDING:t.script+=i;continue;case O.SCRIPT_ENDING:"/"===i?t.state=O.CLOSE_TAG:(t.script+="<"+i,t.state=O.SCRIPT);continue;case O.OPEN_WAKA:"!"===i?(t.state=O.SGML_DECL,t.sgmlDecl=""):A(c,i)||(A(x,i)?(t.state=O.OPEN_TAG,t.tagName=i):"/"===i?(t.state=O.CLOSE_TAG,t.tagName=""):"?"===i?(t.state=O.PROC_INST,t.procInstName=t.procInstBody=""):(D(t,"Unencoded <"),t.startTagPosition+1<t.position&&(i=Array(t.position-t.startTagPosition).join(" ")+i),t.textNode+="<"+i,t.state=O.TEXT));continue;case O.SGML_DECL:(t.sgmlDecl+i).toUpperCase()===_?(N(t,"onopencdata"),t.state=O.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+i==="--"?(t.state=O.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+i).toUpperCase()===g?(t.state=O.DOCTYPE,(t.doctype||t.sawRoot)&&D(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===i?(N(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=O.TEXT):(A(f,i)&&(t.state=O.SGML_DECL_QUOTED),t.sgmlDecl+=i);continue;case O.SGML_DECL_QUOTED:i===t.q&&(t.state=O.SGML_DECL,t.q=""),t.sgmlDecl+=i;continue;case O.DOCTYPE:">"===i?(t.state=O.TEXT,N(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=i,"["===i?t.state=O.DOCTYPE_DTD:A(f,i)&&(t.state=O.DOCTYPE_QUOTED,t.q=i));continue;case O.DOCTYPE_QUOTED:t.doctype+=i,i===t.q&&(t.q="",t.state=O.DOCTYPE);continue;case O.DOCTYPE_DTD:t.doctype+=i,"]"===i?t.state=O.DOCTYPE:A(f,i)&&(t.state=O.DOCTYPE_DTD_QUOTED,t.q=i);continue;case O.DOCTYPE_DTD_QUOTED:t.doctype+=i,i===t.q&&(t.state=O.DOCTYPE_DTD,t.q="");continue;case O.COMMENT:"-"===i?t.state=O.COMMENT_ENDING:t.comment+=i;continue;case O.COMMENT_ENDING:"-"===i?(t.state=O.COMMENT_ENDED,t.comment=P(t.opt,t.comment),t.comment&&N(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+i,t.state=O.COMMENT);continue;case O.COMMENT_ENDED:">"!==i?(D(t,"Malformed comment"),t.comment+="--"+i,t.state=O.COMMENT):t.state=O.TEXT;continue;case O.CDATA:"]"===i?t.state=O.CDATA_ENDING:t.cdata+=i;continue;case O.CDATA_ENDING:"]"===i?t.state=O.CDATA_ENDING_2:(t.cdata+="]"+i,t.state=O.CDATA);continue;case O.CDATA_ENDING_2:">"===i?(t.cdata&&N(t,"oncdata",t.cdata),N(t,"onclosecdata"),t.cdata="",t.state=O.TEXT):"]"===i?t.cdata+="]":(t.cdata+="]]"+i,t.state=O.CDATA);continue;case O.PROC_INST:"?"===i?t.state=O.PROC_INST_ENDING:A(c,i)?t.state=O.PROC_INST_BODY:t.procInstName+=i;continue;case O.PROC_INST_BODY:!t.procInstBody&&A(c,i)||("?"===i?t.state=O.PROC_INST_ENDING:t.procInstBody+=i);continue;case O.PROC_INST_ENDING:">"===i?(N(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=O.TEXT):(t.procInstBody+="?"+i,t.state=O.PROC_INST_BODY);continue;case O.OPEN_TAG:A(k,i)?t.tagName+=i:(L(t),">"===i?z(t):"/"===i?t.state=O.OPEN_TAG_SLASH:(S(c,i)&&D(t,"Invalid character in tag name"),t.state=O.ATTRIB));continue;case O.OPEN_TAG_SLASH:">"===i?(z(t,!0),$(t)):(D(t,"Forward-slash in opening tag not followed by >"),t.state=O.ATTRIB);continue;case O.ATTRIB:A(c,i)||(">"===i?z(t):"/"===i?t.state=O.OPEN_TAG_SLASH:A(x,i)?(t.attribName=i,t.attribValue="",t.state=O.ATTRIB_NAME):D(t,"Invalid attribute name"));continue;case O.ATTRIB_NAME:"="===i?t.state=O.ATTRIB_VALUE:">"===i?(D(t,"Attribute without value"),t.attribValue=t.attribName,B(t),z(t)):A(c,i)?t.state=O.ATTRIB_NAME_SAW_WHITE:A(k,i)?t.attribName+=i:D(t,"Invalid attribute name");continue;case O.ATTRIB_NAME_SAW_WHITE:if("="===i)t.state=O.ATTRIB_VALUE;else{if(A(c,i))continue;D(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",N(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===i?z(t):A(x,i)?(t.attribName=i,t.state=O.ATTRIB_NAME):(D(t,"Invalid attribute name"),t.state=O.ATTRIB)}continue;case O.ATTRIB_VALUE:A(c,i)||(A(f,i)?(t.q=i,t.state=O.ATTRIB_VALUE_QUOTED):(D(t,"Unquoted attribute value"),t.state=O.ATTRIB_VALUE_UNQUOTED,t.attribValue=i));continue;case O.ATTRIB_VALUE_QUOTED:if(i!==t.q){"&"===i?t.state=O.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=i;continue}B(t),t.q="",t.state=O.ATTRIB_VALUE_CLOSED;continue;case O.ATTRIB_VALUE_CLOSED:A(c,i)?t.state=O.ATTRIB:">"===i?z(t):"/"===i?t.state=O.OPEN_TAG_SLASH:A(x,i)?(D(t,"No whitespace between attributes"),t.attribName=i,t.attribValue="",t.state=O.ATTRIB_NAME):D(t,"Invalid attribute name");continue;case O.ATTRIB_VALUE_UNQUOTED:if(S(m,i)){"&"===i?t.state=O.ATTRIB_VALUE_ENTITY_U:t.attribValue+=i;continue}B(t),">"===i?z(t):t.state=O.ATTRIB;continue;case O.CLOSE_TAG:t.tagName?">"===i?$(t):A(k,i)?t.tagName+=i:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=O.SCRIPT):(S(c,i)&&D(t,"Invalid tagname in closing tag"),t.state=O.CLOSE_TAG_SAW_WHITE):A(c,i)||(S(x,i)?t.script?(t.script+="</"+i,t.state=O.SCRIPT):D(t,"Invalid tagname in closing tag."):t.tagName=i);continue;case O.CLOSE_TAG_SAW_WHITE:if(A(c,i))continue;">"===i?$(t):D(t,"Invalid characters in closing tag");continue;case O.TEXT_ENTITY:case O.ATTRIB_VALUE_ENTITY_Q:case O.ATTRIB_VALUE_ENTITY_U:switch(t.state){case O.TEXT_ENTITY:a=O.TEXT,s="textNode";break;case O.ATTRIB_VALUE_ENTITY_Q:a=O.ATTRIB_VALUE_QUOTED,s="attribValue";break;case O.ATTRIB_VALUE_ENTITY_U:a=O.ATTRIB_VALUE_UNQUOTED,s="attribValue"}";"===i?(t[s]+=U(t),t.entity="",t.state=a):A(t.entity.length?T:w,i)?t.entity+=i:(D(t,"Invalid character in entity name"),t[s]+="&"+t.entity+i,t.entity="",t.state=a);continue;default:throw Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&n(t),t}O=t.STATE,String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,r=function(){var r,i,a=16384,n=[],s=-1,o=arguments.length;if(!o)return"";for(var d="";++s<o;){var u=Number(arguments[s]);if(!isFinite(u)||u<0||u>1114111||t(u)!==u)throw RangeError("Invalid code point: "+u);u<=65535?n.push(u):(u-=65536,r=(u>>10)+55296,i=u%1024+56320,n.push(r,i)),(s+1===o||n.length>a)&&(d+=e.apply(null,n),n.length=0)}return d};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}()}(r)},190060,(e,t,r)=>{(function(){"use strict";r.stripBOM=function(e){return"\uFEFF"===e[0]?e.substring(1):e}}).call(e.e)},849365,(e,t,r)=>{(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),r.normalize=function(e){return e.toLowerCase()},r.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},r.stripPrefix=function(t){return t.replace(e,"")},r.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},r.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(e.e)},137464,(e,t,r)=>{t.exports=e.x("timers",()=>require("timers"))},734305,(e,t,r)=>{(function(){"use strict";var t,i,a,n,s,o,d,u,l=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t){for(var r in t)h.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},h={}.hasOwnProperty;d=e.r(753752),a=e.r(427699),t=e.r(190060),o=e.r(849365),u=e.r(137464).setImmediate,i=e.r(779516).defaults,n=function(e){return"object"==typeof e&&null!=e&&0===Object.keys(e).length},s=function(e,t,r){var i,a;for(i=0,a=e.length;i<a;i++)t=(0,e[i])(t,r);return t},r.Parser=function(e){function a(e){var t,a,n;if(this.parseStringPromise=l(this.parseStringPromise,this),this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this),!(this instanceof r.Parser))return new r.Parser(e);for(t in this.options={},a=i["0.2"])h.call(a,t)&&(n=a[t],this.options[t]=n);for(t in e)h.call(e,t)&&(n=e[t],this.options[t]=n);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(o.normalize)),this.reset()}return c(a,e),a.prototype.processAsync=function(){var e,t;try{if(this.remaining.length<=this.options.chunkSize)return e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close();return e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),u(this.processAsync)}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},a.prototype.assignOrPush=function(e,t,r){return t in e?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(r)):this.options.explicitArray?e[t]=[r]:e[t]=r},a.prototype.reset=function(){var e,t,r,i;return this.removeAllListeners(),this.saxParser=d.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(e){return function(t){if(e.saxParser.resume(),!e.saxParser.errThrown)return e.saxParser.errThrown=!0,e.emit("error",t)}}(this),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,i=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(r){return function(a){var n,o,d,u,l;if((d=Object.create(null))[t]="",!r.options.ignoreAttrs)for(n in l=a.attributes)h.call(l,n)&&(e in d||r.options.mergeAttrs||(d[e]=Object.create(null)),o=r.options.attrValueProcessors?s(r.options.attrValueProcessors,a.attributes[n],n):a.attributes[n],u=r.options.attrNameProcessors?s(r.options.attrNameProcessors,n):n,r.options.mergeAttrs?r.assignOrPush(d,u,o):d[e][u]=o);return d["#name"]=r.options.tagNameProcessors?s(r.options.tagNameProcessors,a.name):a.name,r.options.xmlns&&(d[r.options.xmlnskey]={uri:a.uri,local:a.local}),i.push(d)}}(this),this.saxParser.onclosetag=function(e){return function(){var r,a,o,d,u,l,c,p,f,m;if(u=(l=i.pop())["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete l["#name"],!0===l.cdata&&(r=l.cdata,delete l.cdata),f=i[i.length-1],l[t].match(/^\s*$/)&&!r?(a=l[t],delete l[t]):(e.options.trim&&(l[t]=l[t].trim()),e.options.normalize&&(l[t]=l[t].replace(/\s{2,}/g," ").trim()),l[t]=e.options.valueProcessors?s(e.options.valueProcessors,l[t],u):l[t],1===Object.keys(l).length&&t in l&&!e.EXPLICIT_CHARKEY&&(l=l[t])),n(l)&&(l="function"==typeof e.options.emptyTag?e.options.emptyTag():""!==e.options.emptyTag?e.options.emptyTag:a),null!=e.options.validator&&(m="/"+(function(){var e,t,r;for(e=0,r=[],t=i.length;e<t;e++)d=i[e],r.push(d["#name"]);return r})().concat(u).join("/"),!function(){var t;try{l=e.options.validator(m,f&&f[u],l)}catch(r){return t=r,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"==typeof l)if(e.options.preserveChildrenOrder){if(f){for(o in f[e.options.childkey]=f[e.options.childkey]||[],c=Object.create(null),l)h.call(l,o)&&(c[o]=l[o]);f[e.options.childkey].push(c),delete l["#name"],1===Object.keys(l).length&&t in l&&!e.EXPLICIT_CHARKEY&&(l=l[t])}}else d=Object.create(null),e.options.attrkey in l&&(d[e.options.attrkey]=l[e.options.attrkey],delete l[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in l&&(d[e.options.charkey]=l[e.options.charkey],delete l[e.options.charkey]),Object.getOwnPropertyNames(l).length>0&&(d[e.options.childkey]=l),l=d;return i.length>0?e.assignOrPush(f,u,l):(e.options.explicitRoot&&(p=l,(l=Object.create(null))[u]=p),e.resultObject=l,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),r=function(e){return function(r){var a,n;if(n=i[i.length-1])return n[t]+=r,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==r.replace(/\\n/g,"").trim())&&(n[e.options.childkey]=n[e.options.childkey]||[],(a={"#name":"__text__"})[t]=r,e.options.normalize&&(a[t]=a[t].replace(/\s{2,}/g," ").trim()),n[e.options.childkey].push(a)),n}}(this),this.saxParser.ontext=r,this.saxParser.oncdata=function(e){return function(e){var t;if(t=r(e))return t.cdata=!0}}(0)},a.prototype.parseString=function(e,r){var i;null!=r&&"function"==typeof r&&(this.on("end",function(e){return this.reset(),r(null,e)}),this.on("error",function(e){return this.reset(),r(e)}));try{if(e=e.toString(),""===e.trim())return this.emit("end",null),!0;if(e=t.stripBOM(e),this.options.async)return this.remaining=e,u(this.processAsync),this.saxParser;return this.saxParser.write(e).close()}catch(e){if(i=e,!(this.saxParser.errThrown||this.saxParser.ended))return this.emit("error",i),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw i}},a.prototype.parseStringPromise=function(e){return new Promise(function(t){return function(r,i){return t.parseString(e,function(e,t){return e?i(e):r(t)})}}(this))},a}(a),r.parseString=function(e,t,i){var a,n;return null!=i?("function"==typeof i&&(a=i),"object"==typeof t&&(n=t)):("function"==typeof t&&(a=t),n={}),new r.Parser(n).parseString(e,a)},r.parseStringPromise=function(e,t){var i;return"object"==typeof t&&(i=t),new r.Parser(i).parseStringPromise(e)}}).call(e.e)},751732,(e,t,r)=>{(function(){"use strict";var t,i,a,n,s=function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},o={}.hasOwnProperty;i=e.r(779516),t=e.r(674801),a=e.r(734305),n=e.r(849365),r.defaults=i.defaults,r.processors=n,r.ValidationError=function(e){function t(e){this.message=e}return s(t,e),t}(Error),r.Builder=t.Builder,r.Parser=a.Parser,r.parseString=a.parseString,r.parseStringPromise=a.parseStringPromise}).call(e.e)},574121,(e,t,r)=>{var i="chasrset";function a(e){return e.split(",").map(function(e){return parseInt(e,10)})}t.exports=function(e){for(var t in i in(e=Object.assign({},e))&&(e.charset=e[i],delete e[i]),e)if("face"===t||"charset"===t)continue;else"padding"===t||"spacing"===t?e[t]=a(e[t]):e[t]=parseInt(e[t],10);return e}},90871,(e,t,r)=>{var i=e.r(751732),a=e.r(574121);t.exports=function(e){e=e.toString().trim();var t={pages:[],chars:[],kernings:[]};return i.parseString(e,function(e,r){if(e)throw e;if(!r.font)throw"XML bitmap font doesn't have <font> root";t.common=a((r=r.font).common[0].$),t.info=a(r.info[0].$);for(var i=0;i<r.pages.length;i++){var n=r.pages[i].page[0].$;if(void 0===n.id)throw Error("malformed file -- needs page id=N");if("string"!=typeof n.file)throw Error('malformed file -- needs page file="path"');t.pages[parseInt(n.id,10)]=n.file}if(r.chars)for(var s=r.chars[0].char||[],i=0;i<s.length;i++)t.chars.push(a(s[i].$));if(r.kernings)for(var o=r.kernings[0].kerning||[],i=0;i<o.length;i++)t.kernings.push(a(o[i].$))}),t}},559515,(e,t,r)=>{var i=[66,77,70];function a(e,t,r){if(r>t.length-1)return 0;var i=t.readUInt8(r++),a=t.readInt32LE(r);switch(r+=4,i){case 1:e.info=n(t,r);break;case 2:e.common=s(t,r);break;case 3:e.pages=o(t,r,a);break;case 4:e.chars=d(t,r,a);break;case 5:e.kernings=u(t,r,a)}return 5+a}function n(e,t){var r={};r.size=e.readInt16LE(t);var i=e.readUInt8(t+2);return r.smooth=i>>7&1,r.unicode=i>>6&1,r.italic=i>>5&1,r.bold=i>>4&1,i>>3&1&&(r.fixedHeight=1),r.charset=e.readUInt8(t+3)||"",r.stretchH=e.readUInt16LE(t+4),r.aa=e.readUInt8(t+6),r.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],r.spacing=[e.readInt8(t+11),e.readInt8(t+12)],r.outline=e.readUInt8(t+13),r.face=c(e,t+14),r}function s(e,t){var r={};return r.lineHeight=e.readUInt16LE(t),r.base=e.readUInt16LE(t+2),r.scaleW=e.readUInt16LE(t+4),r.scaleH=e.readUInt16LE(t+6),r.pages=e.readUInt16LE(t+8),e.readUInt8(t+10),r.packed=0,r.alphaChnl=e.readUInt8(t+11),r.redChnl=e.readUInt8(t+12),r.greenChnl=e.readUInt8(t+13),r.blueChnl=e.readUInt8(t+14),r}function o(e,t,r){for(var i=[],a=l(e,t),n=a.length+1,s=r/n,o=0;o<s;o++)i[o]=e.slice(t,t+a.length).toString("utf8"),t+=n;return i}function d(e,t,r){for(var i=[],a=r/20,n=0;n<a;n++){var s={},o=20*n;s.id=e.readUInt32LE(t+0+o),s.x=e.readUInt16LE(t+4+o),s.y=e.readUInt16LE(t+6+o),s.width=e.readUInt16LE(t+8+o),s.height=e.readUInt16LE(t+10+o),s.xoffset=e.readInt16LE(t+12+o),s.yoffset=e.readInt16LE(t+14+o),s.xadvance=e.readInt16LE(t+16+o),s.page=e.readUInt8(t+18+o),s.chnl=e.readUInt8(t+19+o),i[n]=s}return i}function u(e,t,r){for(var i=[],a=r/10,n=0;n<a;n++){var s={},o=10*n;s.first=e.readUInt32LE(t+0+o),s.second=e.readUInt32LE(t+4+o),s.amount=e.readInt16LE(t+8+o),i[n]=s}return i}function l(e,t){for(var r=t;r<e.length&&0!==e[r];r++);return e.slice(t,r)}function c(e,t){return l(e,t).toString("utf8")}t.exports=function(e){if(e.length<6)throw Error("invalid buffer length for BMFont");if(!i.every(function(t,r){return e.readUInt8(r)===t}))throw Error("BMFont missing BMF byte header");var t=3;if(e.readUInt8(t++)>3)throw Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var r={kernings:[],chars:[]},n=0;n<5;n++)t+=a(r,e,t);return r}},380744,(e,t,r)=>{"use strict";function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}let a=e=>{if(!e)return null;let t={};switch(e.type){case"ELEMENT":{let r={},i=o(e.value.attributes),s=a(e.value.children);i&&(r=Object.assign(r,i)),s&&(r=Object.assign(r,n(e.value.children))),t[e.value.type]=r;break}case"ATTRIBUTE":{let r=e.value;t[r.name]=r.value;break}case"CONTENT":return{content:e.value}}return t},n=e=>e&&Array.isArray(e)&&0!==e.length?s(e)?{content:e[0].value}:{children:e.map(a)}:null,s=e=>e&&Array.isArray(e)&&1===e.length&&"CONTENT"===e[0].type,o=e=>e&&Array.isArray(e)?e.map(a).reduce((e,t)=>Object.assign(e,t),{}):null;var d={convert:e=>a(e.value.children[0])},u={Token:(e,t)=>({type:e,value:t})};let{Token:l}=u,c=l("EOF"),h=e=>" "===e||"\n"===e||"\r"===e||"	"===e,p=e=>e.replace(/'/g,"'"),{createLexer:f}={createLexer:function(e){let t=null,r=(e=>{let t=0;for(;t<e.length&&h(e[t]);)t++;return((e,t)=>{if(e.startsWith("<?xml",t)){let r=e.length;for(;t<r;)if("?"!==e[t])t++;else{if(">"===e[t+1])return t+2;t++}}return t})(e,t)})(e),i=[],a=()=>e[r],n=()=>t!==c&&r<e.length,s=e=>'"'===e||"'"===e,o=()=>{for(;n()&&h(e[r]);)r++},d=t=>{if(n()){if("<"===e[r]){let t="<";return r++,n()&&"/"===e[r]?(r++,t="</"):n()&&"!"===e[r]&&"-"===e[r+1]&&"-"===e[r+2]&&(r++,r++,r++,t="<!--"),t}if("/"===a()){let e="/";return r++,n()&&">"===a()&&(r++,e="/>"),e}if("="===e[r]||">"===e[r]){let t=e[r];return r++,t}}return u(!!t)},u=t=>{let i=t?/[^>=<]/u:/[a-zA-Z0-9_:-]/,a=r;for(;n()&&e[r].match(i);)r++;return p(e.substring(a,r))},f=()=>{let h=r;o();let m=r-h;if(n())if(t&&"OPEN_BRACKET"===t.type){o();let e=d(!1);t=l("ELEMENT_TYPE",e),i.push(e)}else if(t&&"ASSIGN"===t.type){n()&&s(a())&&r++;let i=e[r-1],o=r;for(;n()&&a()!==i;)r++;let d=p(e.substring(o,r));r++,t=l("ATTRIB_VALUE",d)}else{o();let s=d(!0);switch(s){case"=":t="ATTRIB_NAME"===t.type?l("ASSIGN"):l("CONTENT",s);break;case"</":{let a=r;for(;">"!==e[r];)r++;t=l("CLOSE_ELEMENT",e.substring(a,r)),r++,i.pop();break}case"/>":t=l("CLOSE_ELEMENT",i.pop());break;case"<!--":{let t=["!","-","-"];for(;n()&&(">"!==t[2]||"-"!==t[1]||"-"!==t[0]);)t.shift(),t.push(e[r]),r++;return f()}case">":t=l("CLOSE_BRACKET");break;case"<":t=l("OPEN_BRACKET");break;default:if(s&&s.length>0){if("CLOSE_BRACKET"===t.type){let e="";"<"!==a()&&(e=u(!0)),t=l("CONTENT",s+e)}else t="ATTRIB_NAME"!==t.type&&"CONTENT"!==t.type?"CLOSE_ELEMENT"===t.type?l("CONTENT",s=" ".repeat(m)+s):l("ATTRIB_NAME",s):l("CONTENT"," ".repeat(m)+s);break}throw Error('Unknown Syntax : "'+e[r]+'"')}}else t=c;return t};return{peek:a,next:f,hasNext:n}}},{Token:m}=u,[_,g,y,v]=["ROOT","ELEMENT","ATTRIBUTE","CONTENT"],b=(e,t)=>({type:e,value:t}),x=e=>b(v,e),k=(e,t,r)=>b(g,{type:e,attributes:t,children:r}),w=(e,t)=>b(y,{name:e,value:t}),T=(e,t)=>{let r=[];for(;e.hasNext();){let i=e.next();switch(i.type){case"OPEN_BRACKET":{let t=e.next(),[i,a]=Z(e),n=[];"CLOSE_ELEMENT"!==a.type&&(n=T(e,t)),n&&n.length>0&&"CONTENT"===n[0].type&&(n=E(n)),r.push(k(t.value,i,n));break}case"CLOSE_ELEMENT":if(i.value===t.value)return r;break;case"CONTENT":r.push(x(i.value));break;case"EOF":return r;default:throw Error(`Unknown Lexem type: ${i.type} "${i.value}, scoping element: ${t.value}"`)}}return r},Z=e=>{let t=[],r=e.peek();if(!e.hasNext()||r&&"CLOSE_BRACKET"===r.type||r&&"CLOSE_ELEMENT"===r.type)return[t,r];for(r=e.next();e.hasNext()&&r&&"CLOSE_BRACKET"!==r.type&&"CLOSE_ELEMENT"!==r.type;){let i=r;e.next();let a=e.next(),n=w(i.value,a.value);t.push(n),r=e.next()}return[t,r]};function E(e){let t=[],r="";return e.forEach(e=>{"CONTENT"===e.type?r+=e.value:(r.length&&(t.push(x(r)),r=""),t.push(e))}),r.length&&t.push(x(r)),t}let A=d,{transpile:S}={AttribNode:w,ContentNode:x,ElementNode:k,Node:b,transpile:function(e,t){let r=b(_,{children:T(f(e),m(_,"ROOT"))});return t?t.convert(r):r}};t.exports=i({convertXML:function(e,t){return S(e,t||A)},createAST:function(e){return S(e)}})},277900,(e,t,r)=>{"use strict";t.exports=a;let i={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function a(e,t,r,a,o,u){if(!n(e)||!n(t)||r&&!n(r))throw Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(e.length!==t.length||r&&r.length!==e.length)throw Error("Image sizes do not match.");if(e.length!==a*o*4)throw Error("Image data size does not match width/height.");u=Object.assign({},i,u);let l=a*o,c=new Uint32Array(e.buffer,e.byteOffset,l),h=new Uint32Array(t.buffer,t.byteOffset,l),m=!0;for(let e=0;e<l;e++)if(c[e]!==h[e]){m=!1;break}if(m){if(r&&!u.diffMask)for(let t=0;t<l;t++)f(e,4*t,u.alpha,r);return 0}let _=35215*u.threshold*u.threshold,g=0;for(let i=0;i<o;i++)for(let n=0;n<a;n++){let l=(i*a+n)*4,c=d(e,t,l,l);Math.abs(c)>_?!u.includeAA&&(s(e,n,i,a,o,t)||s(t,n,i,a,o,e))?r&&!u.diffMask&&p(r,l,...u.aaColor):(r&&p(r,l,...c<0&&u.diffColorAlt||u.diffColor),g++):r&&!u.diffMask&&f(e,l,u.alpha,r)}return g}function n(e){return ArrayBuffer.isView(e)&&1===e.constructor.BYTES_PER_ELEMENT}function s(e,t,r,i,a,n){let s,u,l,c,h=Math.max(t-1,0),p=Math.max(r-1,0),f=Math.min(t+1,i-1),m=Math.min(r+1,a-1),_=(r*i+t)*4,g=+(t===h||t===f||r===p||r===m),y=0,v=0;for(let a=h;a<=f;a++)for(let n=p;n<=m;n++){if(a===t&&n===r)continue;let o=d(e,e,_,(n*i+a)*4,!0);if(0===o){if(++g>2)return!1}else o<y?(y=o,s=a,u=n):o>v&&(v=o,l=a,c=n)}return 0!==y&&0!==v&&(o(e,s,u,i,a)&&o(n,s,u,i,a)||o(e,l,c,i,a)&&o(n,l,c,i,a))}function o(e,t,r,i,a){let n=Math.max(t-1,0),s=Math.max(r-1,0),o=Math.min(t+1,i-1),d=Math.min(r+1,a-1),u=(r*i+t)*4,l=+(t===n||t===o||r===s||r===d);for(let a=n;a<=o;a++)for(let n=s;n<=d;n++){if(a===t&&n===r)continue;let s=(n*i+a)*4;if(e[u]===e[s]&&e[u+1]===e[s+1]&&e[u+2]===e[s+2]&&e[u+3]===e[s+3]&&l++,l>2)return!0}return!1}function d(e,t,r,i,a){let n=e[r+0],s=e[r+1],o=e[r+2],d=e[r+3],p=t[i+0],f=t[i+1],m=t[i+2],_=t[i+3];if(d===_&&n===p&&s===f&&o===m)return 0;d<255&&(d/=255,n=h(n,d),s=h(s,d),o=h(o,d)),_<255&&(_/=255,p=h(p,_),f=h(f,_),m=h(m,_));let g=u(n,s,o),y=u(p,f,m),v=g-y;if(a)return v;let b=l(n,s,o)-l(p,f,m),x=c(n,s,o)-c(p,f,m),k=.5053*v*v+.299*b*b+.1957*x*x;return g>y?-k:k}function u(e,t,r){return .29889531*e+.58662247*t+.11448223*r}function l(e,t,r){return .59597799*e-.2741761*t-.32180189*r}function c(e,t,r){return .21147017*e-.52261711*t+.31114694*r}function h(e,t){return 255+(e-255)*t}function p(e,t,r,i,a){e[t+0]=r,e[t+1]=i,e[t+2]=a,e[t+3]=255}function f(e,t,r,i){let a=h(u(e[t+0],e[t+1],e[t+2]),r*e[t+3]/255);p(i,t,a,a,a)}},51668,e=>{"use strict";let t,r,i,a,n,s,o,d,u,l,c,h,p,f,m,_,g,y,v,b;!function(e){e[e.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",e[e.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",e[e.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",e[e.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",e[e.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"}(I||(I={}));let x=I;function k(e,t,r,i){let a=~e+1&e,n=~t+1&t,s=~r+1&r,o=~i+1&i,d=e/a+1,u=t/n+1,l=r/s+1,c=i/o+1;return{shiftRed:t=>(t&e)/a*256/d,shiftGreen:e=>(e&t)/n*256/u,shiftBlue:e=>(e&r)/s*256/l,shiftAlpha:0!==i?e=>(e&i)/o*256/c:()=>255}}!function(e){e[e.NONE=0]="NONE",e[e.BI_RLE8=1]="BI_RLE8",e[e.BI_RLE4=2]="BI_RLE4",e[e.BI_BIT_FIELDS=3]="BI_BIT_FIELDS",e[e.BI_ALPHA_BIT_FIELDS=6]="BI_ALPHA_BIT_FIELDS"}(C||(C={}));class w{flag;fileSize;reserved1;reserved2;offset;headerSize;width;height;planes;bitPP;compression;rawSize;hr;vr;colors;importantColors;palette;data;maskRed;maskGreen;maskBlue;maskAlpha;toRGBA;pos;bottomUp;buffer;locRed;locGreen;locBlue;locAlpha;shiftRed;shiftGreen;shiftBlue;shiftAlpha;constructor(e,{toRGBA:t}={toRGBA:!1}){if(this.buffer=e,this.toRGBA=!!t,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!==this.flag)throw Error("Invalid BMP File");this.locRed=3*!this.toRGBA,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=3*!!this.toRGBA,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in x))throw Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.height=this.height>0x7fffffff?this.height-0x100000000:this.height,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),32===this.bitPP?(this.maskAlpha=0,this.maskRed=0xff0000,this.maskGreen=65280,this.maskBlue=255):16===this.bitPP&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>x.BITMAP_INFO_HEADER||this.compression===C.BI_BIT_FIELDS||this.compression===C.BI_ALPHA_BIT_FIELDS)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>x.BITMAP_V2_INFO_HEADER||this.compression===C.BI_ALPHA_BIT_FIELDS)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>x.BITMAP_V3_INFO_HEADER&&(this.pos+=x.BITMAP_V4_HEADER-x.BITMAP_V3_INFO_HEADER),this.headerSize>x.BITMAP_V4_HEADER&&(this.pos+=x.BITMAP_V5_HEADER-x.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){let e=0===this.colors?1<<this.bitPP:this.colors;this.palette=Array(e);for(let t=0;t<e;t++){let e=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.palette[t]={red:i,green:r,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);let e=k(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=e.shiftRed,this.shiftGreen=e.shiftGreen,this.shiftBlue=e.shiftBlue,this.shiftAlpha=e.shiftAlpha}parseRGBA(){switch(this.data=Buffer.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){let e,t=Math.ceil(this.width/8),r=t%4,i=0!==r?4-r:0;this.scanImage(i,t,(t,r)=>{r!==e&&(e=r);let i=this.buffer.readUInt8(this.pos++),a=r*this.width*4+8*t*4;for(let e=0;e<8;e++)if(8*t+e<this.width){let t=this.palette[i>>7-e&1];this.data[a+e*this.locAlpha]=0,this.data[a+4*e+this.locBlue]=t.blue,this.data[a+4*e+this.locGreen]=t.green,this.data[a+4*e+this.locRed]=t.red}else break})}bit4(){if(this.compression===C.BI_RLE4){this.data.fill(0);let e=!1,t=this.bottomUp?this.height-1:0,r=0;for(;r<this.data.length;){let i=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);if(0===i){if(0===a){t+=this.bottomUp?-1:1,r=t*this.width*4,e=!1;continue}if(1===a)break;if(2===a){let e=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);t+=this.bottomUp?-i:i,r+=i*this.width*4+4*e}else{let t=this.buffer.readUInt8(this.pos++);for(let i=0;i<a;i++)r=this.setPixelData(r,e?15&t:(240&t)>>4),1&i&&i+1<a&&(t=this.buffer.readUInt8(this.pos++)),e=!e;(a+1>>1&1)==1&&this.pos++}}else for(let t=0;t<i;t++)r=this.setPixelData(r,e?15&a:(240&a)>>4),e=!e}}else{let e=Math.ceil(this.width/2),t=e%4,r=0!==t?4-t:0;this.scanImage(r,e,(e,t)=>{let r=this.buffer.readUInt8(this.pos++),i=t*this.width*4+2*e*4,a=r>>4,n=this.palette[a];if(this.data[i]=0,this.data[i+1]=n.blue,this.data[i+2]=n.green,this.data[i+3]=n.red,2*e+1>=this.width)return!1;let s=15&r;n=this.palette[s],this.data[i+4]=0,this.data[i+4+1]=n.blue,this.data[i+4+2]=n.green,this.data[i+4+3]=n.red})}}bit8(){if(this.compression===C.BI_RLE8){this.data.fill(0);let e=this.bottomUp?this.height-1:0,t=0;for(;t<this.data.length;){let r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(0===r){if(0===i){e+=this.bottomUp?-1:1,t=e*this.width*4;continue}if(1===i)break;if(2===i){let r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);e+=this.bottomUp?-i:i,t+=i*this.width*4+4*r}else{for(let e=0;e<i;e++){let e=this.buffer.readUInt8(this.pos++);t=this.setPixelData(t,e)}!0&i&&this.pos++}}else for(let e=0;e<r;e++)t=this.setPixelData(t,i)}}else{let e=this.width%4,t=0!==e?4-e:0;this.scanImage(t,this.width,(e,t)=>{let r=this.buffer.readUInt8(this.pos++),i=t*this.width*4+4*e;if(r<this.palette.length){let e=this.palette[r];this.data[i]=0,this.data[i+1]=e.blue,this.data[i+2]=e.green,this.data[i+3]=e.red}else this.data[i]=0,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255})}}bit16(){let e=this.width%2*2;this.scanImage(e,this.width,(e,t)=>{let r=t*this.width*4+4*e,i=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[r+this.locRed]=this.shiftRed(i),this.data[r+this.locGreen]=this.shiftGreen(i),this.data[r+this.locBlue]=this.shiftBlue(i),this.data[r+this.locAlpha]=this.shiftAlpha(i)})}bit24(){let e=this.width%4;this.scanImage(e,this.width,(e,t)=>{let r=t*this.width*4+4*e,i=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);this.data[r+this.locRed]=n,this.data[r+this.locGreen]=a,this.data[r+this.locBlue]=i,this.data[r+this.locAlpha]=0})}bit32(){this.scanImage(0,this.width,(e,t)=>{let r=t*this.width*4+4*e,i=this.readUInt32LE();this.data[r+this.locRed]=this.shiftRed(i),this.data[r+this.locGreen]=this.shiftGreen(i),this.data[r+this.locBlue]=this.shiftBlue(i),this.data[r+this.locAlpha]=this.shiftAlpha(i)})}scanImage(e=0,t=this.width,r){for(let i=this.height-1;i>=0;i--){let a=this.bottomUp?i:this.height-1-i;for(let e=0;e<t;e++)if(!1===r.call(this,e,a))return;this.pos+=e}}readUInt32LE(){let e=this.buffer.readUInt32LE(this.pos);return this.pos+=4,e}setPixelData(e,t){let{blue:r,green:i,red:a}=this.palette[t];return this.data[e+this.locAlpha]=0,this.data[e+1+this.locBlue]=r,this.data[e+2+this.locGreen]=i,this.data[e+3+this.locRed]=a,e+4}}function T(e){return e.reduce((e,t)=>e<<1|t,0)}function Z(e){return e.quad<<24|e.red<<16|e.green<<8|e.blue}class E{fileSize;reserved1;reserved2;offset;width;flag;height;planes;bitPP;compress;hr;vr;colors;importantColors;rawSize;headerSize;data;palette;extraBytes;buffer;bytesInColor;pos;constructor(e){switch(this.buffer=e.data,this.width=e.width,this.height=e.height,this.headerSize=x.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=e.bitPP||24,this.offset=54,this.reserved1=e.reserved1||0,this.reserved2=e.reserved2||0,this.planes=1,this.compress=0,this.hr=e.hr||0,this.vr=e.vr||0,this.importantColors=e.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),e.colors||1/0),this.palette=e.palette||[],this.colors&&this.bitPP<16?this.offset+=4*this.colors:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=.5;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}const t=this.width*this.bitPP/32,r=Math.ceil(t);this.extraBytes=(r-t)*4,this.rawSize=this.height*r*4+2,this.fileSize=this.rawSize+this.offset,this.data=Buffer.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&2===this.colors?this.initColors(1):(this.writeUInt32LE(0xffffff),this.writeUInt32LE(0)),this.pos+=1;let e=[];this.writeImage((t,r,i)=>{let a=r;a++;let n=this.buffer[a++],s=this.buffer[a++],o=.2126*this.buffer[a++]+.7152*s+.0722*n;return e.push(o>127?0:1),(i+1)%8==0?(this.data[t-1]=T(e),e=[]):i===this.width-1&&e.length>0&&(this.data[t-1]=T(e)<<4,e=[]),a})}bit4(){let e=this.initColors(4),t=[];this.writeImage((r,i,a)=>{let n=i,s=Z({quad:this.buffer[n++],blue:this.buffer[n++],green:this.buffer[n++],red:this.buffer[n++]}),o=e.findIndex(e=>e===s);return -1!==o?t.push(o):t.push(0),(a+1)%2==0&&(this.data[r]=t[0]<<4|t[1],t=[]),n})}bit8(){let e=this.initColors(8);this.writeImage((t,r)=>{let i=r,a=Z({quad:this.buffer[i++],blue:this.buffer[i++],green:this.buffer[i++],red:this.buffer[i++]}),n=e.findIndex(e=>e===a);return -1!==n?this.data[t]=n:this.data[t]=0,i})}bit16(){this.writeImage((e,t)=>{let r=t+1,i=this.buffer[r++]/8,a=this.buffer[r++]/8,n=this.buffer[r++]/8<<10|a<<5|i;return this.data[e]=255&n,this.data[e+1]=(65280&n)>>8,r})}bit24(){this.writeImage((e,t)=>{let r=t+1;return this.data[e]=this.buffer[r++],this.data[e+1]=this.buffer[r++],this.data[e+2]=this.buffer[r++],r})}bit32(){this.writeImage((e,t)=>{let r=t;return this.data[e+3]=this.buffer[r++],this.data[e]=this.buffer[r++],this.data[e+1]=this.buffer[r++],this.data[e+2]=this.buffer[r++],r})}writeImage(e){let t=this.extraBytes+this.width*this.bytesInColor,r=0;for(let i=0;i<this.height;i++)for(let a=0;a<this.width;a++){let n=Math.floor(this.pos+(this.height-1-i)*t+a*this.bytesInColor);r=e.call(this,n,r,a,i)}}initColors(e){let t=[];if(this.palette.length)for(let e=0;e<this.colors;e++){let r=Z(this.palette[e]);this.writeUInt32LE(r),t.push(r)}else throw Error(`To encode ${e}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);return t}writeUInt32LE(e){this.data.writeUInt32LE(e,this.pos),this.pos+=4}}function A(e,t){return new w(e,t)}function S(e){return new E(e)}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I,C,N,M,P,j,R,D,L,F,B,z,$,U,V,W,K,q,G,H,Y,J,X,Q,ee,et,er,ei,ea,en,es,eo,ed,eu,el,ec,eh,ep,ef,em,e_,eg,ey,ev,eb,ex,ek,ew,eT,eZ,eE,eA,eS,eO,eI,eC,eN,eM,eP,ej,eR,eD,eL,eF,eB,ez,e$,eU,eV,eW,eK,eq,eG,eH=/^\s+/,eY=/\s+$/;function eJ(e,t){if(t=t||{},(e=e||"")instanceof eJ)return e;if(!(this instanceof eJ))return new eJ(e,t);var r=eX(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function eX(e){var t={r:0,g:0,b:0},r=1,i=null,a=null,n=null,s=!1,o=!1;return"string"==typeof e&&(e=tT(e)),"object"==O(e)&&(tw(e.r)&&tw(e.g)&&tw(e.b)?(t=eQ(e.r,e.g,e.b),s=!0,o="%"===String(e.r).substr(-1)?"prgb":"rgb"):tw(e.h)&&tw(e.s)&&tw(e.v)?(i=tv(e.s),a=tv(e.v),t=e4(e.h,i,a),s=!0,o="hsv"):tw(e.h)&&tw(e.s)&&tw(e.l)&&(i=tv(e.s),n=tv(e.l),t=e1(e.h,i,n),s=!0,o="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=th(r),{ok:s,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function eQ(e,t,r){return{r:255*tp(e,255),g:255*tp(t,255),b:255*tp(r,255)}}function e0(e,t,r){e=tp(e,255);var i,a,n=Math.max(e,t=tp(t,255),r=tp(r,255)),s=Math.min(e,t,r),o=(n+s)/2;if(n==s)i=a=0;else{var d=n-s;switch(a=o>.5?d/(2-n-s):d/(n+s),n){case e:i=(t-r)/d+6*(t<r);break;case t:i=(r-e)/d+2;break;case r:i=(e-t)/d+4}i/=6}return{h:i,s:a,l:o}}function e1(e,t,r){var i,a,n;function s(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=tp(e,360),t=tp(t,100),r=tp(r,100),0===t)i=a=n=r;else{var o=r<.5?r*(1+t):r+t-r*t,d=2*r-o;i=s(d,o,e+1/3),a=s(d,o,e),n=s(d,o,e-1/3)}return{r:255*i,g:255*a,b:255*n}}function e2(e,t,r){e=tp(e,255);var i,a,n=Math.max(e,t=tp(t,255),r=tp(r,255)),s=Math.min(e,t,r),o=n,d=n-s;if(a=0===n?0:d/n,n==s)i=0;else{switch(n){case e:i=(t-r)/d+6*(t<r);break;case t:i=(r-e)/d+2;break;case r:i=(e-t)/d+4}i/=6}return{h:i,s:a,v:o}}function e4(e,t,r){e=6*tp(e,360),t=tp(t,100),r=tp(r,100);var i=Math.floor(e),a=e-i,n=r*(1-t),s=r*(1-a*t),o=r*(1-(1-a)*t),d=i%6;return{r:255*[r,s,n,n,o,r][d],g:255*[o,r,r,s,n,n][d],b:255*[n,n,o,r,r,s][d]}}function e5(e,t,r,i){var a=[ty(Math.round(e).toString(16)),ty(Math.round(t).toString(16)),ty(Math.round(r).toString(16))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function e9(e,t,r,i,a){var n=[ty(Math.round(e).toString(16)),ty(Math.round(t).toString(16)),ty(Math.round(r).toString(16)),ty(tb(i))];return a&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)&&n[3].charAt(0)==n[3].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0)+n[3].charAt(0):n.join("")}function e3(e,t,r,i){return[ty(tb(i)),ty(Math.round(e).toString(16)),ty(Math.round(t).toString(16)),ty(Math.round(r).toString(16))].join("")}function e8(e,t){t=0===t?0:t||10;var r=eJ(e).toHsl();return r.s-=t/100,r.s=tf(r.s),eJ(r)}function e6(e,t){t=0===t?0:t||10;var r=eJ(e).toHsl();return r.s+=t/100,r.s=tf(r.s),eJ(r)}function e7(e){return eJ(e).desaturate(100)}function te(e,t){t=0===t?0:t||10;var r=eJ(e).toHsl();return r.l+=t/100,r.l=tf(r.l),eJ(r)}function tt(e,t){t=0===t?0:t||10;var r=eJ(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-(t/100*255)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-(t/100*255)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-(t/100*255)))),eJ(r)}function tr(e,t){t=0===t?0:t||10;var r=eJ(e).toHsl();return r.l-=t/100,r.l=tf(r.l),eJ(r)}function ti(e,t){var r=eJ(e).toHsl(),i=(r.h+t)%360;return r.h=i<0?360+i:i,eJ(r)}function ta(e){var t=eJ(e).toHsl();return t.h=(t.h+180)%360,eJ(t)}function tn(e,t){if(isNaN(t)||t<=0)throw Error("Argument to polyad must be a positive number");for(var r=eJ(e).toHsl(),i=[eJ(e)],a=360/t,n=1;n<t;n++)i.push(eJ({h:(r.h+n*a)%360,s:r.s,l:r.l}));return i}function ts(e){var t=eJ(e).toHsl(),r=t.h;return[eJ(e),eJ({h:(r+72)%360,s:t.s,l:t.l}),eJ({h:(r+216)%360,s:t.s,l:t.l})]}function to(e,t,r){t=t||6,r=r||30;var i=eJ(e).toHsl(),a=360/r,n=[eJ(e)];for(i.h=(i.h-(a*t>>1)+720)%360;--t;)i.h=(i.h+a)%360,n.push(eJ(i));return n}function td(e,t){t=t||6;for(var r=eJ(e).toHsv(),i=r.h,a=r.s,n=r.v,s=[],o=1/t;t--;)s.push(eJ({h:i,s:a,v:n})),n=(n+o)%1;return s}eJ.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,i,a,n,s=this.toRgb();return e=s.r/255,t=s.g/255,r=s.b/255,.2126*(i=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(a=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=th(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=e2(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=e2(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+i+"%)":"hsva("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=e0(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=e0(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+i+"%)":"hsla("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return e5(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return e9(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*tp(this._r,255))+"%",g:Math.round(100*tp(this._g,255))+"%",b:Math.round(100*tp(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*tp(this._r,255))+"%, "+Math.round(100*tp(this._g,255))+"%, "+Math.round(100*tp(this._b,255))+"%)":"rgba("+Math.round(100*tp(this._r,255))+"%, "+Math.round(100*tp(this._g,255))+"%, "+Math.round(100*tp(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(tl[e5(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+e3(this._r,this._g,this._b,this._a),r=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=eJ(e);r="#"+e3(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0;return!t&&i&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e)?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return eJ(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(te,arguments)},brighten:function(){return this._applyModification(tt,arguments)},darken:function(){return this._applyModification(tr,arguments)},desaturate:function(){return this._applyModification(e8,arguments)},saturate:function(){return this._applyModification(e6,arguments)},greyscale:function(){return this._applyModification(e7,arguments)},spin:function(){return this._applyModification(ti,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(to,arguments)},complement:function(){return this._applyCombination(ta,arguments)},monochromatic:function(){return this._applyCombination(td,arguments)},splitcomplement:function(){return this._applyCombination(ts,arguments)},triad:function(){return this._applyCombination(tn,[3])},tetrad:function(){return this._applyCombination(tn,[4])}},eJ.fromRatio=function(e,t){if("object"==O(e)){var r={};for(var i in e)e.hasOwnProperty(i)&&("a"===i?r[i]=e[i]:r[i]=tv(e[i]));e=r}return eJ(e,t)},eJ.equals=function(e,t){return!!e&&!!t&&eJ(e).toRgbString()==eJ(t).toRgbString()},eJ.random=function(){return eJ.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},eJ.mix=function(e,t,r){r=0===r?0:r||50;var i=eJ(e).toRgb(),a=eJ(t).toRgb(),n=r/100;return eJ({r:(a.r-i.r)*n+i.r,g:(a.g-i.g)*n+i.g,b:(a.b-i.b)*n+i.b,a:(a.a-i.a)*n+i.a})},eJ.readability=function(e,t){var r=eJ(e),i=eJ(t);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)},eJ.isReadable=function(e,t,r){var i,a,n=eJ.readability(e,t);switch(a=!1,(i=tZ(r)).level+i.size){case"AAsmall":case"AAAlarge":a=n>=4.5;break;case"AAlarge":a=n>=3;break;case"AAAsmall":a=n>=7}return a},eJ.mostReadable=function(e,t,r){var i,a,n,s,o=null,d=0;a=(r=r||{}).includeFallbackColors,n=r.level,s=r.size;for(var u=0;u<t.length;u++)(i=eJ.readability(e,t[u]))>d&&(d=i,o=eJ(t[u]));return eJ.isReadable(e,o,{level:n,size:s})||!a?o:(r.includeFallbackColors=!1,eJ.mostReadable(e,["#fff","#000"],r))};var tu=eJ.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},tl=eJ.hexNames=tc(tu);function tc(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function th(e){return(isNaN(e=parseFloat(e))||e<0||e>1)&&(e=1),e}function tp(e,t){t_(e)&&(e="100%");var r=tg(e);return(e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),1e-6>Math.abs(e-t))?1:e%t/parseFloat(t)}function tf(e){return Math.min(1,Math.max(0,e))}function tm(e){return parseInt(e,16)}function t_(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function tg(e){return"string"==typeof e&&-1!=e.indexOf("%")}function ty(e){return 1==e.length?"0"+e:""+e}function tv(e){return e<=1&&(e=100*e+"%"),e}function tb(e){return Math.round(255*parseFloat(e)).toString(16)}function tx(e){return tm(e)/255}var tk=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",r="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:RegExp("rgb"+t),rgba:RegExp("rgba"+r),hsl:RegExp("hsl"+t),hsla:RegExp("hsla"+r),hsv:RegExp("hsv"+t),hsva:RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function tw(e){return!!tk.CSS_UNIT.exec(e)}function tT(e){e=e.replace(eH,"").replace(eY,"").toLowerCase();var t,r=!1;if(tu[e])e=tu[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=tk.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=tk.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=tk.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=tk.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=tk.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=tk.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=tk.hex8.exec(e))?{r:tm(t[1]),g:tm(t[2]),b:tm(t[3]),a:tx(t[4]),format:r?"name":"hex8"}:(t=tk.hex6.exec(e))?{r:tm(t[1]),g:tm(t[2]),b:tm(t[3]),format:r?"name":"hex"}:(t=tk.hex4.exec(e))?{r:tm(t[1]+""+t[1]),g:tm(t[2]+""+t[2]),b:tm(t[3]+""+t[3]),a:tx(t[4]+""+t[4]),format:r?"name":"hex8"}:!!(t=tk.hex3.exec(e))&&{r:tm(t[1]+""+t[1]),g:tm(t[2]+""+t[2]),b:tm(t[3]+""+t[3]),format:r?"name":"hex"}}function tZ(e){var t,r;return t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==r&&"large"!==r&&(r="small"),{level:t,size:r}}function tE(e){let t={width:e.bitmap.width,height:e.bitmap.height,data:Buffer.from(e.bitmap.data)};return new e.constructor(t)}function tA(e,t,r,i,a,n){let s,o,d,u,l;if("function"==typeof t)l=t,s=0,o=0,d=e.bitmap.width,u=e.bitmap.height;else{if(s=t,"number"!=typeof r)throw Error("y must be a number");if(o=r,"number"!=typeof i)throw Error("w must be a number");if(d=i,"number"!=typeof a)throw Error("h must be a number");if(u=a,"function"!=typeof n)throw Error("cb must be a function");l=n}s=Math.round(s),o=Math.round(o),d=Math.round(d),u=Math.round(u);let c=l.bind(e);for(let t=o;t<o+u;t++)for(let r=s;r<s+d;r++){let i=e.bitmap.width*t+r<<2;c(r,t,i)}return e}function*tS(e,t,r,i,a){t=Math.round(t),r=Math.round(r),i=Math.round(i),a=Math.round(a);for(let n=r;n<r+a;n++)for(let r=t;r<t+i;r++){let t=e.bitmap.width*n+r<<2;yield{x:r,y:n,idx:t,image:e}}}function tO(e){if("number"!=typeof e)throw Error("i must be a number");let t={r:0,g:0,b:0,a:0};return t.r=Math.floor(e/0x1000000),t.g=Math.floor((e-0x1000000*t.r)/65536),t.b=Math.floor((e-0x1000000*t.r-65536*t.g)/256),t.a=Math.floor((e-0x1000000*t.r-65536*t.g-256*t.b)/1),t}function tI(e,t,r,i){if("number"!=typeof e||"number"!=typeof t||"number"!=typeof r||"number"!=typeof i)throw Error("r, g, b and a must be numbers");if(e<0||e>255)throw Error("r must be between 0 and 255");if(t<0||t>255)throw Error("g must be between 0 and 255");if(r<0||r>255)throw Error("b must be between 0 and 255");if(i<0||i>255)throw Error("a must be between 0 and 255");let a=255&e;return a<<=8,a|=255&t,a<<=8,a|=255&r,a<<=8,a|=255&i,a>>>=0}function tC(e,t){let r=e=>Math.pow(e,2),{max:i}=Math,a=195075,n="a"in e?e.a:255,s="a"in t?t.a:255;return(i(r(e.r-t.r),r(e.r-t.r-n+s))+i(r(e.g-t.g),r(e.g-t.g-n+s))+i(r(e.b-t.b),r(e.b-t.b-n+s)))/a}function tN(e){return Math.min(e=Math.max(e,0),255)}function tM(e){return"number"==typeof e?e:parseInt(eJ(e).toHex8(),16)}function tP(e,t={}){return tA({bitmap:e},0,0,e.width,e.height,function(t,r,i){let a=e.data[i+0],n=e.data[i+1],s=e.data[i+2],o=e.data[i+3];e.data[i+0]=o,e.data[i+1]=s,e.data[i+2]=n,e.data[i+3]=a}),S({...e,...t}).data}function tj(e,t){let r=A(e,t);return tA({bitmap:r},0,0,r.width,r.height,function(e,t,i){let a=r.data[i+1],n=r.data[i+2],s=r.data[i+3];r.data[i+0]=s,r.data[i+1]=n,r.data[i+2]=a,r.data[i+3]=255}),r}function tR(){return{mime:"image/x-ms-bmp",encode:tP,decode:tj}}function tD(){return{mime:"image/bmp",encode:tP,decode:tj}}var tL=e.i(18145),tF=e.i(794955);function tB(){return{mime:"image/gif",encode:async e=>{let t=new tF.BitmapImage(e);tF.GifUtil.quantizeDekker(t,256);let r=new tF.GifFrame(e),i=new tF.GifCodec;return(await i.encodeGif([r],{})).buffer},decode:e=>{let t=new tL.default.GifReader(e),r=Buffer.alloc(t.width*t.height*4);return t.decodeAndBlitFrameRGBA(0,r),{data:r,width:t.width,height:t.height}}}}var tz=e.i(897780);function t$(){return{mime:"image/jpeg",encode:(e,{quality:t=100}={})=>tz.default.encode(e,t).data,decode:(e,t)=>tz.default.decode(e,t)}}var tU=e.i(762413);function tV(){return{mime:"image/png",hasAlpha:!0,encode:(e,{deflateLevel:t=9,deflateStrategy:r=3,filterType:i=N.AUTO,colorType:a,inputHasAlpha:n=!0,...s}={})=>{let o=new tU.PNG({width:e.width,height:e.height});return o.data=e.data,tU.PNG.sync.write(o,{...s,deflateLevel:t,deflateStrategy:r,filterType:i,colorType:void 0!==a?a:n?M.COLOR_ALPHA:M.COLOR,inputHasAlpha:n})},decode:(e,t)=>{let r=tU.PNG.sync.read(e,t);return{data:r.data,width:r.width,height:r.height}}}}!function(e){e[e.AUTO=-1]="AUTO",e[e.NONE=0]="NONE",e[e.SUB=1]="SUB",e[e.UP=2]="UP",e[e.AVERAGE=3]="AVERAGE",e[e.PATH=4]="PATH"}(N||(N={})),function(e){e[e.GRAYSCALE=0]="GRAYSCALE",e[e.COLOR=2]="COLOR",e[e.GRAYSCALE_ALPHA=4]="GRAYSCALE_ALPHA",e[e.COLOR_ALPHA=6]="COLOR_ALPHA"}(M||(M={}));var tW=e.i(75288);function tK(e){return"number"==typeof e?e:e instanceof Uint8Array?e[0]:"string"==typeof e[0]?parseInt(e[0]):e[0]}function tq(){return{mime:"image/tiff",encode:e=>{let t=tW.default.encodeImage(e.data,e.width,e.height);return Buffer.from(t)},decode:e=>{let t=tW.default.decode(e),r=t[0];if(!r)throw Error("No page found in TIFF");if(!r.t256)throw Error("No image width found in TIFF");if(!r.t257)throw Error("No image height found in TIFF");t.forEach(t=>{tW.default.decodeImage(e,t)});let i=tW.default.toRGBA8(r);return{data:Buffer.from(i),width:tK(r.t256),height:tK(r.t257)}}}}e.s([],381198),e.i(381198),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(P||(P={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(j||(j={}));let tG=P.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tH=e=>{switch(typeof e){case"undefined":return tG.undefined;case"string":return tG.string;case"number":return Number.isNaN(e)?tG.nan:tG.number;case"boolean":return tG.boolean;case"function":return tG.function;case"bigint":return tG.bigint;case"symbol":return tG.symbol;case"object":if(Array.isArray(e))return tG.array;if(null===e)return tG.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return tG.promise;if("undefined"!=typeof Map&&e instanceof Map)return tG.map;if("undefined"!=typeof Set&&e instanceof Set)return tG.set;if("undefined"!=typeof Date&&e instanceof Date)return tG.date;return tG.object;default:return tG.unknown}};e.s(["ZodParsedType",0,tG,"getParsedType",0,tH,"objectUtil",()=>j,"util",()=>P],236259);let tY=P.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tJ=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class tX extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof tX))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,P.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}tX.create=e=>new tX(e),e.s(["ZodError",()=>tX,"ZodIssueCode",0,tY,"quotelessJson",0,tJ],318349);let tQ=(e,t)=>{let r;switch(e.code){case tY.invalid_type:r=e.received===tG.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case tY.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,P.jsonStringifyReplacer)}`;break;case tY.unrecognized_keys:r=`Unrecognized key(s) in object: ${P.joinValues(e.keys,", ")}`;break;case tY.invalid_union:r="Invalid input";break;case tY.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${P.joinValues(e.options)}`;break;case tY.invalid_enum_value:r=`Invalid enum value. Expected ${P.joinValues(e.options)}, received '${e.received}'`;break;case tY.invalid_arguments:r="Invalid function arguments";break;case tY.invalid_return_type:r="Invalid function return type";break;case tY.invalid_date:r="Invalid date";break;case tY.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:P.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case tY.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case tY.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case tY.custom:r="Invalid input";break;case tY.invalid_intersection_types:r="Intersection results could not be merged";break;case tY.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case tY.not_finite:r="Number must be finite";break;default:r=t.defaultError,P.assertNever(e)}return{message:r}},t0=tQ;function t1(e){t0=e}function t2(){return t0}e.s(["getErrorMap",()=>t2,"setErrorMap",()=>t1],499793),e.i(499793),e.s(["defaultErrorMap",0,tQ,"getErrorMap",()=>t2,"setErrorMap",()=>t1],836094),e.i(836094);let t4=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},t5=[];function t9(e,t){let r=t2(),i=t4({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===tQ?void 0:tQ].filter(e=>!!e)});e.common.issues.push(i)}class t3{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return t8;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return t3.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return t8;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let t8=Object.freeze({status:"aborted"}),t6=e=>({status:"dirty",value:e}),t7=e=>({status:"valid",value:e}),re=e=>"aborted"===e.status,rt=e=>"dirty"===e.status,rr=e=>"valid"===e.status,ri=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,t6,"EMPTY_PATH",0,t5,"INVALID",0,t8,"OK",0,t7,"ParseStatus",()=>t3,"addIssueToContext",()=>t9,"isAborted",0,re,"isAsync",0,ri,"isDirty",0,rt,"isValid",0,rr,"makeIssue",0,t4],289878),e.i(289878),e.s([],366331),e.i(366331),e.i(236259),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(R||(R={}));class ra{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let rn=(e,t)=>{if(rr(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new tX(e.common.issues);return this._error=t,this._error}}};function rs(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class ro{get description(){return this._def.description}_getType(e){return tH(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:tH(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new t3,ctx:{common:e.parent.common,data:e.data,parsedType:tH(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ri(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tH(e)},i=this._parseSync({data:e,path:r.path,parent:r});return rn(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tH(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return rr(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>rr(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tH(e)},i=this._parse({data:e,path:r.path,parent:r});return rn(r,await (ri(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:tY.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new r7({schema:this,typeName:D.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ie.create(this,this._def)}nullable(){return it.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rV.create(this)}promise(){return r6.create(this,this._def)}or(e){return rq.create([this,e],this._def)}and(e){return rJ.create(this,e,this._def)}transform(e){return new r7({...rs(this._def),schema:this,typeName:D.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new ir({...rs(this._def),innerType:this,defaultValue:t,typeName:D.ZodDefault})}brand(){return new io({typeName:D.ZodBranded,type:this,...rs(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new ii({...rs(this._def),innerType:this,catchValue:t,typeName:D.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return id.create(this,e)}readonly(){return iu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let rd=/^c[^\s-]{8,}$/i,ru=/^[0-9a-z]+$/,rl=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rc=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rh=/^[a-z0-9_-]{21}$/i,rp=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rf=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rm=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,r_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",rg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ry=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rk=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rT=RegExp(`^${rw}$`);function rZ(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function rE(e){return RegExp(`^${rZ(e)}$`)}function rA(e){let t=`${rw}T${rZ(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function rS(e,t){return!!(("v4"===t||!t)&&rg.test(e)||("v6"===t||!t)&&rv.test(e))}function rO(e,t){if(!rp.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function rI(e,t){return!!(("v4"===t||!t)&&ry.test(e)||("v6"===t||!t)&&rb.test(e))}class rC extends ro{_parse(e){let r;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==tG.string){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.string,received:t.parsedType}),t8}let i=new t3;for(let a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(t9(r=this._getOrReturnCtx(e,r),{code:tY.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if("max"===a.kind)e.data.length>a.value&&(t9(r=this._getOrReturnCtx(e,r),{code:tY.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if("length"===a.kind){let t=e.data.length>a.value,n=e.data.length<a.value;(t||n)&&(r=this._getOrReturnCtx(e,r),t?t9(r,{code:tY.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):n&&t9(r,{code:tY.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if("email"===a.kind)rm.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{validation:"email",code:tY.invalid_string,message:a.message}),i.dirty());else if("emoji"===a.kind)t||(t=RegExp(r_,"u")),t.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{validation:"emoji",code:tY.invalid_string,message:a.message}),i.dirty());else if("uuid"===a.kind)rc.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{validation:"uuid",code:tY.invalid_string,message:a.message}),i.dirty());else if("nanoid"===a.kind)rh.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{validation:"nanoid",code:tY.invalid_string,message:a.message}),i.dirty());else if("cuid"===a.kind)rd.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{validation:"cuid",code:tY.invalid_string,message:a.message}),i.dirty());else if("cuid2"===a.kind)ru.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{validation:"cuid2",code:tY.invalid_string,message:a.message}),i.dirty());else if("ulid"===a.kind)rl.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{validation:"ulid",code:tY.invalid_string,message:a.message}),i.dirty());else if("url"===a.kind)try{new URL(e.data)}catch{t9(r=this._getOrReturnCtx(e,r),{validation:"url",code:tY.invalid_string,message:a.message}),i.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{validation:"regex",code:tY.invalid_string,message:a.message}),i.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(t9(r=this._getOrReturnCtx(e,r),{code:tY.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(t9(r=this._getOrReturnCtx(e,r),{code:tY.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(t9(r=this._getOrReturnCtx(e,r),{code:tY.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):"datetime"===a.kind?rA(a).test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{code:tY.invalid_string,validation:"datetime",message:a.message}),i.dirty()):"date"===a.kind?rT.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{code:tY.invalid_string,validation:"date",message:a.message}),i.dirty()):"time"===a.kind?rE(a).test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{code:tY.invalid_string,validation:"time",message:a.message}),i.dirty()):"duration"===a.kind?rf.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{validation:"duration",code:tY.invalid_string,message:a.message}),i.dirty()):"ip"===a.kind?rS(e.data,a.version)||(t9(r=this._getOrReturnCtx(e,r),{validation:"ip",code:tY.invalid_string,message:a.message}),i.dirty()):"jwt"===a.kind?rO(e.data,a.alg)||(t9(r=this._getOrReturnCtx(e,r),{validation:"jwt",code:tY.invalid_string,message:a.message}),i.dirty()):"cidr"===a.kind?rI(e.data,a.version)||(t9(r=this._getOrReturnCtx(e,r),{validation:"cidr",code:tY.invalid_string,message:a.message}),i.dirty()):"base64"===a.kind?rx.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{validation:"base64",code:tY.invalid_string,message:a.message}),i.dirty()):"base64url"===a.kind?rk.test(e.data)||(t9(r=this._getOrReturnCtx(e,r),{validation:"base64url",code:tY.invalid_string,message:a.message}),i.dirty()):P.assertNever(a);return{status:i.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:tY.invalid_string,...R.errToObj(r)})}_addCheck(e){return new rC({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...R.errToObj(e)})}url(e){return this._addCheck({kind:"url",...R.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...R.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...R.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...R.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...R.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...R.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...R.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...R.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...R.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...R.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...R.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...R.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...R.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...R.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...R.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...R.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...R.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...R.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...R.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...R.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...R.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...R.errToObj(t)})}nonempty(e){return this.min(1,R.errToObj(e))}trim(){return new rC({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new rC({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new rC({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function rN(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}rC.create=e=>new rC({checks:[],typeName:D.ZodString,coerce:e?.coerce??!1,...rs(e)});class rM extends ro{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==tG.number){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.number,received:t.parsedType}),t8}let r=new t3;for(let i of this._def.checks)"int"===i.kind?P.isInteger(e.data)||(t9(t=this._getOrReturnCtx(e,t),{code:tY.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(t9(t=this._getOrReturnCtx(e,t),{code:tY.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(t9(t=this._getOrReturnCtx(e,t),{code:tY.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==rN(e.data,i.value)&&(t9(t=this._getOrReturnCtx(e,t),{code:tY.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(t9(t=this._getOrReturnCtx(e,t),{code:tY.not_finite,message:i.message}),r.dirty()):P.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,R.toString(t))}gt(e,t){return this.setLimit("min",e,!1,R.toString(t))}lte(e,t){return this.setLimit("max",e,!0,R.toString(t))}lt(e,t){return this.setLimit("max",e,!1,R.toString(t))}setLimit(e,t,r,i){return new rM({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:R.toString(i)}]})}_addCheck(e){return new rM({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:R.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:R.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:R.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:R.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:R.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&P.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}rM.create=e=>new rM({checks:[],typeName:D.ZodNumber,coerce:e?.coerce||!1,...rs(e)});class rP extends ro{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==tG.bigint)return this._getInvalidInput(e);let r=new t3;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(t9(t=this._getOrReturnCtx(e,t),{code:tY.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(t9(t=this._getOrReturnCtx(e,t),{code:tY.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t9(t=this._getOrReturnCtx(e,t),{code:tY.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):P.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.bigint,received:t.parsedType}),t8}gte(e,t){return this.setLimit("min",e,!0,R.toString(t))}gt(e,t){return this.setLimit("min",e,!1,R.toString(t))}lte(e,t){return this.setLimit("max",e,!0,R.toString(t))}lt(e,t){return this.setLimit("max",e,!1,R.toString(t))}setLimit(e,t,r,i){return new rP({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:R.toString(i)}]})}_addCheck(e){return new rP({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:R.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}rP.create=e=>new rP({checks:[],typeName:D.ZodBigInt,coerce:e?.coerce??!1,...rs(e)});class rj extends ro{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==tG.boolean){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.boolean,received:t.parsedType}),t8}return t7(e.data)}}rj.create=e=>new rj({typeName:D.ZodBoolean,coerce:e?.coerce||!1,...rs(e)});class rR extends ro{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==tG.date){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.date,received:t.parsedType}),t8}if(Number.isNaN(e.data.getTime()))return t9(this._getOrReturnCtx(e),{code:tY.invalid_date}),t8;let r=new t3;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(t9(t=this._getOrReturnCtx(e,t),{code:tY.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(t9(t=this._getOrReturnCtx(e,t),{code:tY.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):P.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rR({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:R.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:R.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}rR.create=e=>new rR({checks:[],coerce:e?.coerce||!1,typeName:D.ZodDate,...rs(e)});class rD extends ro{_parse(e){if(this._getType(e)!==tG.symbol){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.symbol,received:t.parsedType}),t8}return t7(e.data)}}rD.create=e=>new rD({typeName:D.ZodSymbol,...rs(e)});class rL extends ro{_parse(e){if(this._getType(e)!==tG.undefined){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.undefined,received:t.parsedType}),t8}return t7(e.data)}}rL.create=e=>new rL({typeName:D.ZodUndefined,...rs(e)});class rF extends ro{_parse(e){if(this._getType(e)!==tG.null){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.null,received:t.parsedType}),t8}return t7(e.data)}}rF.create=e=>new rF({typeName:D.ZodNull,...rs(e)});class rB extends ro{constructor(){super(...arguments),this._any=!0}_parse(e){return t7(e.data)}}rB.create=e=>new rB({typeName:D.ZodAny,...rs(e)});class rz extends ro{constructor(){super(...arguments),this._unknown=!0}_parse(e){return t7(e.data)}}rz.create=e=>new rz({typeName:D.ZodUnknown,...rs(e)});class r$ extends ro{_parse(e){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.never,received:t.parsedType}),t8}}r$.create=e=>new r$({typeName:D.ZodNever,...rs(e)});class rU extends ro{_parse(e){if(this._getType(e)!==tG.undefined){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.void,received:t.parsedType}),t8}return t7(e.data)}}rU.create=e=>new rU({typeName:D.ZodVoid,...rs(e)});class rV extends ro{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==tG.array)return t9(t,{code:tY.invalid_type,expected:tG.array,received:t.parsedType}),t8;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(t9(t,{code:e?tY.too_big:tY.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(t9(t,{code:tY.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(t9(t,{code:tY.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new ra(t,e,t.path,r)))).then(e=>t3.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new ra(t,e,t.path,r)));return t3.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new rV({...this._def,minLength:{value:e,message:R.toString(t)}})}max(e,t){return new rV({...this._def,maxLength:{value:e,message:R.toString(t)}})}length(e,t){return new rV({...this._def,exactLength:{value:e,message:R.toString(t)}})}nonempty(e){return this.min(1,e)}}function rW(e){if(e instanceof rK){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=ie.create(rW(i))}return new rK({...e._def,shape:()=>t})}if(e instanceof rV)return new rV({...e._def,type:rW(e.element)});if(e instanceof ie)return ie.create(rW(e.unwrap()));if(e instanceof it)return it.create(rW(e.unwrap()));if(e instanceof rX)return rX.create(e.items.map(e=>rW(e)));else return e}rV.create=(e,t)=>new rV({type:e,minLength:null,maxLength:null,exactLength:null,typeName:D.ZodArray,...rs(t)});class rK extends ro{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=P.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==tG.object){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.object,received:t.parsedType}),t8}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof r$&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new ra(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof r$){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(t9(r,{code:tY.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new ra(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>t3.mergeObjectSync(t,e)):t3.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return R.errToObj,new rK({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:R.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new rK({...this._def,unknownKeys:"strip"})}passthrough(){return new rK({...this._def,unknownKeys:"passthrough"})}extend(e){return new rK({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rK({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:D.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new rK({...this._def,catchall:e})}pick(e){let t={};for(let r of P.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new rK({...this._def,shape:()=>t})}omit(e){let t={};for(let r of P.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new rK({...this._def,shape:()=>t})}deepPartial(){return rW(this)}partial(e){let t={};for(let r of P.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new rK({...this._def,shape:()=>t})}required(e){let t={};for(let r of P.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ie;)e=e._def.innerType;t[r]=e}return new rK({...this._def,shape:()=>t})}keyof(){return r9(P.objectKeys(this.shape))}}rK.create=(e,t)=>new rK({shape:()=>e,unknownKeys:"strip",catchall:r$.create(),typeName:D.ZodObject,...rs(t)}),rK.strictCreate=(e,t)=>new rK({shape:()=>e,unknownKeys:"strict",catchall:r$.create(),typeName:D.ZodObject,...rs(t)}),rK.lazycreate=(e,t)=>new rK({shape:e,unknownKeys:"strip",catchall:r$.create(),typeName:D.ZodObject,...rs(t)});class rq extends ro{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new tX(e.ctx.common.issues));return t9(t,{code:tY.invalid_union,unionErrors:r}),t8}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new tX(e));return t9(t,{code:tY.invalid_union,unionErrors:a}),t8}}get options(){return this._def.options}}rq.create=(e,t)=>new rq({options:e,typeName:D.ZodUnion,...rs(t)});let rG=e=>{if(e instanceof r4)return rG(e.schema);if(e instanceof r7)return rG(e.innerType());if(e instanceof r5)return[e.value];if(e instanceof r3)return e.options;if(e instanceof r8)return P.objectValues(e.enum);else if(e instanceof ir)return rG(e._def.innerType);else if(e instanceof rL)return[void 0];else if(e instanceof rF)return[null];else if(e instanceof ie)return[void 0,...rG(e.unwrap())];else if(e instanceof it)return[null,...rG(e.unwrap())];else if(e instanceof io)return rG(e.unwrap());else if(e instanceof iu)return rG(e.unwrap());else if(e instanceof ii)return rG(e._def.innerType);else return[]};class rH extends ro{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==tG.object)return t9(t,{code:tY.invalid_type,expected:tG.object,received:t.parsedType}),t8;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(t9(t,{code:tY.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),t8)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=rG(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new rH({typeName:D.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...rs(r)})}}function rY(e,t){let r=tH(e),i=tH(t);if(e===t)return{valid:!0,data:e};if(r===tG.object&&i===tG.object){let r=P.objectKeys(t),i=P.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=rY(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===tG.array&&i===tG.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=rY(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===tG.date&&i===tG.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class rJ extends ro{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(re(e)||re(i))return t8;let a=rY(e.value,i.value);return a.valid?((rt(e)||rt(i))&&t.dirty(),{status:t.value,value:a.data}):(t9(r,{code:tY.invalid_intersection_types}),t8)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}rJ.create=(e,t,r)=>new rJ({left:e,right:t,typeName:D.ZodIntersection,...rs(r)});class rX extends ro{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tG.array)return t9(r,{code:tY.invalid_type,expected:tG.array,received:r.parsedType}),t8;if(r.data.length<this._def.items.length)return t9(r,{code:tY.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t8;!this._def.rest&&r.data.length>this._def.items.length&&(t9(r,{code:tY.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new ra(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>t3.mergeArray(t,e)):t3.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new rX({...this._def,rest:e})}}rX.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new rX({items:e,typeName:D.ZodTuple,rest:null,...rs(t)})};class rQ extends ro{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tG.object)return t9(r,{code:tY.invalid_type,expected:tG.object,received:r.parsedType}),t8;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new ra(r,e,r.path,e)),value:n._parse(new ra(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?t3.mergeObjectAsync(t,i):t3.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new rQ(t instanceof ro?{keyType:e,valueType:t,typeName:D.ZodRecord,...rs(r)}:{keyType:rC.create(),valueType:e,typeName:D.ZodRecord,...rs(t)})}}class r0 extends ro{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tG.map)return t9(r,{code:tY.invalid_type,expected:tG.map,received:r.parsedType}),t8;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new ra(r,e,r.path,[n,"key"])),value:a._parse(new ra(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return t8;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return t8;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}r0.create=(e,t,r)=>new r0({valueType:t,keyType:e,typeName:D.ZodMap,...rs(r)});class r1 extends ro{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tG.set)return t9(r,{code:tY.invalid_type,expected:tG.set,received:r.parsedType}),t8;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(t9(r,{code:tY.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(t9(r,{code:tY.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return t8;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new ra(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new r1({...this._def,minSize:{value:e,message:R.toString(t)}})}max(e,t){return new r1({...this._def,maxSize:{value:e,message:R.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}r1.create=(e,t)=>new r1({valueType:e,minSize:null,maxSize:null,typeName:D.ZodSet,...rs(t)});class r2 extends ro{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==tG.function)return t9(t,{code:tY.invalid_type,expected:tG.function,received:t.parsedType}),t8;function r(e,r){return t4({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,t2(),tQ].filter(e=>!!e),issueData:{code:tY.invalid_arguments,argumentsError:r}})}function i(e,r){return t4({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,t2(),tQ].filter(e=>!!e),issueData:{code:tY.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof r6){let e=this;return t7(async function(...t){let s=new tX([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return t7(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new tX([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new tX([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r2({...this._def,args:rX.create(e).rest(rz.create())})}returns(e){return new r2({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new r2({args:e||rX.create([]).rest(rz.create()),returns:t||rz.create(),typeName:D.ZodFunction,...rs(r)})}}class r4 extends ro{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}r4.create=(e,t)=>new r4({getter:e,typeName:D.ZodLazy,...rs(t)});class r5 extends ro{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return t9(t,{received:t.data,code:tY.invalid_literal,expected:this._def.value}),t8}return{status:"valid",value:e.data}}get value(){return this._def.value}}function r9(e,t){return new r3({values:e,typeName:D.ZodEnum,...rs(t)})}r5.create=(e,t)=>new r5({value:e,typeName:D.ZodLiteral,...rs(t)});class r3 extends ro{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return t9(t,{expected:P.joinValues(r),received:t.parsedType,code:tY.invalid_type}),t8}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return t9(t,{received:t.data,code:tY.invalid_enum_value,options:r}),t8}return t7(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return r3.create(e,{...this._def,...t})}exclude(e,t=this._def){return r3.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}r3.create=r9;class r8 extends ro{_parse(e){let t=P.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==tG.string&&r.parsedType!==tG.number){let e=P.objectValues(t);return t9(r,{expected:P.joinValues(e),received:r.parsedType,code:tY.invalid_type}),t8}if(this._cache||(this._cache=new Set(P.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=P.objectValues(t);return t9(r,{received:r.data,code:tY.invalid_enum_value,options:e}),t8}return t7(e.data)}get enum(){return this._def.values}}r8.create=(e,t)=>new r8({values:e,typeName:D.ZodNativeEnum,...rs(t)});class r6 extends ro{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==tG.promise&&!1===t.common.async?(t9(t,{code:tY.invalid_type,expected:tG.promise,received:t.parsedType}),t8):t7((t.parsedType===tG.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}r6.create=(e,t)=>new r6({type:e,typeName:D.ZodPromise,...rs(t)});class r7 extends ro{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===D.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{t9(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return t8;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?t8:"dirty"===i.status||"dirty"===t.value?t6(i.value):i});{if("aborted"===t.value)return t8;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?t8:"dirty"===i.status||"dirty"===t.value?t6(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?t8:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?t8:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>rr(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):t8);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!rr(e))return t8;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}P.assertNever(i)}}r7.create=(e,t,r)=>new r7({schema:e,typeName:D.ZodEffects,effect:t,...rs(r)}),r7.createWithPreprocess=(e,t,r)=>new r7({schema:t,effect:{type:"preprocess",transform:e},typeName:D.ZodEffects,...rs(r)});class ie extends ro{_parse(e){return this._getType(e)===tG.undefined?t7(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ie.create=(e,t)=>new ie({innerType:e,typeName:D.ZodOptional,...rs(t)});class it extends ro{_parse(e){return this._getType(e)===tG.null?t7(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}it.create=(e,t)=>new it({innerType:e,typeName:D.ZodNullable,...rs(t)});class ir extends ro{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===tG.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ir.create=(e,t)=>new ir({innerType:e,typeName:D.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...rs(t)});class ii extends ro{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ri(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new tX(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new tX(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ii.create=(e,t)=>new ii({innerType:e,typeName:D.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...rs(t)});class ia extends ro{_parse(e){if(this._getType(e)!==tG.nan){let t=this._getOrReturnCtx(e);return t9(t,{code:tY.invalid_type,expected:tG.nan,received:t.parsedType}),t8}return{status:"valid",value:e.data}}}ia.create=e=>new ia({typeName:D.ZodNaN,...rs(e)});let is=Symbol("zod_brand");class io extends ro{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class id extends ro{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?t8:"dirty"===e.status?(t.dirty(),t6(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?t8:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new id({in:e,out:t,typeName:D.ZodPipeline})}}class iu extends ro{_parse(e){let t=this._def.innerType._parse(e),r=e=>(rr(e)&&(e.value=Object.freeze(e.value)),e);return ri(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function il(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function ic(e,t={},r){return e?rB.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=il(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=il(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):rB.create()}iu.create=(e,t)=>new iu({innerType:e,typeName:D.ZodReadonly,...rs(t)});let ih={object:rK.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(D||(D={}));let ip=(e,t={message:`Input not instance of ${e.name}`})=>ic(t=>t instanceof e,t),im=rC.create,i_=rM.create,ig=ia.create,iy=rP.create,iv=rj.create,ib=rR.create,ix=rD.create,ik=rL.create,iw=rF.create,iT=rB.create,iZ=rz.create,iE=r$.create,iA=rU.create,iS=rV.create,iO=rK.create,iI=rK.strictCreate,iC=rq.create,iN=rH.create,iM=rJ.create,iP=rX.create,ij=rQ.create,iR=r0.create,iD=r1.create,iL=r2.create,iF=r4.create,iB=r5.create,iz=r3.create,i$=r8.create,iU=r6.create,iV=r7.create,iW=ie.create,iK=it.create,iq=r7.createWithPreprocess,iG=id.create,iH=()=>im().optional(),iY=()=>i_().optional(),iJ=()=>iv().optional(),iX={string:e=>rC.create({...e,coerce:!0}),number:e=>rM.create({...e,coerce:!0}),boolean:e=>rj.create({...e,coerce:!0}),bigint:e=>rP.create({...e,coerce:!0}),date:e=>rR.create({...e,coerce:!0})},iQ=t8;e.s(["BRAND",0,is,"NEVER",0,iQ,"Schema",()=>ro,"ZodAny",()=>rB,"ZodArray",()=>rV,"ZodBigInt",()=>rP,"ZodBoolean",()=>rj,"ZodBranded",()=>io,"ZodCatch",()=>ii,"ZodDate",()=>rR,"ZodDefault",()=>ir,"ZodDiscriminatedUnion",()=>rH,"ZodEffects",()=>r7,"ZodEnum",()=>r3,"ZodFirstPartyTypeKind",()=>D,"ZodFunction",()=>r2,"ZodIntersection",()=>rJ,"ZodLazy",()=>r4,"ZodLiteral",()=>r5,"ZodMap",()=>r0,"ZodNaN",()=>ia,"ZodNativeEnum",()=>r8,"ZodNever",()=>r$,"ZodNull",()=>rF,"ZodNullable",()=>it,"ZodNumber",()=>rM,"ZodObject",()=>rK,"ZodOptional",()=>ie,"ZodPipeline",()=>id,"ZodPromise",()=>r6,"ZodReadonly",()=>iu,"ZodRecord",()=>rQ,"ZodSchema",()=>ro,"ZodSet",()=>r1,"ZodString",()=>rC,"ZodSymbol",()=>rD,"ZodTransformer",()=>r7,"ZodTuple",()=>rX,"ZodType",()=>ro,"ZodUndefined",()=>rL,"ZodUnion",()=>rq,"ZodUnknown",()=>rz,"ZodVoid",()=>rU,"any",()=>iT,"array",()=>iS,"bigint",()=>iy,"boolean",()=>iv,"coerce",0,iX,"custom",()=>ic,"date",()=>ib,"datetimeRegex",()=>rA,"discriminatedUnion",()=>iN,"effect",()=>iV,"enum",()=>iz,"function",()=>iL,"instanceof",()=>ip,"intersection",()=>iM,"late",0,ih,"lazy",()=>iF,"literal",()=>iB,"map",()=>iR,"nan",()=>ig,"nativeEnum",()=>i$,"never",()=>iE,"null",()=>iw,"nullable",()=>iK,"number",()=>i_,"object",()=>iO,"oboolean",()=>iJ,"onumber",()=>iY,"optional",()=>iW,"ostring",()=>iH,"pipeline",()=>iG,"preprocess",()=>iq,"promise",()=>iU,"record",()=>ij,"set",()=>iD,"strictObject",()=>iI,"string",()=>im,"symbol",()=>ix,"transformer",()=>iV,"tuple",()=>iP,"undefined",()=>ik,"union",()=>iC,"unknown",()=>iZ,"void",()=>iA],279618),e.i(279618),e.i(318349),e.s(["BRAND",0,is,"DIRTY",0,t6,"EMPTY_PATH",0,t5,"INVALID",0,t8,"NEVER",0,iQ,"OK",0,t7,"ParseStatus",()=>t3,"Schema",()=>ro,"ZodAny",()=>rB,"ZodArray",()=>rV,"ZodBigInt",()=>rP,"ZodBoolean",()=>rj,"ZodBranded",()=>io,"ZodCatch",()=>ii,"ZodDate",()=>rR,"ZodDefault",()=>ir,"ZodDiscriminatedUnion",()=>rH,"ZodEffects",()=>r7,"ZodEnum",()=>r3,"ZodError",()=>tX,"ZodFirstPartyTypeKind",()=>D,"ZodFunction",()=>r2,"ZodIntersection",()=>rJ,"ZodIssueCode",0,tY,"ZodLazy",()=>r4,"ZodLiteral",()=>r5,"ZodMap",()=>r0,"ZodNaN",()=>ia,"ZodNativeEnum",()=>r8,"ZodNever",()=>r$,"ZodNull",()=>rF,"ZodNullable",()=>it,"ZodNumber",()=>rM,"ZodObject",()=>rK,"ZodOptional",()=>ie,"ZodParsedType",0,tG,"ZodPipeline",()=>id,"ZodPromise",()=>r6,"ZodReadonly",()=>iu,"ZodRecord",()=>rQ,"ZodSchema",()=>ro,"ZodSet",()=>r1,"ZodString",()=>rC,"ZodSymbol",()=>rD,"ZodTransformer",()=>r7,"ZodTuple",()=>rX,"ZodType",()=>ro,"ZodUndefined",()=>rL,"ZodUnion",()=>rq,"ZodUnknown",()=>rz,"ZodVoid",()=>rU,"addIssueToContext",()=>t9,"any",()=>iT,"array",()=>iS,"bigint",()=>iy,"boolean",()=>iv,"coerce",0,iX,"custom",()=>ic,"date",()=>ib,"datetimeRegex",()=>rA,"defaultErrorMap",0,tQ,"discriminatedUnion",()=>iN,"effect",()=>iV,"enum",()=>iz,"function",()=>iL,"getErrorMap",()=>t2,"getParsedType",0,tH,"instanceof",()=>ip,"intersection",()=>iM,"isAborted",0,re,"isAsync",0,ri,"isDirty",0,rt,"isValid",0,rr,"late",0,ih,"lazy",()=>iF,"literal",()=>iB,"makeIssue",0,t4,"map",()=>iR,"nan",()=>ig,"nativeEnum",()=>i$,"never",()=>iE,"null",()=>iw,"nullable",()=>iK,"number",()=>i_,"object",()=>iO,"objectUtil",()=>j,"oboolean",()=>iJ,"onumber",()=>iY,"optional",()=>iW,"ostring",()=>iH,"pipeline",()=>iG,"preprocess",()=>iq,"promise",()=>iU,"quotelessJson",0,tJ,"record",()=>ij,"set",()=>iD,"setErrorMap",()=>t1,"strictObject",()=>iI,"string",()=>im,"symbol",()=>ix,"transformer",()=>iV,"tuple",()=>iP,"undefined",()=>ik,"union",()=>iC,"unknown",()=>iZ,"util",()=>P,"void",()=>iA],958896);var i0=e.i(958896),i0=i0;!function(e){e[e.EXTEND=1]="EXTEND",e[e.WRAP=2]="WRAP",e[e.CROP=3]="CROP"}(L||(L={}));let i1=i0.object({bitmap:i0.object({data:i0.union([i0.instanceof(Buffer),i0.instanceof(Uint8Array)]),width:i0.number(),height:i0.number()})});e.s([],556972),e.i(556972),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(F||(F={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(B||(B={}));let i2=F.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),i4=e=>{switch(typeof e){case"undefined":return i2.undefined;case"string":return i2.string;case"number":return Number.isNaN(e)?i2.nan:i2.number;case"boolean":return i2.boolean;case"function":return i2.function;case"bigint":return i2.bigint;case"symbol":return i2.symbol;case"object":if(Array.isArray(e))return i2.array;if(null===e)return i2.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return i2.promise;if("undefined"!=typeof Map&&e instanceof Map)return i2.map;if("undefined"!=typeof Set&&e instanceof Set)return i2.set;if("undefined"!=typeof Date&&e instanceof Date)return i2.date;return i2.object;default:return i2.unknown}};e.s(["ZodParsedType",0,i2,"getParsedType",0,i4,"objectUtil",()=>B,"util",()=>F],246403);let i5=F.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),i9=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class i3 extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof i3))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,F.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}i3.create=e=>new i3(e),e.s(["ZodError",()=>i3,"ZodIssueCode",0,i5,"quotelessJson",0,i9],192135);let i8=(e,t)=>{let r;switch(e.code){case i5.invalid_type:r=e.received===i2.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case i5.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,F.jsonStringifyReplacer)}`;break;case i5.unrecognized_keys:r=`Unrecognized key(s) in object: ${F.joinValues(e.keys,", ")}`;break;case i5.invalid_union:r="Invalid input";break;case i5.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${F.joinValues(e.options)}`;break;case i5.invalid_enum_value:r=`Invalid enum value. Expected ${F.joinValues(e.options)}, received '${e.received}'`;break;case i5.invalid_arguments:r="Invalid function arguments";break;case i5.invalid_return_type:r="Invalid function return type";break;case i5.invalid_date:r="Invalid date";break;case i5.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:F.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case i5.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case i5.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case i5.custom:r="Invalid input";break;case i5.invalid_intersection_types:r="Intersection results could not be merged";break;case i5.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case i5.not_finite:r="Number must be finite";break;default:r=t.defaultError,F.assertNever(e)}return{message:r}},i6=i8;function i7(e){i6=e}function ae(){return i6}e.s(["getErrorMap",()=>ae,"setErrorMap",()=>i7],191771),e.i(191771),e.s(["defaultErrorMap",0,i8,"getErrorMap",()=>ae,"setErrorMap",()=>i7],691058),e.i(691058);let at=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},ar=[];function ai(e,t){let r=ae(),i=at({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===i8?void 0:i8].filter(e=>!!e)});e.common.issues.push(i)}class aa{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return an;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return aa.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return an;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let an=Object.freeze({status:"aborted"}),as=e=>({status:"dirty",value:e}),ao=e=>({status:"valid",value:e}),ad=e=>"aborted"===e.status,au=e=>"dirty"===e.status,al=e=>"valid"===e.status,ac=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,as,"EMPTY_PATH",0,ar,"INVALID",0,an,"OK",0,ao,"ParseStatus",()=>aa,"addIssueToContext",()=>ai,"isAborted",0,ad,"isAsync",0,ac,"isDirty",0,au,"isValid",0,al,"makeIssue",0,at],528919),e.i(528919),e.s([],664125),e.i(664125),e.i(246403),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(z||(z={}));class ah{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let ap=(e,t)=>{if(al(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new i3(e.common.issues);return this._error=t,this._error}}};function af(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class am{get description(){return this._def.description}_getType(e){return i4(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:i4(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new aa,ctx:{common:e.parent.common,data:e.data,parsedType:i4(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ac(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i4(e)},i=this._parseSync({data:e,path:r.path,parent:r});return ap(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i4(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return al(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>al(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i4(e)},i=this._parse({data:e,path:r.path,parent:r});return ap(r,await (ac(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:i5.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new no({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return nd.create(this,this._def)}nullable(){return nu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return aX.create(this)}promise(){return ns.create(this,this._def)}or(e){return a1.create([this,e],this._def)}and(e){return a9.create(this,e,this._def)}transform(e){return new no({...af(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new nl({...af(this._def),innerType:this,defaultValue:t,typeName:$.ZodDefault})}brand(){return new nf({typeName:$.ZodBranded,type:this,...af(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new nc({...af(this._def),innerType:this,catchValue:t,typeName:$.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return nm.create(this,e)}readonly(){return n_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let a_=/^c[^\s-]{8,}$/i,ag=/^[0-9a-z]+$/,ay=/^[0-9A-HJKMNP-TV-Z]{26}$/i,av=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ab=/^[a-z0-9_-]{21}$/i,ax=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ak=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aw=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",aZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,aI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aN=RegExp(`^${aC}$`);function aM(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function aP(e){return RegExp(`^${aM(e)}$`)}function aj(e){let t=`${aC}T${aM(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function aR(e,t){return!!(("v4"===t||!t)&&aZ.test(e)||("v6"===t||!t)&&aA.test(e))}function aD(e,t){if(!ax.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function aL(e,t){return!!(("v4"===t||!t)&&aE.test(e)||("v6"===t||!t)&&aS.test(e))}class aF extends am{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==i2.string){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.string,received:t.parsedType}),an}let i=new aa;for(let a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(ai(t=this._getOrReturnCtx(e,t),{code:i5.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if("max"===a.kind)e.data.length>a.value&&(ai(t=this._getOrReturnCtx(e,t),{code:i5.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if("length"===a.kind){let r=e.data.length>a.value,n=e.data.length<a.value;(r||n)&&(t=this._getOrReturnCtx(e,t),r?ai(t,{code:i5.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):n&&ai(t,{code:i5.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if("email"===a.kind)aw.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{validation:"email",code:i5.invalid_string,message:a.message}),i.dirty());else if("emoji"===a.kind)r||(r=RegExp(aT,"u")),r.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:i5.invalid_string,message:a.message}),i.dirty());else if("uuid"===a.kind)av.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:i5.invalid_string,message:a.message}),i.dirty());else if("nanoid"===a.kind)ab.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:i5.invalid_string,message:a.message}),i.dirty());else if("cuid"===a.kind)a_.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:i5.invalid_string,message:a.message}),i.dirty());else if("cuid2"===a.kind)ag.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:i5.invalid_string,message:a.message}),i.dirty());else if("ulid"===a.kind)ay.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:i5.invalid_string,message:a.message}),i.dirty());else if("url"===a.kind)try{new URL(e.data)}catch{ai(t=this._getOrReturnCtx(e,t),{validation:"url",code:i5.invalid_string,message:a.message}),i.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{validation:"regex",code:i5.invalid_string,message:a.message}),i.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(ai(t=this._getOrReturnCtx(e,t),{code:i5.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(ai(t=this._getOrReturnCtx(e,t),{code:i5.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(ai(t=this._getOrReturnCtx(e,t),{code:i5.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):"datetime"===a.kind?aj(a).test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{code:i5.invalid_string,validation:"datetime",message:a.message}),i.dirty()):"date"===a.kind?aN.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{code:i5.invalid_string,validation:"date",message:a.message}),i.dirty()):"time"===a.kind?aP(a).test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{code:i5.invalid_string,validation:"time",message:a.message}),i.dirty()):"duration"===a.kind?ak.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{validation:"duration",code:i5.invalid_string,message:a.message}),i.dirty()):"ip"===a.kind?aR(e.data,a.version)||(ai(t=this._getOrReturnCtx(e,t),{validation:"ip",code:i5.invalid_string,message:a.message}),i.dirty()):"jwt"===a.kind?aD(e.data,a.alg)||(ai(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:i5.invalid_string,message:a.message}),i.dirty()):"cidr"===a.kind?aL(e.data,a.version)||(ai(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:i5.invalid_string,message:a.message}),i.dirty()):"base64"===a.kind?aO.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{validation:"base64",code:i5.invalid_string,message:a.message}),i.dirty()):"base64url"===a.kind?aI.test(e.data)||(ai(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:i5.invalid_string,message:a.message}),i.dirty()):F.assertNever(a);return{status:i.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:i5.invalid_string,...z.errToObj(r)})}_addCheck(e){return new aF({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...z.errToObj(e)})}url(e){return this._addCheck({kind:"url",...z.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...z.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...z.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...z.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...z.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...z.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...z.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...z.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...z.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...z.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...z.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...z.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...z.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...z.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...z.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...z.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...z.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...z.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...z.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...z.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...z.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...z.errToObj(t)})}nonempty(e){return this.min(1,z.errToObj(e))}trim(){return new aF({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new aF({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new aF({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function aB(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}aF.create=e=>new aF({checks:[],typeName:$.ZodString,coerce:e?.coerce??!1,...af(e)});class az extends am{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==i2.number){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.number,received:t.parsedType}),an}let r=new aa;for(let i of this._def.checks)"int"===i.kind?F.isInteger(e.data)||(ai(t=this._getOrReturnCtx(e,t),{code:i5.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(ai(t=this._getOrReturnCtx(e,t),{code:i5.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(ai(t=this._getOrReturnCtx(e,t),{code:i5.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==aB(e.data,i.value)&&(ai(t=this._getOrReturnCtx(e,t),{code:i5.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(ai(t=this._getOrReturnCtx(e,t),{code:i5.not_finite,message:i.message}),r.dirty()):F.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,z.toString(t))}gt(e,t){return this.setLimit("min",e,!1,z.toString(t))}lte(e,t){return this.setLimit("max",e,!0,z.toString(t))}lt(e,t){return this.setLimit("max",e,!1,z.toString(t))}setLimit(e,t,r,i){return new az({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:z.toString(i)}]})}_addCheck(e){return new az({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:z.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:z.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:z.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:z.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:z.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:z.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&F.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}az.create=e=>new az({checks:[],typeName:$.ZodNumber,coerce:e?.coerce||!1,...af(e)});class a$ extends am{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==i2.bigint)return this._getInvalidInput(e);let r=new aa;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(ai(t=this._getOrReturnCtx(e,t),{code:i5.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(ai(t=this._getOrReturnCtx(e,t),{code:i5.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(ai(t=this._getOrReturnCtx(e,t),{code:i5.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):F.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.bigint,received:t.parsedType}),an}gte(e,t){return this.setLimit("min",e,!0,z.toString(t))}gt(e,t){return this.setLimit("min",e,!1,z.toString(t))}lte(e,t){return this.setLimit("max",e,!0,z.toString(t))}lt(e,t){return this.setLimit("max",e,!1,z.toString(t))}setLimit(e,t,r,i){return new a$({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:z.toString(i)}]})}_addCheck(e){return new a$({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:z.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:z.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}a$.create=e=>new a$({checks:[],typeName:$.ZodBigInt,coerce:e?.coerce??!1,...af(e)});class aU extends am{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==i2.boolean){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.boolean,received:t.parsedType}),an}return ao(e.data)}}aU.create=e=>new aU({typeName:$.ZodBoolean,coerce:e?.coerce||!1,...af(e)});class aV extends am{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==i2.date){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.date,received:t.parsedType}),an}if(Number.isNaN(e.data.getTime()))return ai(this._getOrReturnCtx(e),{code:i5.invalid_date}),an;let r=new aa;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(ai(t=this._getOrReturnCtx(e,t),{code:i5.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(ai(t=this._getOrReturnCtx(e,t),{code:i5.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):F.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new aV({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:z.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:z.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}aV.create=e=>new aV({checks:[],coerce:e?.coerce||!1,typeName:$.ZodDate,...af(e)});class aW extends am{_parse(e){if(this._getType(e)!==i2.symbol){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.symbol,received:t.parsedType}),an}return ao(e.data)}}aW.create=e=>new aW({typeName:$.ZodSymbol,...af(e)});class aK extends am{_parse(e){if(this._getType(e)!==i2.undefined){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.undefined,received:t.parsedType}),an}return ao(e.data)}}aK.create=e=>new aK({typeName:$.ZodUndefined,...af(e)});class aq extends am{_parse(e){if(this._getType(e)!==i2.null){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.null,received:t.parsedType}),an}return ao(e.data)}}aq.create=e=>new aq({typeName:$.ZodNull,...af(e)});class aG extends am{constructor(){super(...arguments),this._any=!0}_parse(e){return ao(e.data)}}aG.create=e=>new aG({typeName:$.ZodAny,...af(e)});class aH extends am{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ao(e.data)}}aH.create=e=>new aH({typeName:$.ZodUnknown,...af(e)});class aY extends am{_parse(e){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.never,received:t.parsedType}),an}}aY.create=e=>new aY({typeName:$.ZodNever,...af(e)});class aJ extends am{_parse(e){if(this._getType(e)!==i2.undefined){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.void,received:t.parsedType}),an}return ao(e.data)}}aJ.create=e=>new aJ({typeName:$.ZodVoid,...af(e)});class aX extends am{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==i2.array)return ai(t,{code:i5.invalid_type,expected:i2.array,received:t.parsedType}),an;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(ai(t,{code:e?i5.too_big:i5.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(ai(t,{code:i5.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(ai(t,{code:i5.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new ah(t,e,t.path,r)))).then(e=>aa.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new ah(t,e,t.path,r)));return aa.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new aX({...this._def,minLength:{value:e,message:z.toString(t)}})}max(e,t){return new aX({...this._def,maxLength:{value:e,message:z.toString(t)}})}length(e,t){return new aX({...this._def,exactLength:{value:e,message:z.toString(t)}})}nonempty(e){return this.min(1,e)}}function aQ(e){if(e instanceof a0){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=nd.create(aQ(i))}return new a0({...e._def,shape:()=>t})}if(e instanceof aX)return new aX({...e._def,type:aQ(e.element)});if(e instanceof nd)return nd.create(aQ(e.unwrap()));if(e instanceof nu)return nu.create(aQ(e.unwrap()));if(e instanceof a3)return a3.create(e.items.map(e=>aQ(e)));else return e}aX.create=(e,t)=>new aX({type:e,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...af(t)});class a0 extends am{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=F.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==i2.object){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.object,received:t.parsedType}),an}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof aY&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new ah(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof aY){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(ai(r,{code:i5.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new ah(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>aa.mergeObjectSync(t,e)):aa.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return z.errToObj,new a0({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:z.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new a0({...this._def,unknownKeys:"strip"})}passthrough(){return new a0({...this._def,unknownKeys:"passthrough"})}extend(e){return new a0({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new a0({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new a0({...this._def,catchall:e})}pick(e){let t={};for(let r of F.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new a0({...this._def,shape:()=>t})}omit(e){let t={};for(let r of F.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new a0({...this._def,shape:()=>t})}deepPartial(){return aQ(this)}partial(e){let t={};for(let r of F.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new a0({...this._def,shape:()=>t})}required(e){let t={};for(let r of F.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof nd;)e=e._def.innerType;t[r]=e}return new a0({...this._def,shape:()=>t})}keyof(){return ni(F.objectKeys(this.shape))}}a0.create=(e,t)=>new a0({shape:()=>e,unknownKeys:"strip",catchall:aY.create(),typeName:$.ZodObject,...af(t)}),a0.strictCreate=(e,t)=>new a0({shape:()=>e,unknownKeys:"strict",catchall:aY.create(),typeName:$.ZodObject,...af(t)}),a0.lazycreate=(e,t)=>new a0({shape:e,unknownKeys:"strip",catchall:aY.create(),typeName:$.ZodObject,...af(t)});class a1 extends am{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new i3(e.ctx.common.issues));return ai(t,{code:i5.invalid_union,unionErrors:r}),an}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new i3(e));return ai(t,{code:i5.invalid_union,unionErrors:a}),an}}get options(){return this._def.options}}a1.create=(e,t)=>new a1({options:e,typeName:$.ZodUnion,...af(t)});let a2=e=>{if(e instanceof nt)return a2(e.schema);if(e instanceof no)return a2(e.innerType());if(e instanceof nr)return[e.value];if(e instanceof na)return e.options;if(e instanceof nn)return F.objectValues(e.enum);else if(e instanceof nl)return a2(e._def.innerType);else if(e instanceof aK)return[void 0];else if(e instanceof aq)return[null];else if(e instanceof nd)return[void 0,...a2(e.unwrap())];else if(e instanceof nu)return[null,...a2(e.unwrap())];else if(e instanceof nf)return a2(e.unwrap());else if(e instanceof n_)return a2(e.unwrap());else if(e instanceof nc)return a2(e._def.innerType);else return[]};class a4 extends am{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==i2.object)return ai(t,{code:i5.invalid_type,expected:i2.object,received:t.parsedType}),an;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(ai(t,{code:i5.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),an)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=a2(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new a4({typeName:$.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...af(r)})}}function a5(e,t){let r=i4(e),i=i4(t);if(e===t)return{valid:!0,data:e};if(r===i2.object&&i===i2.object){let r=F.objectKeys(t),i=F.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=a5(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===i2.array&&i===i2.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=a5(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===i2.date&&i===i2.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class a9 extends am{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(ad(e)||ad(i))return an;let a=a5(e.value,i.value);return a.valid?((au(e)||au(i))&&t.dirty(),{status:t.value,value:a.data}):(ai(r,{code:i5.invalid_intersection_types}),an)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}a9.create=(e,t,r)=>new a9({left:e,right:t,typeName:$.ZodIntersection,...af(r)});class a3 extends am{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i2.array)return ai(r,{code:i5.invalid_type,expected:i2.array,received:r.parsedType}),an;if(r.data.length<this._def.items.length)return ai(r,{code:i5.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),an;!this._def.rest&&r.data.length>this._def.items.length&&(ai(r,{code:i5.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new ah(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>aa.mergeArray(t,e)):aa.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new a3({...this._def,rest:e})}}a3.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new a3({items:e,typeName:$.ZodTuple,rest:null,...af(t)})};class a8 extends am{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i2.object)return ai(r,{code:i5.invalid_type,expected:i2.object,received:r.parsedType}),an;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new ah(r,e,r.path,e)),value:n._parse(new ah(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?aa.mergeObjectAsync(t,i):aa.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new a8(t instanceof am?{keyType:e,valueType:t,typeName:$.ZodRecord,...af(r)}:{keyType:aF.create(),valueType:e,typeName:$.ZodRecord,...af(t)})}}class a6 extends am{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i2.map)return ai(r,{code:i5.invalid_type,expected:i2.map,received:r.parsedType}),an;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new ah(r,e,r.path,[n,"key"])),value:a._parse(new ah(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return an;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return an;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}a6.create=(e,t,r)=>new a6({valueType:t,keyType:e,typeName:$.ZodMap,...af(r)});class a7 extends am{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i2.set)return ai(r,{code:i5.invalid_type,expected:i2.set,received:r.parsedType}),an;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(ai(r,{code:i5.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(ai(r,{code:i5.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return an;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new ah(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new a7({...this._def,minSize:{value:e,message:z.toString(t)}})}max(e,t){return new a7({...this._def,maxSize:{value:e,message:z.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}a7.create=(e,t)=>new a7({valueType:e,minSize:null,maxSize:null,typeName:$.ZodSet,...af(t)});class ne extends am{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==i2.function)return ai(t,{code:i5.invalid_type,expected:i2.function,received:t.parsedType}),an;function r(e,r){return at({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ae(),i8].filter(e=>!!e),issueData:{code:i5.invalid_arguments,argumentsError:r}})}function i(e,r){return at({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ae(),i8].filter(e=>!!e),issueData:{code:i5.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof ns){let e=this;return ao(async function(...t){let s=new i3([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return ao(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new i3([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new i3([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ne({...this._def,args:a3.create(e).rest(aH.create())})}returns(e){return new ne({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ne({args:e||a3.create([]).rest(aH.create()),returns:t||aH.create(),typeName:$.ZodFunction,...af(r)})}}class nt extends am{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}nt.create=(e,t)=>new nt({getter:e,typeName:$.ZodLazy,...af(t)});class nr extends am{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return ai(t,{received:t.data,code:i5.invalid_literal,expected:this._def.value}),an}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ni(e,t){return new na({values:e,typeName:$.ZodEnum,...af(t)})}nr.create=(e,t)=>new nr({value:e,typeName:$.ZodLiteral,...af(t)});class na extends am{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return ai(t,{expected:F.joinValues(r),received:t.parsedType,code:i5.invalid_type}),an}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return ai(t,{received:t.data,code:i5.invalid_enum_value,options:r}),an}return ao(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return na.create(e,{...this._def,...t})}exclude(e,t=this._def){return na.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}na.create=ni;class nn extends am{_parse(e){let t=F.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==i2.string&&r.parsedType!==i2.number){let e=F.objectValues(t);return ai(r,{expected:F.joinValues(e),received:r.parsedType,code:i5.invalid_type}),an}if(this._cache||(this._cache=new Set(F.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=F.objectValues(t);return ai(r,{received:r.data,code:i5.invalid_enum_value,options:e}),an}return ao(e.data)}get enum(){return this._def.values}}nn.create=(e,t)=>new nn({values:e,typeName:$.ZodNativeEnum,...af(t)});class ns extends am{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==i2.promise&&!1===t.common.async?(ai(t,{code:i5.invalid_type,expected:i2.promise,received:t.parsedType}),an):ao((t.parsedType===i2.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ns.create=(e,t)=>new ns({type:e,typeName:$.ZodPromise,...af(t)});class no extends am{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{ai(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return an;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?an:"dirty"===i.status||"dirty"===t.value?as(i.value):i});{if("aborted"===t.value)return an;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?an:"dirty"===i.status||"dirty"===t.value?as(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?an:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?an:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>al(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):an);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!al(e))return an;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}F.assertNever(i)}}no.create=(e,t,r)=>new no({schema:e,typeName:$.ZodEffects,effect:t,...af(r)}),no.createWithPreprocess=(e,t,r)=>new no({schema:t,effect:{type:"preprocess",transform:e},typeName:$.ZodEffects,...af(r)});class nd extends am{_parse(e){return this._getType(e)===i2.undefined?ao(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nd.create=(e,t)=>new nd({innerType:e,typeName:$.ZodOptional,...af(t)});class nu extends am{_parse(e){return this._getType(e)===i2.null?ao(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nu.create=(e,t)=>new nu({innerType:e,typeName:$.ZodNullable,...af(t)});class nl extends am{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===i2.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}nl.create=(e,t)=>new nl({innerType:e,typeName:$.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...af(t)});class nc extends am{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ac(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new i3(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new i3(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nc.create=(e,t)=>new nc({innerType:e,typeName:$.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...af(t)});class nh extends am{_parse(e){if(this._getType(e)!==i2.nan){let t=this._getOrReturnCtx(e);return ai(t,{code:i5.invalid_type,expected:i2.nan,received:t.parsedType}),an}return{status:"valid",value:e.data}}}nh.create=e=>new nh({typeName:$.ZodNaN,...af(e)});let np=Symbol("zod_brand");class nf extends am{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class nm extends am{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?an:"dirty"===e.status?(t.dirty(),as(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?an:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new nm({in:e,out:t,typeName:$.ZodPipeline})}}class n_ extends am{_parse(e){let t=this._def.innerType._parse(e),r=e=>(al(e)&&(e.value=Object.freeze(e.value)),e);return ac(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function ng(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function ny(e,t={},r){return e?aG.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=ng(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=ng(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):aG.create()}n_.create=(e,t)=>new n_({innerType:e,typeName:$.ZodReadonly,...af(t)});let nv={object:a0.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}($||($={}));let nb=(e,t={message:`Input not instance of ${e.name}`})=>ny(t=>t instanceof e,t),nx=aF.create,nk=az.create,nw=nh.create,nT=a$.create,nZ=aU.create,nE=aV.create,nA=aW.create,nS=aK.create,nO=aq.create,nI=aG.create,nC=aH.create,nN=aY.create,nM=aJ.create,nP=aX.create,nj=a0.create,nR=a0.strictCreate,nD=a1.create,nL=a4.create,nF=a9.create,nB=a3.create,nz=a8.create,n$=a6.create,nU=a7.create,nV=ne.create,nW=nt.create,nK=nr.create,nq=na.create,nG=nn.create,nH=ns.create,nY=no.create,nJ=nd.create,nX=nu.create,nQ=no.createWithPreprocess,n0=nm.create,n1=()=>nx().optional(),n2=()=>nk().optional(),n4=()=>nZ().optional(),n5={string:e=>aF.create({...e,coerce:!0}),number:e=>az.create({...e,coerce:!0}),boolean:e=>aU.create({...e,coerce:!0}),bigint:e=>a$.create({...e,coerce:!0}),date:e=>aV.create({...e,coerce:!0})},n9=an;e.s(["BRAND",0,np,"NEVER",0,n9,"Schema",()=>am,"ZodAny",()=>aG,"ZodArray",()=>aX,"ZodBigInt",()=>a$,"ZodBoolean",()=>aU,"ZodBranded",()=>nf,"ZodCatch",()=>nc,"ZodDate",()=>aV,"ZodDefault",()=>nl,"ZodDiscriminatedUnion",()=>a4,"ZodEffects",()=>no,"ZodEnum",()=>na,"ZodFirstPartyTypeKind",()=>$,"ZodFunction",()=>ne,"ZodIntersection",()=>a9,"ZodLazy",()=>nt,"ZodLiteral",()=>nr,"ZodMap",()=>a6,"ZodNaN",()=>nh,"ZodNativeEnum",()=>nn,"ZodNever",()=>aY,"ZodNull",()=>aq,"ZodNullable",()=>nu,"ZodNumber",()=>az,"ZodObject",()=>a0,"ZodOptional",()=>nd,"ZodPipeline",()=>nm,"ZodPromise",()=>ns,"ZodReadonly",()=>n_,"ZodRecord",()=>a8,"ZodSchema",()=>am,"ZodSet",()=>a7,"ZodString",()=>aF,"ZodSymbol",()=>aW,"ZodTransformer",()=>no,"ZodTuple",()=>a3,"ZodType",()=>am,"ZodUndefined",()=>aK,"ZodUnion",()=>a1,"ZodUnknown",()=>aH,"ZodVoid",()=>aJ,"any",()=>nI,"array",()=>nP,"bigint",()=>nT,"boolean",()=>nZ,"coerce",0,n5,"custom",()=>ny,"date",()=>nE,"datetimeRegex",()=>aj,"discriminatedUnion",()=>nL,"effect",()=>nY,"enum",()=>nq,"function",()=>nV,"instanceof",()=>nb,"intersection",()=>nF,"late",0,nv,"lazy",()=>nW,"literal",()=>nK,"map",()=>n$,"nan",()=>nw,"nativeEnum",()=>nG,"never",()=>nN,"null",()=>nO,"nullable",()=>nX,"number",()=>nk,"object",()=>nj,"oboolean",()=>n4,"onumber",()=>n2,"optional",()=>nJ,"ostring",()=>n1,"pipeline",()=>n0,"preprocess",()=>nQ,"promise",()=>nH,"record",()=>nz,"set",()=>nU,"strictObject",()=>nR,"string",()=>nx,"symbol",()=>nA,"transformer",()=>nY,"tuple",()=>nB,"undefined",()=>nS,"union",()=>nD,"unknown",()=>nC,"void",()=>nM],466854),e.i(466854),e.i(192135),e.s(["BRAND",0,np,"DIRTY",0,as,"EMPTY_PATH",0,ar,"INVALID",0,an,"NEVER",0,n9,"OK",0,ao,"ParseStatus",()=>aa,"Schema",()=>am,"ZodAny",()=>aG,"ZodArray",()=>aX,"ZodBigInt",()=>a$,"ZodBoolean",()=>aU,"ZodBranded",()=>nf,"ZodCatch",()=>nc,"ZodDate",()=>aV,"ZodDefault",()=>nl,"ZodDiscriminatedUnion",()=>a4,"ZodEffects",()=>no,"ZodEnum",()=>na,"ZodError",()=>i3,"ZodFirstPartyTypeKind",()=>$,"ZodFunction",()=>ne,"ZodIntersection",()=>a9,"ZodIssueCode",0,i5,"ZodLazy",()=>nt,"ZodLiteral",()=>nr,"ZodMap",()=>a6,"ZodNaN",()=>nh,"ZodNativeEnum",()=>nn,"ZodNever",()=>aY,"ZodNull",()=>aq,"ZodNullable",()=>nu,"ZodNumber",()=>az,"ZodObject",()=>a0,"ZodOptional",()=>nd,"ZodParsedType",0,i2,"ZodPipeline",()=>nm,"ZodPromise",()=>ns,"ZodReadonly",()=>n_,"ZodRecord",()=>a8,"ZodSchema",()=>am,"ZodSet",()=>a7,"ZodString",()=>aF,"ZodSymbol",()=>aW,"ZodTransformer",()=>no,"ZodTuple",()=>a3,"ZodType",()=>am,"ZodUndefined",()=>aK,"ZodUnion",()=>a1,"ZodUnknown",()=>aH,"ZodVoid",()=>aJ,"addIssueToContext",()=>ai,"any",()=>nI,"array",()=>nP,"bigint",()=>nT,"boolean",()=>nZ,"coerce",0,n5,"custom",()=>ny,"date",()=>nE,"datetimeRegex",()=>aj,"defaultErrorMap",0,i8,"discriminatedUnion",()=>nL,"effect",()=>nY,"enum",()=>nq,"function",()=>nV,"getErrorMap",()=>ae,"getParsedType",0,i4,"instanceof",()=>nb,"intersection",()=>nF,"isAborted",0,ad,"isAsync",0,ac,"isDirty",0,au,"isValid",0,al,"late",0,nv,"lazy",()=>nW,"literal",()=>nK,"makeIssue",0,at,"map",()=>n$,"nan",()=>nw,"nativeEnum",()=>nG,"never",()=>nN,"null",()=>nO,"nullable",()=>nX,"number",()=>nk,"object",()=>nj,"objectUtil",()=>B,"oboolean",()=>n4,"onumber",()=>n2,"optional",()=>nJ,"ostring",()=>n1,"pipeline",()=>n0,"preprocess",()=>nQ,"promise",()=>nH,"quotelessJson",0,i9,"record",()=>nz,"set",()=>nU,"setErrorMap",()=>i7,"strictObject",()=>nR,"string",()=>nx,"symbol",()=>nA,"transformer",()=>nY,"tuple",()=>nB,"undefined",()=>nS,"union",()=>nD,"unknown",()=>nC,"util",()=>F,"void",()=>nM],269759);var n3=e.i(269759),n3=n3;let n8=n3.object({src:i1,x:n3.number().optional(),y:n3.number().optional(),srcX:n3.number().optional(),srcY:n3.number().optional(),srcW:n3.number().optional(),srcH:n3.number().optional()}),n6=n3.union([i1,n8]),n7={blit(e,t){let r=n6.parse(t),{src:i,x:a=0,y:n=0,srcX:s=0,srcY:o=0,srcW:d=i.bitmap.width,srcH:u=i.bitmap.height}="bitmap"in r?{src:r}:r;if(!("bitmap"in i))throw Error("The source must be a Jimp image");if("number"!=typeof a||"number"!=typeof n)throw Error("x and y must be numbers");a=Math.round(a),n=Math.round(n),s=Math.round(s),o=Math.round(o),d=Math.round(d),u=Math.round(u);let l=e.bitmap.width,c=e.bitmap.height;return tA(i,s,o,d,u,function(t,r,d){let u=a+t-s,h=n+r-o;if(u>=0&&h>=0&&l-u>0&&c-h>0){let t=e.getPixelIndex(u,h),r={r:i.bitmap.data[d]||0,g:i.bitmap.data[d+1]||0,b:i.bitmap.data[d+2]||0,a:i.bitmap.data[d+3]||0},a={r:e.bitmap.data[t]||0,g:e.bitmap.data[t+1]||0,b:e.bitmap.data[t+2]||0,a:e.bitmap.data[t+3]||0};e.bitmap.data[t]=(r.a*(r.r-a.r)-a.r+255>>8)+a.r,e.bitmap.data[t+1]=(r.a*(r.g-a.g)-a.g+255>>8)+a.g,e.bitmap.data[t+2]=(r.a*(r.b-a.b)-a.b+255>>8)+a.b,e.bitmap.data[t+3]=tN(a.a+r.a)}}),e}},se=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],st=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18],sr={blur(e,t){let r,i,a,n,s,o,d,u,l,c,h,p,f;if("number"!=typeof t)throw Error("r must be a number");if(t<1)throw Error("r must be greater than 0");let m=e.bitmap.width-1,_=e.bitmap.height-1,g=t+1,y=se[t],v=st[t],b=[],x=[],k=[],w=[],T=[],Z=[],E=2;for(;E-- >0;){for(o=0,p=0,f=0;o<e.bitmap.height;o++){for(d=1,r=e.bitmap.data[f]*g,i=e.bitmap.data[f+1]*g,a=e.bitmap.data[f+2]*g,n=e.bitmap.data[f+3]*g;d<=t;d++)u=f+((d>m?m:d)<<2),r+=e.bitmap.data[u++],i+=e.bitmap.data[u++],a+=e.bitmap.data[u++],n+=e.bitmap.data[u];for(s=0;s<e.bitmap.width;s++)b[p]=r,x[p]=i,k[p]=a,w[p]=n,0===o&&(T[s]=((u=s+g)<m?u:m)<<2,Z[s]=(u=s-t)>0?u<<2:0),l=f+T[s],c=f+Z[s],r+=e.bitmap.data[l++]-e.bitmap.data[c++],i+=e.bitmap.data[l++]-e.bitmap.data[c++],a+=e.bitmap.data[l++]-e.bitmap.data[c++],n+=e.bitmap.data[l]-e.bitmap.data[c++],p++;f+=e.bitmap.width<<2}for(s=0;s<e.bitmap.width;s++){for(d=1,r=b[h=s]*g,i=x[h]*g,a=k[h]*g,n=w[h]*g;d<=t;d++)h+=d>_?0:e.bitmap.width,r+=b[h],i+=x[h],a+=k[h],n+=w[h];for(o=0,p=s<<2;o<e.bitmap.height;o++)e.bitmap.data[p]=tN(r*y>>>v),e.bitmap.data[p+1]=tN(i*y>>>v),e.bitmap.data[p+2]=tN(a*y>>>v),e.bitmap.data[p+3]=tN(n*y>>>v),0===s&&(T[o]=((u=o+g)<_?u:_)*e.bitmap.width,Z[o]=(u=o-t)>0?u*e.bitmap.width:0),l=s+T[o],c=s+Z[o],r+=b[l]-b[c],i+=x[l]-x[c],a+=k[l]-k[c],n+=w[l]-w[c],p+=e.bitmap.width<<2}}return e},gaussian(e,t){if("number"!=typeof t)throw Error("r must be a number");if(t<1)throw Error("r must be greater than 0");let r=Math.ceil(2.57*t),i=2*r+1,a=t*t*2,n=a*Math.PI,s=[];for(let e=0;e<i;e++){let t=[];for(let s=0;s<i;s++){let i=(s-r)**2+(e-r)**2;t[s]=Math.exp(-i/a)/n}s.push(t)}for(let t=0;t<e.bitmap.height;t++)for(let a=0;a<e.bitmap.width;a++){let n=0,o=0,d=0,u=0,l=0;for(let c=0;c<i;c++){for(let h=0;h<i;h++){let i=Math.min(e.bitmap.width-1,Math.max(0,h+a-r)),p=Math.min(e.bitmap.height-1,Math.max(0,c+t-r)),f=s[c][h],m=p*e.bitmap.width+i<<2;n+=e.bitmap.data[m]*f,o+=e.bitmap.data[m+1]*f,d+=e.bitmap.data[m+2]*f,u+=e.bitmap.data[m+3]*f,l+=f}let h=t*e.bitmap.width+a<<2;e.bitmap.data[h]=Math.round(n/l),e.bitmap.data[h+1]=Math.round(o/l),e.bitmap.data[h+2]=Math.round(d/l),e.bitmap.data[h+3]=Math.round(u/l)}}return e}};e.s([],800505),e.i(800505),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(U||(U={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(V||(V={}));let si=U.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sa=e=>{switch(typeof e){case"undefined":return si.undefined;case"string":return si.string;case"number":return Number.isNaN(e)?si.nan:si.number;case"boolean":return si.boolean;case"function":return si.function;case"bigint":return si.bigint;case"symbol":return si.symbol;case"object":if(Array.isArray(e))return si.array;if(null===e)return si.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return si.promise;if("undefined"!=typeof Map&&e instanceof Map)return si.map;if("undefined"!=typeof Set&&e instanceof Set)return si.set;if("undefined"!=typeof Date&&e instanceof Date)return si.date;return si.object;default:return si.unknown}};e.s(["ZodParsedType",0,si,"getParsedType",0,sa,"objectUtil",()=>V,"util",()=>U],868829);let sn=U.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ss=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class so extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof so))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,U.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}so.create=e=>new so(e),e.s(["ZodError",()=>so,"ZodIssueCode",0,sn,"quotelessJson",0,ss],641240);let sd=(e,t)=>{let r;switch(e.code){case sn.invalid_type:r=e.received===si.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case sn.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,U.jsonStringifyReplacer)}`;break;case sn.unrecognized_keys:r=`Unrecognized key(s) in object: ${U.joinValues(e.keys,", ")}`;break;case sn.invalid_union:r="Invalid input";break;case sn.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${U.joinValues(e.options)}`;break;case sn.invalid_enum_value:r=`Invalid enum value. Expected ${U.joinValues(e.options)}, received '${e.received}'`;break;case sn.invalid_arguments:r="Invalid function arguments";break;case sn.invalid_return_type:r="Invalid function return type";break;case sn.invalid_date:r="Invalid date";break;case sn.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:U.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case sn.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case sn.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case sn.custom:r="Invalid input";break;case sn.invalid_intersection_types:r="Intersection results could not be merged";break;case sn.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case sn.not_finite:r="Number must be finite";break;default:r=t.defaultError,U.assertNever(e)}return{message:r}},su=sd;function sl(e){su=e}function sc(){return su}e.s(["getErrorMap",()=>sc,"setErrorMap",()=>sl],4324),e.i(4324),e.s(["defaultErrorMap",0,sd,"getErrorMap",()=>sc,"setErrorMap",()=>sl],238467),e.i(238467);let sh=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},sp=[];function sf(e,t){let r=sc(),i=sh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===sd?void 0:sd].filter(e=>!!e)});e.common.issues.push(i)}class sm{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return s_;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return sm.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return s_;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let s_=Object.freeze({status:"aborted"}),sg=e=>({status:"dirty",value:e}),sy=e=>({status:"valid",value:e}),sv=e=>"aborted"===e.status,sb=e=>"dirty"===e.status,sx=e=>"valid"===e.status,sk=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,sg,"EMPTY_PATH",0,sp,"INVALID",0,s_,"OK",0,sy,"ParseStatus",()=>sm,"addIssueToContext",()=>sf,"isAborted",0,sv,"isAsync",0,sk,"isDirty",0,sb,"isValid",0,sx,"makeIssue",0,sh],865076),e.i(865076),e.s([],444773),e.i(444773),e.i(868829),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(W||(W={}));class sw{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let sT=(e,t)=>{if(sx(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new so(e.common.issues);return this._error=t,this._error}}};function sZ(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class sE{get description(){return this._def.description}_getType(e){return sa(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new sm,ctx:{common:e.parent.common,data:e.data,parsedType:sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(sk(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)},i=this._parseSync({data:e,path:r.path,parent:r});return sT(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return sx(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>sx(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)},i=this._parse({data:e,path:r.path,parent:r});return sT(r,await (sk(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:sn.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new oy({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ov.create(this,this._def)}nullable(){return ob.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return s7.create(this)}promise(){return og.create(this,this._def)}or(e){return or.create([this,e],this._def)}and(e){return os.create(this,e,this._def)}transform(e){return new oy({...sZ(this._def),schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new ox({...sZ(this._def),innerType:this,defaultValue:t,typeName:K.ZodDefault})}brand(){return new oZ({typeName:K.ZodBranded,type:this,...sZ(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new ok({...sZ(this._def),innerType:this,catchValue:t,typeName:K.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return oE.create(this,e)}readonly(){return oA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let sA=/^c[^\s-]{8,}$/i,sS=/^[0-9a-z]+$/,sO=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sC=/^[a-z0-9_-]{21}$/i,sN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,sM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",sR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,s$="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",sU=RegExp(`^${s$}$`);function sV(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function sW(e){return RegExp(`^${sV(e)}$`)}function sK(e){let t=`${s$}T${sV(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function sq(e,t){return!!(("v4"===t||!t)&&sR.test(e)||("v6"===t||!t)&&sL.test(e))}function sG(e,t){if(!sN.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function sH(e,t){return!!(("v4"===t||!t)&&sD.test(e)||("v6"===t||!t)&&sF.test(e))}class sY extends sE{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==si.string){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.string,received:t.parsedType}),s_}let r=new sm;for(let a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(sf(t=this._getOrReturnCtx(e,t),{code:sn.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("max"===a.kind)e.data.length>a.value&&(sf(t=this._getOrReturnCtx(e,t),{code:sn.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("length"===a.kind){let i=e.data.length>a.value,n=e.data.length<a.value;(i||n)&&(t=this._getOrReturnCtx(e,t),i?sf(t,{code:sn.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):n&&sf(t,{code:sn.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if("email"===a.kind)sP.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{validation:"email",code:sn.invalid_string,message:a.message}),r.dirty());else if("emoji"===a.kind)i||(i=RegExp(sj,"u")),i.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:sn.invalid_string,message:a.message}),r.dirty());else if("uuid"===a.kind)sI.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:sn.invalid_string,message:a.message}),r.dirty());else if("nanoid"===a.kind)sC.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:sn.invalid_string,message:a.message}),r.dirty());else if("cuid"===a.kind)sA.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:sn.invalid_string,message:a.message}),r.dirty());else if("cuid2"===a.kind)sS.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:sn.invalid_string,message:a.message}),r.dirty());else if("ulid"===a.kind)sO.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:sn.invalid_string,message:a.message}),r.dirty());else if("url"===a.kind)try{new URL(e.data)}catch{sf(t=this._getOrReturnCtx(e,t),{validation:"url",code:sn.invalid_string,message:a.message}),r.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{validation:"regex",code:sn.invalid_string,message:a.message}),r.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(sf(t=this._getOrReturnCtx(e,t),{code:sn.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(sf(t=this._getOrReturnCtx(e,t),{code:sn.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(sf(t=this._getOrReturnCtx(e,t),{code:sn.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):"datetime"===a.kind?sK(a).test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{code:sn.invalid_string,validation:"datetime",message:a.message}),r.dirty()):"date"===a.kind?sU.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{code:sn.invalid_string,validation:"date",message:a.message}),r.dirty()):"time"===a.kind?sW(a).test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{code:sn.invalid_string,validation:"time",message:a.message}),r.dirty()):"duration"===a.kind?sM.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{validation:"duration",code:sn.invalid_string,message:a.message}),r.dirty()):"ip"===a.kind?sq(e.data,a.version)||(sf(t=this._getOrReturnCtx(e,t),{validation:"ip",code:sn.invalid_string,message:a.message}),r.dirty()):"jwt"===a.kind?sG(e.data,a.alg)||(sf(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:sn.invalid_string,message:a.message}),r.dirty()):"cidr"===a.kind?sH(e.data,a.version)||(sf(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:sn.invalid_string,message:a.message}),r.dirty()):"base64"===a.kind?sB.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{validation:"base64",code:sn.invalid_string,message:a.message}),r.dirty()):"base64url"===a.kind?sz.test(e.data)||(sf(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:sn.invalid_string,message:a.message}),r.dirty()):U.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:sn.invalid_string,...W.errToObj(r)})}_addCheck(e){return new sY({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...W.errToObj(e)})}url(e){return this._addCheck({kind:"url",...W.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...W.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...W.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...W.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...W.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...W.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...W.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...W.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...W.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...W.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...W.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...W.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...W.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...W.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...W.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...W.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...W.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...W.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...W.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...W.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...W.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...W.errToObj(t)})}nonempty(e){return this.min(1,W.errToObj(e))}trim(){return new sY({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sY({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sY({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function sJ(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}sY.create=e=>new sY({checks:[],typeName:K.ZodString,coerce:e?.coerce??!1,...sZ(e)});class sX extends sE{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==si.number){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.number,received:t.parsedType}),s_}let r=new sm;for(let i of this._def.checks)"int"===i.kind?U.isInteger(e.data)||(sf(t=this._getOrReturnCtx(e,t),{code:sn.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(sf(t=this._getOrReturnCtx(e,t),{code:sn.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(sf(t=this._getOrReturnCtx(e,t),{code:sn.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==sJ(e.data,i.value)&&(sf(t=this._getOrReturnCtx(e,t),{code:sn.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(sf(t=this._getOrReturnCtx(e,t),{code:sn.not_finite,message:i.message}),r.dirty()):U.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,W.toString(t))}gt(e,t){return this.setLimit("min",e,!1,W.toString(t))}lte(e,t){return this.setLimit("max",e,!0,W.toString(t))}lt(e,t){return this.setLimit("max",e,!1,W.toString(t))}setLimit(e,t,r,i){return new sX({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:W.toString(i)}]})}_addCheck(e){return new sX({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:W.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:W.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:W.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:W.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:W.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:W.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:W.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:W.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:W.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&U.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}sX.create=e=>new sX({checks:[],typeName:K.ZodNumber,coerce:e?.coerce||!1,...sZ(e)});class sQ extends sE{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==si.bigint)return this._getInvalidInput(e);let r=new sm;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(sf(t=this._getOrReturnCtx(e,t),{code:sn.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(sf(t=this._getOrReturnCtx(e,t),{code:sn.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(sf(t=this._getOrReturnCtx(e,t),{code:sn.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):U.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.bigint,received:t.parsedType}),s_}gte(e,t){return this.setLimit("min",e,!0,W.toString(t))}gt(e,t){return this.setLimit("min",e,!1,W.toString(t))}lte(e,t){return this.setLimit("max",e,!0,W.toString(t))}lt(e,t){return this.setLimit("max",e,!1,W.toString(t))}setLimit(e,t,r,i){return new sQ({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:W.toString(i)}]})}_addCheck(e){return new sQ({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:W.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:W.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:W.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:W.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:W.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}sQ.create=e=>new sQ({checks:[],typeName:K.ZodBigInt,coerce:e?.coerce??!1,...sZ(e)});class s0 extends sE{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==si.boolean){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.boolean,received:t.parsedType}),s_}return sy(e.data)}}s0.create=e=>new s0({typeName:K.ZodBoolean,coerce:e?.coerce||!1,...sZ(e)});class s1 extends sE{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==si.date){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.date,received:t.parsedType}),s_}if(Number.isNaN(e.data.getTime()))return sf(this._getOrReturnCtx(e),{code:sn.invalid_date}),s_;let r=new sm;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(sf(t=this._getOrReturnCtx(e,t),{code:sn.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(sf(t=this._getOrReturnCtx(e,t),{code:sn.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):U.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new s1({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:W.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:W.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}s1.create=e=>new s1({checks:[],coerce:e?.coerce||!1,typeName:K.ZodDate,...sZ(e)});class s2 extends sE{_parse(e){if(this._getType(e)!==si.symbol){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.symbol,received:t.parsedType}),s_}return sy(e.data)}}s2.create=e=>new s2({typeName:K.ZodSymbol,...sZ(e)});class s4 extends sE{_parse(e){if(this._getType(e)!==si.undefined){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.undefined,received:t.parsedType}),s_}return sy(e.data)}}s4.create=e=>new s4({typeName:K.ZodUndefined,...sZ(e)});class s5 extends sE{_parse(e){if(this._getType(e)!==si.null){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.null,received:t.parsedType}),s_}return sy(e.data)}}s5.create=e=>new s5({typeName:K.ZodNull,...sZ(e)});class s9 extends sE{constructor(){super(...arguments),this._any=!0}_parse(e){return sy(e.data)}}s9.create=e=>new s9({typeName:K.ZodAny,...sZ(e)});class s3 extends sE{constructor(){super(...arguments),this._unknown=!0}_parse(e){return sy(e.data)}}s3.create=e=>new s3({typeName:K.ZodUnknown,...sZ(e)});class s8 extends sE{_parse(e){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.never,received:t.parsedType}),s_}}s8.create=e=>new s8({typeName:K.ZodNever,...sZ(e)});class s6 extends sE{_parse(e){if(this._getType(e)!==si.undefined){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.void,received:t.parsedType}),s_}return sy(e.data)}}s6.create=e=>new s6({typeName:K.ZodVoid,...sZ(e)});class s7 extends sE{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==si.array)return sf(t,{code:sn.invalid_type,expected:si.array,received:t.parsedType}),s_;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(sf(t,{code:e?sn.too_big:sn.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(sf(t,{code:sn.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(sf(t,{code:sn.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new sw(t,e,t.path,r)))).then(e=>sm.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new sw(t,e,t.path,r)));return sm.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new s7({...this._def,minLength:{value:e,message:W.toString(t)}})}max(e,t){return new s7({...this._def,maxLength:{value:e,message:W.toString(t)}})}length(e,t){return new s7({...this._def,exactLength:{value:e,message:W.toString(t)}})}nonempty(e){return this.min(1,e)}}function oe(e){if(e instanceof ot){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=ov.create(oe(i))}return new ot({...e._def,shape:()=>t})}if(e instanceof s7)return new s7({...e._def,type:oe(e.element)});if(e instanceof ov)return ov.create(oe(e.unwrap()));if(e instanceof ob)return ob.create(oe(e.unwrap()));if(e instanceof oo)return oo.create(e.items.map(e=>oe(e)));else return e}s7.create=(e,t)=>new s7({type:e,minLength:null,maxLength:null,exactLength:null,typeName:K.ZodArray,...sZ(t)});class ot extends sE{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=U.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==si.object){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.object,received:t.parsedType}),s_}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof s8&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new sw(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof s8){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(sf(r,{code:sn.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new sw(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>sm.mergeObjectSync(t,e)):sm.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return W.errToObj,new ot({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:W.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ot({...this._def,unknownKeys:"strip"})}passthrough(){return new ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:K.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ot({...this._def,catchall:e})}pick(e){let t={};for(let r of U.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ot({...this._def,shape:()=>t})}omit(e){let t={};for(let r of U.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ot({...this._def,shape:()=>t})}deepPartial(){return oe(this)}partial(e){let t={};for(let r of U.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new ot({...this._def,shape:()=>t})}required(e){let t={};for(let r of U.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ov;)e=e._def.innerType;t[r]=e}return new ot({...this._def,shape:()=>t})}keyof(){return of(U.objectKeys(this.shape))}}ot.create=(e,t)=>new ot({shape:()=>e,unknownKeys:"strip",catchall:s8.create(),typeName:K.ZodObject,...sZ(t)}),ot.strictCreate=(e,t)=>new ot({shape:()=>e,unknownKeys:"strict",catchall:s8.create(),typeName:K.ZodObject,...sZ(t)}),ot.lazycreate=(e,t)=>new ot({shape:e,unknownKeys:"strip",catchall:s8.create(),typeName:K.ZodObject,...sZ(t)});class or extends sE{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new so(e.ctx.common.issues));return sf(t,{code:sn.invalid_union,unionErrors:r}),s_}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new so(e));return sf(t,{code:sn.invalid_union,unionErrors:a}),s_}}get options(){return this._def.options}}or.create=(e,t)=>new or({options:e,typeName:K.ZodUnion,...sZ(t)});let oi=e=>{if(e instanceof oh)return oi(e.schema);if(e instanceof oy)return oi(e.innerType());if(e instanceof op)return[e.value];if(e instanceof om)return e.options;if(e instanceof o_)return U.objectValues(e.enum);else if(e instanceof ox)return oi(e._def.innerType);else if(e instanceof s4)return[void 0];else if(e instanceof s5)return[null];else if(e instanceof ov)return[void 0,...oi(e.unwrap())];else if(e instanceof ob)return[null,...oi(e.unwrap())];else if(e instanceof oZ)return oi(e.unwrap());else if(e instanceof oA)return oi(e.unwrap());else if(e instanceof ok)return oi(e._def.innerType);else return[]};class oa extends sE{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==si.object)return sf(t,{code:sn.invalid_type,expected:si.object,received:t.parsedType}),s_;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(sf(t,{code:sn.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),s_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=oi(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new oa({typeName:K.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...sZ(r)})}}function on(e,t){let r=sa(e),i=sa(t);if(e===t)return{valid:!0,data:e};if(r===si.object&&i===si.object){let r=U.objectKeys(t),i=U.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=on(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===si.array&&i===si.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=on(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===si.date&&i===si.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class os extends sE{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(sv(e)||sv(i))return s_;let a=on(e.value,i.value);return a.valid?((sb(e)||sb(i))&&t.dirty(),{status:t.value,value:a.data}):(sf(r,{code:sn.invalid_intersection_types}),s_)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}os.create=(e,t,r)=>new os({left:e,right:t,typeName:K.ZodIntersection,...sZ(r)});class oo extends sE{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==si.array)return sf(r,{code:sn.invalid_type,expected:si.array,received:r.parsedType}),s_;if(r.data.length<this._def.items.length)return sf(r,{code:sn.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s_;!this._def.rest&&r.data.length>this._def.items.length&&(sf(r,{code:sn.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new sw(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>sm.mergeArray(t,e)):sm.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new oo({...this._def,rest:e})}}oo.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new oo({items:e,typeName:K.ZodTuple,rest:null,...sZ(t)})};class od extends sE{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==si.object)return sf(r,{code:sn.invalid_type,expected:si.object,received:r.parsedType}),s_;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new sw(r,e,r.path,e)),value:n._parse(new sw(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?sm.mergeObjectAsync(t,i):sm.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new od(t instanceof sE?{keyType:e,valueType:t,typeName:K.ZodRecord,...sZ(r)}:{keyType:sY.create(),valueType:e,typeName:K.ZodRecord,...sZ(t)})}}class ou extends sE{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==si.map)return sf(r,{code:sn.invalid_type,expected:si.map,received:r.parsedType}),s_;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new sw(r,e,r.path,[n,"key"])),value:a._parse(new sw(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return s_;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return s_;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}ou.create=(e,t,r)=>new ou({valueType:t,keyType:e,typeName:K.ZodMap,...sZ(r)});class ol extends sE{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==si.set)return sf(r,{code:sn.invalid_type,expected:si.set,received:r.parsedType}),s_;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(sf(r,{code:sn.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(sf(r,{code:sn.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return s_;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new sw(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new ol({...this._def,minSize:{value:e,message:W.toString(t)}})}max(e,t){return new ol({...this._def,maxSize:{value:e,message:W.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ol.create=(e,t)=>new ol({valueType:e,minSize:null,maxSize:null,typeName:K.ZodSet,...sZ(t)});class oc extends sE{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==si.function)return sf(t,{code:sn.invalid_type,expected:si.function,received:t.parsedType}),s_;function r(e,r){return sh({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,sc(),sd].filter(e=>!!e),issueData:{code:sn.invalid_arguments,argumentsError:r}})}function i(e,r){return sh({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,sc(),sd].filter(e=>!!e),issueData:{code:sn.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof og){let e=this;return sy(async function(...t){let s=new so([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return sy(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new so([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new so([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new oc({...this._def,args:oo.create(e).rest(s3.create())})}returns(e){return new oc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new oc({args:e||oo.create([]).rest(s3.create()),returns:t||s3.create(),typeName:K.ZodFunction,...sZ(r)})}}class oh extends sE{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}oh.create=(e,t)=>new oh({getter:e,typeName:K.ZodLazy,...sZ(t)});class op extends sE{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return sf(t,{received:t.data,code:sn.invalid_literal,expected:this._def.value}),s_}return{status:"valid",value:e.data}}get value(){return this._def.value}}function of(e,t){return new om({values:e,typeName:K.ZodEnum,...sZ(t)})}op.create=(e,t)=>new op({value:e,typeName:K.ZodLiteral,...sZ(t)});class om extends sE{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return sf(t,{expected:U.joinValues(r),received:t.parsedType,code:sn.invalid_type}),s_}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return sf(t,{received:t.data,code:sn.invalid_enum_value,options:r}),s_}return sy(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return om.create(e,{...this._def,...t})}exclude(e,t=this._def){return om.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}om.create=of;class o_ extends sE{_parse(e){let t=U.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==si.string&&r.parsedType!==si.number){let e=U.objectValues(t);return sf(r,{expected:U.joinValues(e),received:r.parsedType,code:sn.invalid_type}),s_}if(this._cache||(this._cache=new Set(U.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=U.objectValues(t);return sf(r,{received:r.data,code:sn.invalid_enum_value,options:e}),s_}return sy(e.data)}get enum(){return this._def.values}}o_.create=(e,t)=>new o_({values:e,typeName:K.ZodNativeEnum,...sZ(t)});class og extends sE{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==si.promise&&!1===t.common.async?(sf(t,{code:sn.invalid_type,expected:si.promise,received:t.parsedType}),s_):sy((t.parsedType===si.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}og.create=(e,t)=>new og({type:e,typeName:K.ZodPromise,...sZ(t)});class oy extends sE{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{sf(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return s_;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?s_:"dirty"===i.status||"dirty"===t.value?sg(i.value):i});{if("aborted"===t.value)return s_;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?s_:"dirty"===i.status||"dirty"===t.value?sg(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?s_:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?s_:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>sx(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):s_);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!sx(e))return s_;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}U.assertNever(i)}}oy.create=(e,t,r)=>new oy({schema:e,typeName:K.ZodEffects,effect:t,...sZ(r)}),oy.createWithPreprocess=(e,t,r)=>new oy({schema:t,effect:{type:"preprocess",transform:e},typeName:K.ZodEffects,...sZ(r)});class ov extends sE{_parse(e){return this._getType(e)===si.undefined?sy(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ov.create=(e,t)=>new ov({innerType:e,typeName:K.ZodOptional,...sZ(t)});class ob extends sE{_parse(e){return this._getType(e)===si.null?sy(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ob.create=(e,t)=>new ob({innerType:e,typeName:K.ZodNullable,...sZ(t)});class ox extends sE{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===si.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ox.create=(e,t)=>new ox({innerType:e,typeName:K.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...sZ(t)});class ok extends sE{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return sk(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new so(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new so(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ok.create=(e,t)=>new ok({innerType:e,typeName:K.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...sZ(t)});class ow extends sE{_parse(e){if(this._getType(e)!==si.nan){let t=this._getOrReturnCtx(e);return sf(t,{code:sn.invalid_type,expected:si.nan,received:t.parsedType}),s_}return{status:"valid",value:e.data}}}ow.create=e=>new ow({typeName:K.ZodNaN,...sZ(e)});let oT=Symbol("zod_brand");class oZ extends sE{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class oE extends sE{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?s_:"dirty"===e.status?(t.dirty(),sg(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?s_:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new oE({in:e,out:t,typeName:K.ZodPipeline})}}class oA extends sE{_parse(e){let t=this._def.innerType._parse(e),r=e=>(sx(e)&&(e.value=Object.freeze(e.value)),e);return sk(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function oS(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function oO(e,t={},r){return e?s9.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=oS(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=oS(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):s9.create()}oA.create=(e,t)=>new oA({innerType:e,typeName:K.ZodReadonly,...sZ(t)});let oI={object:ot.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(K||(K={}));let oC=(e,t={message:`Input not instance of ${e.name}`})=>oO(t=>t instanceof e,t),oN=sY.create,oM=sX.create,oP=ow.create,oj=sQ.create,oR=s0.create,oD=s1.create,oL=s2.create,oF=s4.create,oB=s5.create,oz=s9.create,o$=s3.create,oU=s8.create,oV=s6.create,oW=s7.create,oK=ot.create,oq=ot.strictCreate,oG=or.create,oH=oa.create,oY=os.create,oJ=oo.create,oX=od.create,oQ=ou.create,o0=ol.create,o1=oc.create,o2=oh.create,o4=op.create,o5=om.create,o9=o_.create,o3=og.create,o8=oy.create,o6=ov.create,o7=ob.create,de=oy.createWithPreprocess,dt=oE.create,dr=()=>oN().optional(),di=()=>oM().optional(),da=()=>oR().optional(),dn={string:e=>sY.create({...e,coerce:!0}),number:e=>sX.create({...e,coerce:!0}),boolean:e=>s0.create({...e,coerce:!0}),bigint:e=>sQ.create({...e,coerce:!0}),date:e=>s1.create({...e,coerce:!0})},ds=s_;e.s(["BRAND",0,oT,"NEVER",0,ds,"Schema",()=>sE,"ZodAny",()=>s9,"ZodArray",()=>s7,"ZodBigInt",()=>sQ,"ZodBoolean",()=>s0,"ZodBranded",()=>oZ,"ZodCatch",()=>ok,"ZodDate",()=>s1,"ZodDefault",()=>ox,"ZodDiscriminatedUnion",()=>oa,"ZodEffects",()=>oy,"ZodEnum",()=>om,"ZodFirstPartyTypeKind",()=>K,"ZodFunction",()=>oc,"ZodIntersection",()=>os,"ZodLazy",()=>oh,"ZodLiteral",()=>op,"ZodMap",()=>ou,"ZodNaN",()=>ow,"ZodNativeEnum",()=>o_,"ZodNever",()=>s8,"ZodNull",()=>s5,"ZodNullable",()=>ob,"ZodNumber",()=>sX,"ZodObject",()=>ot,"ZodOptional",()=>ov,"ZodPipeline",()=>oE,"ZodPromise",()=>og,"ZodReadonly",()=>oA,"ZodRecord",()=>od,"ZodSchema",()=>sE,"ZodSet",()=>ol,"ZodString",()=>sY,"ZodSymbol",()=>s2,"ZodTransformer",()=>oy,"ZodTuple",()=>oo,"ZodType",()=>sE,"ZodUndefined",()=>s4,"ZodUnion",()=>or,"ZodUnknown",()=>s3,"ZodVoid",()=>s6,"any",()=>oz,"array",()=>oW,"bigint",()=>oj,"boolean",()=>oR,"coerce",0,dn,"custom",()=>oO,"date",()=>oD,"datetimeRegex",()=>sK,"discriminatedUnion",()=>oH,"effect",()=>o8,"enum",()=>o5,"function",()=>o1,"instanceof",()=>oC,"intersection",()=>oY,"late",0,oI,"lazy",()=>o2,"literal",()=>o4,"map",()=>oQ,"nan",()=>oP,"nativeEnum",()=>o9,"never",()=>oU,"null",()=>oB,"nullable",()=>o7,"number",()=>oM,"object",()=>oK,"oboolean",()=>da,"onumber",()=>di,"optional",()=>o6,"ostring",()=>dr,"pipeline",()=>dt,"preprocess",()=>de,"promise",()=>o3,"record",()=>oX,"set",()=>o0,"strictObject",()=>oq,"string",()=>oN,"symbol",()=>oL,"transformer",()=>o8,"tuple",()=>oJ,"undefined",()=>oF,"union",()=>oG,"unknown",()=>o$,"void",()=>oV],702821),e.i(702821),e.i(641240),e.s(["BRAND",0,oT,"DIRTY",0,sg,"EMPTY_PATH",0,sp,"INVALID",0,s_,"NEVER",0,ds,"OK",0,sy,"ParseStatus",()=>sm,"Schema",()=>sE,"ZodAny",()=>s9,"ZodArray",()=>s7,"ZodBigInt",()=>sQ,"ZodBoolean",()=>s0,"ZodBranded",()=>oZ,"ZodCatch",()=>ok,"ZodDate",()=>s1,"ZodDefault",()=>ox,"ZodDiscriminatedUnion",()=>oa,"ZodEffects",()=>oy,"ZodEnum",()=>om,"ZodError",()=>so,"ZodFirstPartyTypeKind",()=>K,"ZodFunction",()=>oc,"ZodIntersection",()=>os,"ZodIssueCode",0,sn,"ZodLazy",()=>oh,"ZodLiteral",()=>op,"ZodMap",()=>ou,"ZodNaN",()=>ow,"ZodNativeEnum",()=>o_,"ZodNever",()=>s8,"ZodNull",()=>s5,"ZodNullable",()=>ob,"ZodNumber",()=>sX,"ZodObject",()=>ot,"ZodOptional",()=>ov,"ZodParsedType",0,si,"ZodPipeline",()=>oE,"ZodPromise",()=>og,"ZodReadonly",()=>oA,"ZodRecord",()=>od,"ZodSchema",()=>sE,"ZodSet",()=>ol,"ZodString",()=>sY,"ZodSymbol",()=>s2,"ZodTransformer",()=>oy,"ZodTuple",()=>oo,"ZodType",()=>sE,"ZodUndefined",()=>s4,"ZodUnion",()=>or,"ZodUnknown",()=>s3,"ZodVoid",()=>s6,"addIssueToContext",()=>sf,"any",()=>oz,"array",()=>oW,"bigint",()=>oj,"boolean",()=>oR,"coerce",0,dn,"custom",()=>oO,"date",()=>oD,"datetimeRegex",()=>sK,"defaultErrorMap",0,sd,"discriminatedUnion",()=>oH,"effect",()=>o8,"enum",()=>o5,"function",()=>o1,"getErrorMap",()=>sc,"getParsedType",0,sa,"instanceof",()=>oC,"intersection",()=>oY,"isAborted",0,sv,"isAsync",0,sk,"isDirty",0,sb,"isValid",0,sx,"late",0,oI,"lazy",()=>o2,"literal",()=>o4,"makeIssue",0,sh,"map",()=>oQ,"nan",()=>oP,"nativeEnum",()=>o9,"never",()=>oU,"null",()=>oB,"nullable",()=>o7,"number",()=>oM,"object",()=>oK,"objectUtil",()=>V,"oboolean",()=>da,"onumber",()=>di,"optional",()=>o6,"ostring",()=>dr,"pipeline",()=>dt,"preprocess",()=>de,"promise",()=>o3,"quotelessJson",0,ss,"record",()=>oX,"set",()=>o0,"setErrorMap",()=>sl,"strictObject",()=>oq,"string",()=>oN,"symbol",()=>oL,"transformer",()=>o8,"tuple",()=>oJ,"undefined",()=>oF,"union",()=>oG,"unknown",()=>o$,"util",()=>U,"void",()=>oV],138317);var dd=e.i(138317),dd=dd;let du=dd.object({x:dd.number().optional(),y:dd.number().optional(),radius:dd.number().min(0).optional()}),dl={circle(e,t={}){let r=du.parse(t),i=r.radius||(e.bitmap.width>e.bitmap.height?e.bitmap.height:e.bitmap.width)/2,a={x:"number"==typeof r.x?r.x:e.bitmap.width/2,y:"number"==typeof r.y?r.y:e.bitmap.height/2};return e.scan((t,r,n)=>{let s=Math.sqrt(Math.pow(t-a.x,2)+Math.pow(r-a.y,2));i-s<=0?e.bitmap.data[n+3]=0:i-s<1&&(e.bitmap.data[n+3]=255*(i-s))}),e}};e.s([],481495),e.i(481495),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(q||(q={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(G||(G={}));let dc=q.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),dh=e=>{switch(typeof e){case"undefined":return dc.undefined;case"string":return dc.string;case"number":return Number.isNaN(e)?dc.nan:dc.number;case"boolean":return dc.boolean;case"function":return dc.function;case"bigint":return dc.bigint;case"symbol":return dc.symbol;case"object":if(Array.isArray(e))return dc.array;if(null===e)return dc.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return dc.promise;if("undefined"!=typeof Map&&e instanceof Map)return dc.map;if("undefined"!=typeof Set&&e instanceof Set)return dc.set;if("undefined"!=typeof Date&&e instanceof Date)return dc.date;return dc.object;default:return dc.unknown}};e.s(["ZodParsedType",0,dc,"getParsedType",0,dh,"objectUtil",()=>G,"util",()=>q],156694);let dp=q.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),df=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class dm extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof dm))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,q.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}dm.create=e=>new dm(e),e.s(["ZodError",()=>dm,"ZodIssueCode",0,dp,"quotelessJson",0,df],389845);let d_=(e,t)=>{let r;switch(e.code){case dp.invalid_type:r=e.received===dc.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case dp.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,q.jsonStringifyReplacer)}`;break;case dp.unrecognized_keys:r=`Unrecognized key(s) in object: ${q.joinValues(e.keys,", ")}`;break;case dp.invalid_union:r="Invalid input";break;case dp.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${q.joinValues(e.options)}`;break;case dp.invalid_enum_value:r=`Invalid enum value. Expected ${q.joinValues(e.options)}, received '${e.received}'`;break;case dp.invalid_arguments:r="Invalid function arguments";break;case dp.invalid_return_type:r="Invalid function return type";break;case dp.invalid_date:r="Invalid date";break;case dp.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:q.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case dp.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case dp.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case dp.custom:r="Invalid input";break;case dp.invalid_intersection_types:r="Intersection results could not be merged";break;case dp.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case dp.not_finite:r="Number must be finite";break;default:r=t.defaultError,q.assertNever(e)}return{message:r}},dg=d_;function dy(e){dg=e}function dv(){return dg}e.s(["getErrorMap",()=>dv,"setErrorMap",()=>dy],439405),e.i(439405),e.s(["defaultErrorMap",0,d_,"getErrorMap",()=>dv,"setErrorMap",()=>dy],556741),e.i(556741);let db=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},dx=[];function dk(e,t){let r=dv(),i=db({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===d_?void 0:d_].filter(e=>!!e)});e.common.issues.push(i)}class dw{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return dT;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return dw.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return dT;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let dT=Object.freeze({status:"aborted"}),dZ=e=>({status:"dirty",value:e}),dE=e=>({status:"valid",value:e}),dA=e=>"aborted"===e.status,dS=e=>"dirty"===e.status,dO=e=>"valid"===e.status,dI=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,dZ,"EMPTY_PATH",0,dx,"INVALID",0,dT,"OK",0,dE,"ParseStatus",()=>dw,"addIssueToContext",()=>dk,"isAborted",0,dA,"isAsync",0,dI,"isDirty",0,dS,"isValid",0,dO,"makeIssue",0,db],371164),e.i(371164),e.s([],495285),e.i(495285),e.i(156694),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(H||(H={}));class dC{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let dN=(e,t)=>{if(dO(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new dm(e.common.issues);return this._error=t,this._error}}};function dM(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class dP{get description(){return this._def.description}_getType(e){return dh(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:dh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new dw,ctx:{common:e.parent.common,data:e.data,parsedType:dh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(dI(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:dh(e)},i=this._parseSync({data:e,path:r.path,parent:r});return dN(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:dh(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return dO(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>dO(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:dh(e)},i=this._parse({data:e,path:r.path,parent:r});return dN(r,await (dI(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:dp.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new uE({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return uA.create(this,this._def)}nullable(){return uS.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return uo.create(this)}promise(){return uZ.create(this,this._def)}or(e){return ul.create([this,e],this._def)}and(e){return uf.create(this,e,this._def)}transform(e){return new uE({...dM(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new uO({...dM(this._def),innerType:this,defaultValue:t,typeName:Y.ZodDefault})}brand(){return new uM({typeName:Y.ZodBranded,type:this,...dM(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new uI({...dM(this._def),innerType:this,catchValue:t,typeName:Y.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return uP.create(this,e)}readonly(){return uj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let dj=/^c[^\s-]{8,}$/i,dR=/^[0-9a-z]+$/,dD=/^[0-9A-HJKMNP-TV-Z]{26}$/i,dL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,dF=/^[a-z0-9_-]{21}$/i,dB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,dz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,d$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",dV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dH=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dY="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dJ=RegExp(`^${dY}$`);function dX(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function dQ(e){return RegExp(`^${dX(e)}$`)}function d0(e){let t=`${dY}T${dX(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function d1(e,t){return!!(("v4"===t||!t)&&dV.test(e)||("v6"===t||!t)&&dK.test(e))}function d2(e,t){if(!dB.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function d4(e,t){return!!(("v4"===t||!t)&&dW.test(e)||("v6"===t||!t)&&dq.test(e))}class d5 extends dP{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==dc.string){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.string,received:t.parsedType}),dT}let r=new dw;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(dk(t=this._getOrReturnCtx(e,t),{code:dp.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(dk(t=this._getOrReturnCtx(e,t),{code:dp.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?dk(t,{code:dp.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&dk(t,{code:dp.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)d$.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{validation:"email",code:dp.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)a||(a=RegExp(dU,"u")),a.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:dp.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)dL.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:dp.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)dF.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:dp.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)dj.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:dp.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)dR.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:dp.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)dD.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:dp.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{dk(t=this._getOrReturnCtx(e,t),{validation:"url",code:dp.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{validation:"regex",code:dp.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(dk(t=this._getOrReturnCtx(e,t),{code:dp.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(dk(t=this._getOrReturnCtx(e,t),{code:dp.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(dk(t=this._getOrReturnCtx(e,t),{code:dp.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?d0(i).test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{code:dp.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?dJ.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{code:dp.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?dQ(i).test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{code:dp.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?dz.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{validation:"duration",code:dp.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?d1(e.data,i.version)||(dk(t=this._getOrReturnCtx(e,t),{validation:"ip",code:dp.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?d2(e.data,i.alg)||(dk(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:dp.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?d4(e.data,i.version)||(dk(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:dp.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?dG.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{validation:"base64",code:dp.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?dH.test(e.data)||(dk(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:dp.invalid_string,message:i.message}),r.dirty()):q.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:dp.invalid_string,...H.errToObj(r)})}_addCheck(e){return new d5({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...H.errToObj(e)})}url(e){return this._addCheck({kind:"url",...H.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...H.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...H.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...H.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...H.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...H.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...H.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...H.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...H.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...H.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...H.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...H.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...H.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...H.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...H.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...H.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...H.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...H.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...H.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...H.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...H.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...H.errToObj(t)})}nonempty(e){return this.min(1,H.errToObj(e))}trim(){return new d5({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new d5({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new d5({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function d9(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}d5.create=e=>new d5({checks:[],typeName:Y.ZodString,coerce:e?.coerce??!1,...dM(e)});class d3 extends dP{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==dc.number){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.number,received:t.parsedType}),dT}let r=new dw;for(let i of this._def.checks)"int"===i.kind?q.isInteger(e.data)||(dk(t=this._getOrReturnCtx(e,t),{code:dp.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(dk(t=this._getOrReturnCtx(e,t),{code:dp.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(dk(t=this._getOrReturnCtx(e,t),{code:dp.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==d9(e.data,i.value)&&(dk(t=this._getOrReturnCtx(e,t),{code:dp.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(dk(t=this._getOrReturnCtx(e,t),{code:dp.not_finite,message:i.message}),r.dirty()):q.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,H.toString(t))}gt(e,t){return this.setLimit("min",e,!1,H.toString(t))}lte(e,t){return this.setLimit("max",e,!0,H.toString(t))}lt(e,t){return this.setLimit("max",e,!1,H.toString(t))}setLimit(e,t,r,i){return new d3({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:H.toString(i)}]})}_addCheck(e){return new d3({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:H.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:H.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:H.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:H.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:H.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&q.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}d3.create=e=>new d3({checks:[],typeName:Y.ZodNumber,coerce:e?.coerce||!1,...dM(e)});class d8 extends dP{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==dc.bigint)return this._getInvalidInput(e);let r=new dw;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(dk(t=this._getOrReturnCtx(e,t),{code:dp.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(dk(t=this._getOrReturnCtx(e,t),{code:dp.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(dk(t=this._getOrReturnCtx(e,t),{code:dp.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):q.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.bigint,received:t.parsedType}),dT}gte(e,t){return this.setLimit("min",e,!0,H.toString(t))}gt(e,t){return this.setLimit("min",e,!1,H.toString(t))}lte(e,t){return this.setLimit("max",e,!0,H.toString(t))}lt(e,t){return this.setLimit("max",e,!1,H.toString(t))}setLimit(e,t,r,i){return new d8({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:H.toString(i)}]})}_addCheck(e){return new d8({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:H.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}d8.create=e=>new d8({checks:[],typeName:Y.ZodBigInt,coerce:e?.coerce??!1,...dM(e)});class d6 extends dP{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==dc.boolean){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.boolean,received:t.parsedType}),dT}return dE(e.data)}}d6.create=e=>new d6({typeName:Y.ZodBoolean,coerce:e?.coerce||!1,...dM(e)});class d7 extends dP{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==dc.date){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.date,received:t.parsedType}),dT}if(Number.isNaN(e.data.getTime()))return dk(this._getOrReturnCtx(e),{code:dp.invalid_date}),dT;let r=new dw;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(dk(t=this._getOrReturnCtx(e,t),{code:dp.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(dk(t=this._getOrReturnCtx(e,t),{code:dp.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):q.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new d7({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:H.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:H.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}d7.create=e=>new d7({checks:[],coerce:e?.coerce||!1,typeName:Y.ZodDate,...dM(e)});class ue extends dP{_parse(e){if(this._getType(e)!==dc.symbol){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.symbol,received:t.parsedType}),dT}return dE(e.data)}}ue.create=e=>new ue({typeName:Y.ZodSymbol,...dM(e)});class ut extends dP{_parse(e){if(this._getType(e)!==dc.undefined){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.undefined,received:t.parsedType}),dT}return dE(e.data)}}ut.create=e=>new ut({typeName:Y.ZodUndefined,...dM(e)});class ur extends dP{_parse(e){if(this._getType(e)!==dc.null){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.null,received:t.parsedType}),dT}return dE(e.data)}}ur.create=e=>new ur({typeName:Y.ZodNull,...dM(e)});class ui extends dP{constructor(){super(...arguments),this._any=!0}_parse(e){return dE(e.data)}}ui.create=e=>new ui({typeName:Y.ZodAny,...dM(e)});class ua extends dP{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dE(e.data)}}ua.create=e=>new ua({typeName:Y.ZodUnknown,...dM(e)});class un extends dP{_parse(e){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.never,received:t.parsedType}),dT}}un.create=e=>new un({typeName:Y.ZodNever,...dM(e)});class us extends dP{_parse(e){if(this._getType(e)!==dc.undefined){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.void,received:t.parsedType}),dT}return dE(e.data)}}us.create=e=>new us({typeName:Y.ZodVoid,...dM(e)});class uo extends dP{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==dc.array)return dk(t,{code:dp.invalid_type,expected:dc.array,received:t.parsedType}),dT;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(dk(t,{code:e?dp.too_big:dp.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(dk(t,{code:dp.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(dk(t,{code:dp.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new dC(t,e,t.path,r)))).then(e=>dw.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new dC(t,e,t.path,r)));return dw.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new uo({...this._def,minLength:{value:e,message:H.toString(t)}})}max(e,t){return new uo({...this._def,maxLength:{value:e,message:H.toString(t)}})}length(e,t){return new uo({...this._def,exactLength:{value:e,message:H.toString(t)}})}nonempty(e){return this.min(1,e)}}function ud(e){if(e instanceof uu){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=uA.create(ud(i))}return new uu({...e._def,shape:()=>t})}if(e instanceof uo)return new uo({...e._def,type:ud(e.element)});if(e instanceof uA)return uA.create(ud(e.unwrap()));if(e instanceof uS)return uS.create(ud(e.unwrap()));if(e instanceof um)return um.create(e.items.map(e=>ud(e)));else return e}uo.create=(e,t)=>new uo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...dM(t)});class uu extends dP{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=q.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==dc.object){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.object,received:t.parsedType}),dT}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof un&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new dC(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof un){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(dk(r,{code:dp.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new dC(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>dw.mergeObjectSync(t,e)):dw.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return H.errToObj,new uu({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:H.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new uu({...this._def,unknownKeys:"strip"})}passthrough(){return new uu({...this._def,unknownKeys:"passthrough"})}extend(e){return new uu({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new uu({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Y.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new uu({...this._def,catchall:e})}pick(e){let t={};for(let r of q.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new uu({...this._def,shape:()=>t})}omit(e){let t={};for(let r of q.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new uu({...this._def,shape:()=>t})}deepPartial(){return ud(this)}partial(e){let t={};for(let r of q.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new uu({...this._def,shape:()=>t})}required(e){let t={};for(let r of q.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof uA;)e=e._def.innerType;t[r]=e}return new uu({...this._def,shape:()=>t})}keyof(){return uk(q.objectKeys(this.shape))}}uu.create=(e,t)=>new uu({shape:()=>e,unknownKeys:"strip",catchall:un.create(),typeName:Y.ZodObject,...dM(t)}),uu.strictCreate=(e,t)=>new uu({shape:()=>e,unknownKeys:"strict",catchall:un.create(),typeName:Y.ZodObject,...dM(t)}),uu.lazycreate=(e,t)=>new uu({shape:e,unknownKeys:"strip",catchall:un.create(),typeName:Y.ZodObject,...dM(t)});class ul extends dP{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new dm(e.ctx.common.issues));return dk(t,{code:dp.invalid_union,unionErrors:r}),dT}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new dm(e));return dk(t,{code:dp.invalid_union,unionErrors:a}),dT}}get options(){return this._def.options}}ul.create=(e,t)=>new ul({options:e,typeName:Y.ZodUnion,...dM(t)});let uc=e=>{if(e instanceof ub)return uc(e.schema);if(e instanceof uE)return uc(e.innerType());if(e instanceof ux)return[e.value];if(e instanceof uw)return e.options;if(e instanceof uT)return q.objectValues(e.enum);else if(e instanceof uO)return uc(e._def.innerType);else if(e instanceof ut)return[void 0];else if(e instanceof ur)return[null];else if(e instanceof uA)return[void 0,...uc(e.unwrap())];else if(e instanceof uS)return[null,...uc(e.unwrap())];else if(e instanceof uM)return uc(e.unwrap());else if(e instanceof uj)return uc(e.unwrap());else if(e instanceof uI)return uc(e._def.innerType);else return[]};class uh extends dP{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==dc.object)return dk(t,{code:dp.invalid_type,expected:dc.object,received:t.parsedType}),dT;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(dk(t,{code:dp.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),dT)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=uc(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new uh({typeName:Y.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...dM(r)})}}function up(e,t){let r=dh(e),i=dh(t);if(e===t)return{valid:!0,data:e};if(r===dc.object&&i===dc.object){let r=q.objectKeys(t),i=q.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=up(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===dc.array&&i===dc.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=up(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===dc.date&&i===dc.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class uf extends dP{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(dA(e)||dA(i))return dT;let a=up(e.value,i.value);return a.valid?((dS(e)||dS(i))&&t.dirty(),{status:t.value,value:a.data}):(dk(r,{code:dp.invalid_intersection_types}),dT)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}uf.create=(e,t,r)=>new uf({left:e,right:t,typeName:Y.ZodIntersection,...dM(r)});class um extends dP{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==dc.array)return dk(r,{code:dp.invalid_type,expected:dc.array,received:r.parsedType}),dT;if(r.data.length<this._def.items.length)return dk(r,{code:dp.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),dT;!this._def.rest&&r.data.length>this._def.items.length&&(dk(r,{code:dp.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new dC(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>dw.mergeArray(t,e)):dw.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new um({...this._def,rest:e})}}um.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new um({items:e,typeName:Y.ZodTuple,rest:null,...dM(t)})};class u_ extends dP{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==dc.object)return dk(r,{code:dp.invalid_type,expected:dc.object,received:r.parsedType}),dT;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new dC(r,e,r.path,e)),value:n._parse(new dC(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?dw.mergeObjectAsync(t,i):dw.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new u_(t instanceof dP?{keyType:e,valueType:t,typeName:Y.ZodRecord,...dM(r)}:{keyType:d5.create(),valueType:e,typeName:Y.ZodRecord,...dM(t)})}}class ug extends dP{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==dc.map)return dk(r,{code:dp.invalid_type,expected:dc.map,received:r.parsedType}),dT;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new dC(r,e,r.path,[n,"key"])),value:a._parse(new dC(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return dT;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return dT;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}ug.create=(e,t,r)=>new ug({valueType:t,keyType:e,typeName:Y.ZodMap,...dM(r)});class uy extends dP{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==dc.set)return dk(r,{code:dp.invalid_type,expected:dc.set,received:r.parsedType}),dT;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(dk(r,{code:dp.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(dk(r,{code:dp.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return dT;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new dC(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new uy({...this._def,minSize:{value:e,message:H.toString(t)}})}max(e,t){return new uy({...this._def,maxSize:{value:e,message:H.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}uy.create=(e,t)=>new uy({valueType:e,minSize:null,maxSize:null,typeName:Y.ZodSet,...dM(t)});class uv extends dP{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==dc.function)return dk(t,{code:dp.invalid_type,expected:dc.function,received:t.parsedType}),dT;function r(e,r){return db({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,dv(),d_].filter(e=>!!e),issueData:{code:dp.invalid_arguments,argumentsError:r}})}function i(e,r){return db({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,dv(),d_].filter(e=>!!e),issueData:{code:dp.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof uZ){let e=this;return dE(async function(...t){let s=new dm([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return dE(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new dm([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new dm([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new uv({...this._def,args:um.create(e).rest(ua.create())})}returns(e){return new uv({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new uv({args:e||um.create([]).rest(ua.create()),returns:t||ua.create(),typeName:Y.ZodFunction,...dM(r)})}}class ub extends dP{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ub.create=(e,t)=>new ub({getter:e,typeName:Y.ZodLazy,...dM(t)});class ux extends dP{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return dk(t,{received:t.data,code:dp.invalid_literal,expected:this._def.value}),dT}return{status:"valid",value:e.data}}get value(){return this._def.value}}function uk(e,t){return new uw({values:e,typeName:Y.ZodEnum,...dM(t)})}ux.create=(e,t)=>new ux({value:e,typeName:Y.ZodLiteral,...dM(t)});class uw extends dP{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return dk(t,{expected:q.joinValues(r),received:t.parsedType,code:dp.invalid_type}),dT}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return dk(t,{received:t.data,code:dp.invalid_enum_value,options:r}),dT}return dE(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return uw.create(e,{...this._def,...t})}exclude(e,t=this._def){return uw.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}uw.create=uk;class uT extends dP{_parse(e){let t=q.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==dc.string&&r.parsedType!==dc.number){let e=q.objectValues(t);return dk(r,{expected:q.joinValues(e),received:r.parsedType,code:dp.invalid_type}),dT}if(this._cache||(this._cache=new Set(q.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=q.objectValues(t);return dk(r,{received:r.data,code:dp.invalid_enum_value,options:e}),dT}return dE(e.data)}get enum(){return this._def.values}}uT.create=(e,t)=>new uT({values:e,typeName:Y.ZodNativeEnum,...dM(t)});class uZ extends dP{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==dc.promise&&!1===t.common.async?(dk(t,{code:dp.invalid_type,expected:dc.promise,received:t.parsedType}),dT):dE((t.parsedType===dc.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}uZ.create=(e,t)=>new uZ({type:e,typeName:Y.ZodPromise,...dM(t)});class uE extends dP{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{dk(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return dT;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?dT:"dirty"===i.status||"dirty"===t.value?dZ(i.value):i});{if("aborted"===t.value)return dT;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?dT:"dirty"===i.status||"dirty"===t.value?dZ(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?dT:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?dT:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>dO(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):dT);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!dO(e))return dT;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}q.assertNever(i)}}uE.create=(e,t,r)=>new uE({schema:e,typeName:Y.ZodEffects,effect:t,...dM(r)}),uE.createWithPreprocess=(e,t,r)=>new uE({schema:t,effect:{type:"preprocess",transform:e},typeName:Y.ZodEffects,...dM(r)});class uA extends dP{_parse(e){return this._getType(e)===dc.undefined?dE(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}uA.create=(e,t)=>new uA({innerType:e,typeName:Y.ZodOptional,...dM(t)});class uS extends dP{_parse(e){return this._getType(e)===dc.null?dE(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}uS.create=(e,t)=>new uS({innerType:e,typeName:Y.ZodNullable,...dM(t)});class uO extends dP{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===dc.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}uO.create=(e,t)=>new uO({innerType:e,typeName:Y.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...dM(t)});class uI extends dP{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return dI(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new dm(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new dm(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}uI.create=(e,t)=>new uI({innerType:e,typeName:Y.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...dM(t)});class uC extends dP{_parse(e){if(this._getType(e)!==dc.nan){let t=this._getOrReturnCtx(e);return dk(t,{code:dp.invalid_type,expected:dc.nan,received:t.parsedType}),dT}return{status:"valid",value:e.data}}}uC.create=e=>new uC({typeName:Y.ZodNaN,...dM(e)});let uN=Symbol("zod_brand");class uM extends dP{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class uP extends dP{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?dT:"dirty"===e.status?(t.dirty(),dZ(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?dT:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new uP({in:e,out:t,typeName:Y.ZodPipeline})}}class uj extends dP{_parse(e){let t=this._def.innerType._parse(e),r=e=>(dO(e)&&(e.value=Object.freeze(e.value)),e);return dI(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function uR(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function uD(e,t={},r){return e?ui.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=uR(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=uR(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):ui.create()}uj.create=(e,t)=>new uj({innerType:e,typeName:Y.ZodReadonly,...dM(t)});let uL={object:uu.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Y||(Y={}));let uF=(e,t={message:`Input not instance of ${e.name}`})=>uD(t=>t instanceof e,t),uB=d5.create,uz=d3.create,u$=uC.create,uU=d8.create,uV=d6.create,uW=d7.create,uK=ue.create,uq=ut.create,uG=ur.create,uH=ui.create,uY=ua.create,uJ=un.create,uX=us.create,uQ=uo.create,u0=uu.create,u1=uu.strictCreate,u2=ul.create,u4=uh.create,u5=uf.create,u9=um.create,u3=u_.create,u8=ug.create,u6=uy.create,u7=uv.create,le=ub.create,lt=ux.create,lr=uw.create,li=uT.create,la=uZ.create,ln=uE.create,ls=uA.create,lo=uS.create,ld=uE.createWithPreprocess,lu=uP.create,ll=()=>uB().optional(),lc=()=>uz().optional(),lh=()=>uV().optional(),lp={string:e=>d5.create({...e,coerce:!0}),number:e=>d3.create({...e,coerce:!0}),boolean:e=>d6.create({...e,coerce:!0}),bigint:e=>d8.create({...e,coerce:!0}),date:e=>d7.create({...e,coerce:!0})},lf=dT;e.s(["BRAND",0,uN,"NEVER",0,lf,"Schema",()=>dP,"ZodAny",()=>ui,"ZodArray",()=>uo,"ZodBigInt",()=>d8,"ZodBoolean",()=>d6,"ZodBranded",()=>uM,"ZodCatch",()=>uI,"ZodDate",()=>d7,"ZodDefault",()=>uO,"ZodDiscriminatedUnion",()=>uh,"ZodEffects",()=>uE,"ZodEnum",()=>uw,"ZodFirstPartyTypeKind",()=>Y,"ZodFunction",()=>uv,"ZodIntersection",()=>uf,"ZodLazy",()=>ub,"ZodLiteral",()=>ux,"ZodMap",()=>ug,"ZodNaN",()=>uC,"ZodNativeEnum",()=>uT,"ZodNever",()=>un,"ZodNull",()=>ur,"ZodNullable",()=>uS,"ZodNumber",()=>d3,"ZodObject",()=>uu,"ZodOptional",()=>uA,"ZodPipeline",()=>uP,"ZodPromise",()=>uZ,"ZodReadonly",()=>uj,"ZodRecord",()=>u_,"ZodSchema",()=>dP,"ZodSet",()=>uy,"ZodString",()=>d5,"ZodSymbol",()=>ue,"ZodTransformer",()=>uE,"ZodTuple",()=>um,"ZodType",()=>dP,"ZodUndefined",()=>ut,"ZodUnion",()=>ul,"ZodUnknown",()=>ua,"ZodVoid",()=>us,"any",()=>uH,"array",()=>uQ,"bigint",()=>uU,"boolean",()=>uV,"coerce",0,lp,"custom",()=>uD,"date",()=>uW,"datetimeRegex",()=>d0,"discriminatedUnion",()=>u4,"effect",()=>ln,"enum",()=>lr,"function",()=>u7,"instanceof",()=>uF,"intersection",()=>u5,"late",0,uL,"lazy",()=>le,"literal",()=>lt,"map",()=>u8,"nan",()=>u$,"nativeEnum",()=>li,"never",()=>uJ,"null",()=>uG,"nullable",()=>lo,"number",()=>uz,"object",()=>u0,"oboolean",()=>lh,"onumber",()=>lc,"optional",()=>ls,"ostring",()=>ll,"pipeline",()=>lu,"preprocess",()=>ld,"promise",()=>la,"record",()=>u3,"set",()=>u6,"strictObject",()=>u1,"string",()=>uB,"symbol",()=>uK,"transformer",()=>ln,"tuple",()=>u9,"undefined",()=>uq,"union",()=>u2,"unknown",()=>uY,"void",()=>uX],37661),e.i(37661),e.i(389845),e.s(["BRAND",0,uN,"DIRTY",0,dZ,"EMPTY_PATH",0,dx,"INVALID",0,dT,"NEVER",0,lf,"OK",0,dE,"ParseStatus",()=>dw,"Schema",()=>dP,"ZodAny",()=>ui,"ZodArray",()=>uo,"ZodBigInt",()=>d8,"ZodBoolean",()=>d6,"ZodBranded",()=>uM,"ZodCatch",()=>uI,"ZodDate",()=>d7,"ZodDefault",()=>uO,"ZodDiscriminatedUnion",()=>uh,"ZodEffects",()=>uE,"ZodEnum",()=>uw,"ZodError",()=>dm,"ZodFirstPartyTypeKind",()=>Y,"ZodFunction",()=>uv,"ZodIntersection",()=>uf,"ZodIssueCode",0,dp,"ZodLazy",()=>ub,"ZodLiteral",()=>ux,"ZodMap",()=>ug,"ZodNaN",()=>uC,"ZodNativeEnum",()=>uT,"ZodNever",()=>un,"ZodNull",()=>ur,"ZodNullable",()=>uS,"ZodNumber",()=>d3,"ZodObject",()=>uu,"ZodOptional",()=>uA,"ZodParsedType",0,dc,"ZodPipeline",()=>uP,"ZodPromise",()=>uZ,"ZodReadonly",()=>uj,"ZodRecord",()=>u_,"ZodSchema",()=>dP,"ZodSet",()=>uy,"ZodString",()=>d5,"ZodSymbol",()=>ue,"ZodTransformer",()=>uE,"ZodTuple",()=>um,"ZodType",()=>dP,"ZodUndefined",()=>ut,"ZodUnion",()=>ul,"ZodUnknown",()=>ua,"ZodVoid",()=>us,"addIssueToContext",()=>dk,"any",()=>uH,"array",()=>uQ,"bigint",()=>uU,"boolean",()=>uV,"coerce",0,lp,"custom",()=>uD,"date",()=>uW,"datetimeRegex",()=>d0,"defaultErrorMap",0,d_,"discriminatedUnion",()=>u4,"effect",()=>ln,"enum",()=>lr,"function",()=>u7,"getErrorMap",()=>dv,"getParsedType",0,dh,"instanceof",()=>uF,"intersection",()=>u5,"isAborted",0,dA,"isAsync",0,dI,"isDirty",0,dS,"isValid",0,dO,"late",0,uL,"lazy",()=>le,"literal",()=>lt,"makeIssue",0,db,"map",()=>u8,"nan",()=>u$,"nativeEnum",()=>li,"never",()=>uJ,"null",()=>uG,"nullable",()=>lo,"number",()=>uz,"object",()=>u0,"objectUtil",()=>G,"oboolean",()=>lh,"onumber",()=>lc,"optional",()=>ls,"ostring",()=>ll,"pipeline",()=>lu,"preprocess",()=>ld,"promise",()=>la,"quotelessJson",0,df,"record",()=>u3,"set",()=>u6,"setErrorMap",()=>dy,"strictObject",()=>u1,"string",()=>uB,"symbol",()=>uK,"transformer",()=>ln,"tuple",()=>u9,"undefined",()=>uq,"union",()=>u2,"unknown",()=>uY,"util",()=>q,"void",()=>uX],281214);var lm=e.i(281214),lm=lm;let l_=lm.array(lm.number()).min(1).array(),lg=lm.object({kernel:l_,edgeHandling:lm.nativeEnum(L).optional()}),ly=lm.union([l_,lg]),lv=lm.object({kernel:l_,x:lm.number().optional(),y:lm.number().optional(),w:lm.number().optional(),h:lm.number().optional()}),lb=lm.union([l_,lv]),lx=lm.number().min(1).max(1/0),lk=lm.object({size:lx,x:lm.number().optional(),y:lm.number().optional(),w:lm.number().optional(),h:lm.number().optional()}),lw=lm.union([lx,lk]);function lT(e,t,r,i){let a=[0,0,0,0],n=(t.length-1)/2;for(let s=0;s<t.length;s+=1)for(let o=0;o<t[s].length;o+=1){let d=e.getPixelIndex(r+s-n,i+o-n);a[0]+=e.bitmap.data[d]*t[s][o],a[1]+=e.bitmap.data[d+1]*t[s][o],a[2]+=e.bitmap.data[d+2]*t[s][o],a[3]+=e.bitmap.data[d+3]*t[s][o]}return a}function lZ(e,t,r=50){return{r:(t.r-e.r)*(r/100)+e.r,g:(t.g-e.g)*(r/100)+e.g,b:(t.b-e.b)*(r/100)+e.b}}let lE=lm.object({apply:lm.literal("hue"),params:lm.tuple([lm.number().min(-360).max(360)])}),lA=lm.object({apply:lm.literal("spin"),params:lm.tuple([lm.number().min(-360).max(360)])}),lS=lm.object({apply:lm.literal("lighten"),params:lm.tuple([lm.number().min(0).max(100)]).optional()}),lO=lm.object({r:lm.number().min(0).max(255),g:lm.number().min(0).max(255),b:lm.number().min(0).max(255)}),lI=lm.object({apply:lm.literal("mix"),params:lm.union([lm.tuple([lO]),lm.tuple([lO,lm.number().min(0).max(100)])])}),lC=lm.object({apply:lm.literal("tint"),params:lm.tuple([lm.number().min(0).max(100)]).optional()}),lN=lm.object({apply:lm.literal("shade"),params:lm.tuple([lm.number().min(0).max(100)]).optional()}),lM=lm.object({apply:lm.literal("xor"),params:lm.tuple([lO])}),lP=lm.object({apply:lm.literal("red"),params:lm.tuple([lm.number().min(-255).max(255)])}),lj=lm.object({apply:lm.literal("green"),params:lm.tuple([lm.number().min(-255).max(255)])}),lR=lm.object({apply:lm.literal("blue"),params:lm.tuple([lm.number().min(-255).max(255)])}),lD=lm.object({apply:lm.literal("brighten"),params:lm.tuple([lm.number().min(0).max(100)]).optional()}),lL=lm.object({apply:lm.literal("darken"),params:lm.tuple([lm.number().min(0).max(100)]).optional()}),lF=lm.object({apply:lm.literal("desaturate"),params:lm.tuple([lm.number().min(0).max(100)]).optional()}),lB=lm.object({apply:lm.literal("saturate"),params:lm.tuple([lm.number().min(0).max(100)]).optional()}),lz=lm.object({apply:lm.literal("greyscale"),params:lm.tuple([]).optional()}),l$=lm.union([lE,lA,lS,lI,lC,lN,lM,lP,lj,lR,lD,lL,lF,lB,lz]);function lU(e){let t={r:Array(256).fill(0),g:Array(256).fill(0),b:Array(256).fill(0)};return e.scan((r,i,a)=>{t.r[e.bitmap.data[a+0]]++,t.g[e.bitmap.data[a+1]]++,t.b[e.bitmap.data[a+2]]++}),t}Object.freeze({LIGHTEN:"lighten",BRIGHTEN:"brighten",DARKEN:"darken",DESATURATE:"desaturate",SATURATE:"saturate",GREYSCALE:"greyscale",SPIN:"spin",HUE:"hue",MIX:"mix",TINT:"tint",SHADE:"shade",XOR:"xor",RED:"red",GREEN:"green",BLUE:"blue"});let lV=function(e,t,r){return(e-t)*255/(r-t)},lW=function(e){return[e.findIndex(e=>e>0),255-e.slice().reverse().findIndex(e=>e>0)]},lK={normalize(e){let t=lU(e),r={r:lW(t.r),g:lW(t.g),b:lW(t.b)};return e.scan((t,i,a)=>{let n=e.bitmap.data[a+0],s=e.bitmap.data[a+1],o=e.bitmap.data[a+2];e.bitmap.data[a+0]=lV(n,r.r[0],r.r[1]),e.bitmap.data[a+1]=lV(s,r.g[0],r.g[1]),e.bitmap.data[a+2]=lV(o,r.b[0],r.b[1])}),e},invert:e=>(e.scan((t,r,i)=>{e.bitmap.data[i]=255-e.bitmap.data[i],e.bitmap.data[i+1]=255-e.bitmap.data[i+1],e.bitmap.data[i+2]=255-e.bitmap.data[i+2]}),e),brightness(e,t){if("number"!=typeof t)throw Error("val must be numbers");return e.scan((r,i,a)=>{e.bitmap.data[a]=tN(e.bitmap.data[a]*t),e.bitmap.data[a+1]=tN(e.bitmap.data[a+1]*t),e.bitmap.data[a+2]=tN(e.bitmap.data[a+2]*t)}),e},contrast(e,t){if("number"!=typeof t)throw Error("val must be numbers");if(t<-1||t>1)throw Error("val must be a number between -1 and +1");let r=(t+1)/(1-t);function i(e){return(e=Math.floor(r*(e-127)+127))<0?0:e>255?255:e}return e.scan((t,r,a)=>{e.bitmap.data[a]=i(e.bitmap.data[a]),e.bitmap.data[a+1]=i(e.bitmap.data[a+1]),e.bitmap.data[a+2]=i(e.bitmap.data[a+2])}),e},posterize(e,t){if("number"!=typeof t)throw Error("n must be numbers");return t<2&&(t=2),e.scan((r,i,a)=>{let n=e.bitmap.data[a],s=e.bitmap.data[a+1],o=e.bitmap.data[a+2];e.bitmap.data[a]=Math.floor(n/255*(t-1))/(t-1)*255,e.bitmap.data[a+1]=Math.floor(s/255*(t-1))/(t-1)*255,e.bitmap.data[a+2]=Math.floor(o/255*(t-1))/(t-1)*255}),e},greyscale:e=>(e.scan((t,r,i)=>{let a=.2126*e.bitmap.data[i]+.7152*e.bitmap.data[i+1]+.0722*e.bitmap.data[i+2];e.bitmap.data[i]=a,e.bitmap.data[i+1]=a,e.bitmap.data[i+2]=a}),e),opacity(e,t){if("number"!=typeof t)throw Error("f must be a number");if(t<0||t>1)throw Error("f must be a number from 0 to 1");return e.scan((r,i,a)=>{let n=e.bitmap.data[a+3]*t;e.bitmap.data[a+3]=n}),e},sepia:e=>(e.scan((t,r,i)=>{let a=e.bitmap.data[i],n=e.bitmap.data[i+1],s=e.bitmap.data[i+2];n=.349*(a=.393*a+.769*n+.189*s)+.686*n+.168*s,s=.272*a+.534*n+.131*s,e.bitmap.data[i]=a<255?a:255,e.bitmap.data[i+1]=n<255?n:255,e.bitmap.data[i+2]=s<255?s:255}),e),fade(e,t){if("number"!=typeof t)throw Error("f must be a number");if(t<0||t>1)throw Error("f must be a number from 0 to 1");return this.opacity(e,1-t)},convolution(e,t){let r,i,a,n,s,o,d,u,l,c,h=ly.parse(t),{kernel:p,edgeHandling:f=L.EXTEND}="kernel"in h?h:{kernel:h,edgeHandling:void 0};if(!p[0])throw Error("kernel must be a matrix");let m=Buffer.from(e.bitmap.data),_=p.length,g=p[0].length,y=Math.floor(_/2),v=Math.floor(g/2),b=-y,x=-v;return e.scan((t,h,_)=>{n=0,a=0,i=0;for(let m=b;m<=y;m++)for(let _=x;_<=v;_++)u=t+_,l=h+m,r=p[m+y][_+v],-1===(c=e.getPixelIndex(u,l,f))?(d=0,o=0,s=0):(s=e.bitmap.data[c+0],o=e.bitmap.data[c+1],d=e.bitmap.data[c+2]),i+=r*s,a+=r*o,n+=r*d;i<0&&(i=0),a<0&&(a=0),n<0&&(n=0),i>255&&(i=255),a>255&&(a=255),n>255&&(n=255),m[_+0]=i,m[_+1]=a,m[_+2]=n}),e.bitmap.data=m,e},opaque:e=>(e.scan((t,r,i)=>{e.bitmap.data[i+3]=255}),e),pixelate(e,t){let r=lw.parse(t),{size:i,x:a=0,y:n=0,w:s=e.bitmap.width-a,h:o=e.bitmap.height-n}="number"==typeof r?{size:r}:r,d=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]],u=tE(e);return tA(u,a,n,s,o,(t,r,a)=>{let n=lT(u,d,t=i*Math.floor(t/i),r=i*Math.floor(r/i));e.bitmap.data[a]=n[0],e.bitmap.data[a+1]=n[1],e.bitmap.data[a+2]=n[2],e.bitmap.data[a+3]=n[3]}),e},convolute(e,t){let r=lb.parse(t),{kernel:i,x:a=0,y:n=0,w:s=e.bitmap.width-a,h:o=e.bitmap.height-n}="kernel"in r?r:{kernel:r},d=tE(e);return tA(d,a,n,s,o,(t,r,a)=>{let n=lT(d,i,t,r);e.bitmap.data[a]=tN(n[0]),e.bitmap.data[a+1]=tN(n[1]),e.bitmap.data[a+2]=tN(n[2]),e.bitmap.data[a+3]=tN(n[3])}),e},color(e,t){if(!t||!Array.isArray(t))throw Error("actions must be an array");return t.forEach(e=>l$.parse(e)),t=t.map(e=>(("xor"===e.apply||"mix"===e.apply)&&(e.params[0]=eJ(e.params[0]).toRgb()),e)),e.scan((r,i,a)=>{let n={r:e.bitmap.data[a],g:e.bitmap.data[a+1],b:e.bitmap.data[a+2]},s=(e,t)=>tN(n[e]+t);t.forEach(e=>{if("mix"===e.apply)n=lZ(n,e.params[0],e.params[1]);else if("tint"===e.apply)n=lZ(n,{r:255,g:255,b:255},e.params?.[0]);else if("shade"===e.apply)n=lZ(n,{r:0,g:0,b:0},e.params?.[0]);else if("xor"===e.apply)n={r:n.r^e.params[0].r,g:n.g^e.params[0].g,b:n.b^e.params[0].b};else if("red"===e.apply)n.r=s("r",e.params[0]);else if("green"===e.apply)n.g=s("g",e.params[0]);else if("blue"===e.apply)n.b=s("b",e.params[0]);else{"hue"===e.apply&&(e.apply="spin");let t=eJ(n),r=t[e.apply].bind(t);if(!r)throw Error("action "+e.apply+" not supported");n=r(...e.params||[]).toRgb()}}),e.bitmap.data[a]=n.r,e.bitmap.data[a+1]=n.g,e.bitmap.data[a+2]=n.b}),e}};var lq=e.i(626831);function lG(e,t){return e.then(function(e){return[null,e]}).catch(function(e){return t&&Object.assign(e,t),[e,void 0]})}var lH=e.i(522734);let lY=lH.promises.readFile,lJ=lH.promises.writeFile;var lX=lH,lQ=e.i(307887);function l0(e,t,r=1){e.a*=r;let i=t.a+e.a-t.a*e.a,a=(e.r*e.a+t.r*t.a*(1-e.a))/i;return{r:a,g:(e.g*e.a+t.g*t.a*(1-e.a))/i,b:(e.b*e.a+t.b*t.a*(1-e.a))/i,a:i}}function l1(e,t,r=1){e.a*=r;let i=t.a+e.a-t.a*e.a,a=(t.r*t.a+e.r*e.a*(1-t.a))/i;return{r:a,g:(t.g*t.a+e.g*e.a*(1-t.a))/i,b:(t.b*t.a+e.b*e.a*(1-t.a))/i,a:i}}function l2(e,t,r=1){e.a*=r;let i=t.a+e.a-t.a*e.a,a=e.r*e.a,n=e.g*e.a,s=e.b*e.a,o=t.r*t.a,d=t.g*t.a,u=t.b*t.a,l=(a*o+a*(1-t.a)+o*(1-e.a))/i;return{r:l,g:(n*d+n*(1-t.a)+d*(1-e.a))/i,b:(s*u+s*(1-t.a)+u*(1-e.a))/i,a:i}}function l4(e,t,r=1){e.a*=r;let i=t.a+e.a-t.a*e.a,a=e.r*e.a,n=e.g*e.a,s=e.b*e.a,o=t.r*t.a,d=t.g*t.a,u=t.b*t.a,l=(a+o)/i;return{r:l,g:(n+d)/i,b:(s+u)/i,a:i}}function l5(e,t,r=1){e.a*=r;let i=t.a+e.a-t.a*e.a,a=e.r*e.a,n=e.g*e.a,s=e.b*e.a,o=t.r*t.a,d=t.g*t.a,u=t.b*t.a,l=(a*t.a+o*e.a-a*o+a*(1-t.a)+o*(1-e.a))/i;return{r:l,g:(n*t.a+d*e.a-n*d+n*(1-t.a)+d*(1-e.a))/i,b:(s*t.a+u*e.a-s*u+s*(1-t.a)+u*(1-e.a))/i,a:i}}function l9(e,t,r=1){e.a*=r;let i=t.a+e.a-t.a*e.a,a=e.r*e.a,n=e.g*e.a,s=e.b*e.a,o=t.r*t.a,d=t.g*t.a,u=t.b*t.a,l=(2*o<=t.a?2*a*o+a*(1-t.a)+o*(1-e.a):a*(1+t.a)+o*(1+e.a)-2*o*a-t.a*e.a)/i;return{r:l,g:(2*d<=t.a?2*n*d+n*(1-t.a)+d*(1-e.a):n*(1+t.a)+d*(1+e.a)-2*d*n-t.a*e.a)/i,b:(2*u<=t.a?2*s*u+s*(1-t.a)+u*(1-e.a):s*(1+t.a)+u*(1+e.a)-2*u*s-t.a*e.a)/i,a:i}}function l3(e,t,r=1){e.a*=r;let i=t.a+e.a-t.a*e.a,a=e.r*e.a,n=e.g*e.a,s=e.b*e.a,o=t.r*t.a,d=t.g*t.a,u=t.b*t.a,l=(Math.min(a*t.a,o*e.a)+a*(1-t.a)+o*(1-e.a))/i;return{r:l,g:(Math.min(n*t.a,d*e.a)+n*(1-t.a)+d*(1-e.a))/i,b:(Math.min(s*t.a,u*e.a)+s*(1-t.a)+u*(1-e.a))/i,a:i}}function l8(e,t,r=1){e.a*=r;let i=t.a+e.a-t.a*e.a,a=e.r*e.a,n=e.g*e.a,s=e.b*e.a,o=t.r*t.a,d=t.g*t.a,u=t.b*t.a,l=(Math.max(a*t.a,o*e.a)+a*(1-t.a)+o*(1-e.a))/i;return{r:l,g:(Math.max(n*t.a,d*e.a)+n*(1-t.a)+d*(1-e.a))/i,b:(Math.max(s*t.a,u*e.a)+s*(1-t.a)+u*(1-e.a))/i,a:i}}function l6(e,t,r=1){e.a*=r;let i=t.a+e.a-t.a*e.a,a=e.r*e.a,n=e.g*e.a,s=e.b*e.a,o=t.r*t.a,d=t.g*t.a,u=t.b*t.a,l=(2*a<=e.a?2*a*o+a*(1-t.a)+o*(1-e.a):a*(1+t.a)+o*(1+e.a)-2*o*a-t.a*e.a)/i;return{r:l,g:(2*n<=e.a?2*n*d+n*(1-t.a)+d*(1-e.a):n*(1+t.a)+d*(1+e.a)-2*d*n-t.a*e.a)/i,b:(2*s<=e.a?2*s*u+s*(1-t.a)+u*(1-e.a):s*(1+t.a)+u*(1+e.a)-2*u*s-t.a*e.a)/i,a:i}}function l7(e,t,r=1){e.a*=r;let i=t.a+e.a-t.a*e.a,a=e.r*e.a,n=e.g*e.a,s=e.b*e.a,o=t.r*t.a,d=t.g*t.a,u=t.b*t.a,l=(a+o-2*Math.min(a*t.a,o*e.a))/i;return{r:l,g:(n+d-2*Math.min(n*t.a,d*e.a))/i,b:(s+u-2*Math.min(s*t.a,u*e.a))/i,a:i}}function ce(e,t,r=1){e.a*=r;let i=t.a+e.a-t.a*e.a,a=e.r*e.a,n=e.g*e.a,s=e.b*e.a,o=t.r*t.a,d=t.g*t.a,u=t.b*t.a,l=(a*t.a+o*e.a-2*a*o+a*(1-t.a)+o*(1-e.a))/i;return{r:l,g:(n*t.a+d*e.a-2*n*d+n*(1-t.a)+d*(1-e.a))/i,b:(s*t.a+u*e.a-2*s*u+s*(1-t.a)+u*(1-e.a))/i,a:i}}!function(e){e[e.LEFT=1]="LEFT",e[e.CENTER=2]="CENTER",e[e.RIGHT=4]="RIGHT"}(J||(J={})),function(e){e[e.TOP=8]="TOP",e[e.MIDDLE=16]="MIDDLE",e[e.BOTTOM=32]="BOTTOM"}(X||(X={})),function(e){e.SRC_OVER="srcOver",e.DST_OVER="dstOver",e.MULTIPLY="multiply",e.ADD="add",e.SCREEN="screen",e.OVERLAY="overlay",e.DARKEN="darken",e.LIGHTEN="lighten",e.HARD_LIGHT="hardLight",e.DIFFERENCE="difference",e.EXCLUSION="exclusion"}(Q||(Q={}));let ct=[l0,l1,l2,l4,l5,l9,l3,l8,l6,l7,ce];e.s(["add",()=>l4,"darken",()=>l3,"difference",()=>l7,"dstOver",()=>l1,"exclusion",()=>ce,"hardLight",()=>l6,"lighten",()=>l8,"multiply",()=>l2,"names",0,ct,"overlay",()=>l9,"screen",()=>l5,"srcOver",()=>l0],868984);var cr=e.i(868984);function ci(e,t,r=0,i=0,a={}){if(!(t instanceof e.constructor))throw Error("The source must be a Jimp image");if("number"!=typeof r||"number"!=typeof i)throw Error("x and y must be numbers");let{mode:n=Q.SRC_OVER}=a,{opacitySource:s=1,opacityDest:o=1}=a;("number"!=typeof s||s<0||s>1)&&(s=1),("number"!=typeof o||o<0||o>1)&&(o=1);let d=cr[n];return r=Math.round(r),i=Math.round(i),1!==o&&e.scan((t,r,i)=>{let a=e.bitmap.data[i+3]*o;e.bitmap.data[i+3]=a}),t.scan((a,n,o)=>{let u=e.getPixelIndex(r+a,i+n,L.CROP);if(-1===u)return;let l=d({r:t.bitmap.data[o+0]/255,g:t.bitmap.data[o+1]/255,b:t.bitmap.data[o+2]/255,a:t.bitmap.data[o+3]/255},{r:e.bitmap.data[u+0]/255,g:e.bitmap.data[u+1]/255,b:e.bitmap.data[u+2]/255,a:e.bitmap.data[u+3]/255},s);e.bitmap.data[u+0]=tN(255*l.r),e.bitmap.data[u+1]=tN(255*l.g),e.bitmap.data[u+2]=tN(255*l.b),e.bitmap.data[u+3]=tN(255*l.a)}),e}var ca=e.i(582894);function cn(e){let t=e._exif;return t&&t.tags&&t.tags.Orientation||1}function cs(e){let t=e.bitmap.width,r=e.bitmap.height;switch(cn(e)){case 1:default:return null;case 2:return function(e,r){return[t-e-1,r]};case 3:return function(e,i){return[t-e-1,r-i-1]};case 4:return function(e,t){return[e,r-t-1]};case 5:return function(e,t){return[t,e]};case 6:return function(e,t){return[t,r-e-1]};case 7:return function(e,i){return[t-i-1,r-e-1]};case 8:return function(e,r){return[t-r-1,e]}}}function co(e,t,r,i){let a=e.bitmap.data,n=e.bitmap.width,s=Buffer.alloc(a.length);for(let e=0;e<t;e++)for(let o=0;o<r;o++){let[r,d]=i(e,o),u=t*o+e<<2,l=n*d+r<<2,c=a.readUInt32BE(l);s.writeUInt32BE(c,u)}e.bitmap.data=s,e.bitmap.width=t,e.bitmap.height=r,e._exif.tags.Orientation=1}function cd(e){if(2>cn(e))return;let t=cs(e),r=cn(e)>4,i=r?e.bitmap.height:e.bitmap.width,a=r?e.bitmap.width:e.bitmap.height;t&&co(e,i,a,t)}async function cu(e,t){try{e._exif=ca.default.create(t).parse(),cd(e)}catch{}}let cl={data:Buffer.alloc(0),width:0,height:0};function cc(e){let t=Buffer.alloc(e.byteLength),r=new Uint8Array(e);for(let e=0;e<t.length;++e)t[e]=r[e];return t}function ch({plugins:e,formats:t}={}){let r=e||[],i=(t||[]).map(e=>e()),a=class{bitmap=cl;background=0;formats=[];mime;constructor(e=cl){if(this.formats=i,"data"in e)this.bitmap=e;else if(this.bitmap={data:Buffer.alloc(e.width*e.height*4),width:e.width,height:e.height},e.color){this.background="string"==typeof e.color?tM(e.color):e.color;for(let e=0;e<this.bitmap.data.length;e+=4)this.bitmap.data.writeUInt32BE(this.background,e)}for(const e of r)for(const t in e)this[t]=(...r)=>{let i=e[t]?.(this,...r);return"object"==typeof i&&"bitmap"in i?(this.bitmap=i.bitmap,this):i}}static async read(e,t){if(Buffer.isBuffer(e)||e instanceof ArrayBuffer)return this.fromBuffer(e);if((0,lX.existsSync)(e))return this.fromBuffer(await lY(e));let[r,i]=await lG(fetch(e));if(r)throw Error(`Could not load Buffer from URL: ${e}`);if(!i.ok)throw Error(`HTTP Status ${i.status} for url ${e}`);let[a,n]=await lG(i.arrayBuffer());if(a)throw Error(`Could not load Buffer from ${e}`);let s=cc(n);return this.fromBuffer(s,t)}static fromBitmap(e){let t;if(e.data instanceof Buffer&&(t=Buffer.from(e.data)),(e.data instanceof Uint8Array||e.data instanceof Uint8ClampedArray)&&(t=Buffer.from(e.data.buffer)),Array.isArray(e.data)&&(t=Buffer.concat(e.data.map(e=>Buffer.from(e.toString(16).padStart(8,"0"),"hex")))),!t)throw Error("data must be a Buffer");if("number"!=typeof e.height||"number"!=typeof e.width)throw Error("bitmap must have width and height");return new a({height:e.height,width:e.width,data:t})}static async fromBuffer(e,t){let r=e instanceof ArrayBuffer?cc(e):e,n=await lq.default.fromBuffer(r);if(!n||!n.mime)throw Error("Could not find MIME for Buffer");let s=i.find(e=>e.mime===n.mime);if(!s||!s.decode)throw Error(`Mime type ${n.mime} does not support decoding`);let o=new a(await s.decode(r,t?.[s.mime]));return o.mime=n.mime,cu(o,r),o}inspect(){return"<Jimp "+(this.bitmap===cl?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}get width(){return this.bitmap.width}get height(){return this.bitmap.height}async getBuffer(e,t){let r,i=this.formats.find(t=>t.mime===e);if(!i||!i.encode)throw Error(`Unsupported MIME type: ${e}`);return i.hasAlpha?r=this:ci(r=new a({width:this.bitmap.width,height:this.bitmap.height,color:this.background}),this),i.encode(r.bitmap,t)}async getBase64(e,t){let r=await this.getBuffer(e,t);return"data:"+e+";base64,"+r.toString("base64")}async write(e,t){let r=lQ.default.getType(e);await lJ(e,await this.getBuffer(r,t))}clone(){return new a({...this.bitmap,data:Buffer.from(this.bitmap.data)})}getPixelIndex(e,t,r){let i,a;if(r||(r=L.EXTEND),"number"!=typeof e||"number"!=typeof t)throw Error("x and y must be numbers");e=Math.round(e),t=Math.round(t),i=e,a=t,r===L.EXTEND&&(e<0&&(i=0),e>=this.bitmap.width&&(i=this.bitmap.width-1),t<0&&(a=0),t>=this.bitmap.height&&(a=this.bitmap.height-1)),r===L.WRAP&&(e<0&&(i=this.bitmap.width+e),e>=this.bitmap.width&&(i=e%this.bitmap.width),t<0&&(a=this.bitmap.height+t),t>=this.bitmap.height&&(a=t%this.bitmap.height));let n=this.bitmap.width*a+i<<2;return(i<0||i>=this.bitmap.width)&&(n=-1),(a<0||a>=this.bitmap.height)&&(n=-1),n}getPixelColor(e,t){if("number"!=typeof e||"number"!=typeof t)throw Error("x and y must be numbers");let r=this.getPixelIndex(e,t);return this.bitmap.data.readUInt32BE(r)}setPixelColor(e,t,r){if("number"!=typeof e||"number"!=typeof t||"number"!=typeof r)throw Error("hex, x and y must be numbers");let i=this.getPixelIndex(t,r);return this.bitmap.data.writeUInt32BE(e,i),this}hasAlpha(){let{width:e,height:t,data:r}=this.bitmap,i=e*t<<2;for(let e=3;e<i;e+=4)if(255!==r[e])return!0;return!1}composite(e,t=0,r=0,i={}){return ci(this,e,t,r,i)}scan(e,t,r,i,a){return tA(this,e,t,r,i,a)}scanIterator(e=0,t=0,r=this.bitmap.width,i=this.bitmap.height){if("number"!=typeof e||"number"!=typeof t)throw Error("x and y must be numbers");if("number"!=typeof r||"number"!=typeof i)throw Error("w and h must be numbers");return tS(this,e,t,r,i)}};return a}!function(e){e.NEAREST_NEIGHBOR="nearestNeighbor",e.BILINEAR="bilinearInterpolation",e.BICUBIC="bicubicInterpolation",e.HERMITE="hermiteInterpolation",e.BEZIER="bezierInterpolation"}(ee||(ee={})),e.s([],768550),e.i(768550),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(et||(et={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(er||(er={}));let cp=et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),cf=e=>{switch(typeof e){case"undefined":return cp.undefined;case"string":return cp.string;case"number":return Number.isNaN(e)?cp.nan:cp.number;case"boolean":return cp.boolean;case"function":return cp.function;case"bigint":return cp.bigint;case"symbol":return cp.symbol;case"object":if(Array.isArray(e))return cp.array;if(null===e)return cp.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return cp.promise;if("undefined"!=typeof Map&&e instanceof Map)return cp.map;if("undefined"!=typeof Set&&e instanceof Set)return cp.set;if("undefined"!=typeof Date&&e instanceof Date)return cp.date;return cp.object;default:return cp.unknown}};e.s(["ZodParsedType",0,cp,"getParsedType",0,cf,"objectUtil",()=>er,"util",()=>et],314489);let cm=et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),c_=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class cg extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof cg))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,et.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}cg.create=e=>new cg(e),e.s(["ZodError",()=>cg,"ZodIssueCode",0,cm,"quotelessJson",0,c_],318082);let cy=(e,t)=>{let r;switch(e.code){case cm.invalid_type:r=e.received===cp.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case cm.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,et.jsonStringifyReplacer)}`;break;case cm.unrecognized_keys:r=`Unrecognized key(s) in object: ${et.joinValues(e.keys,", ")}`;break;case cm.invalid_union:r="Invalid input";break;case cm.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${et.joinValues(e.options)}`;break;case cm.invalid_enum_value:r=`Invalid enum value. Expected ${et.joinValues(e.options)}, received '${e.received}'`;break;case cm.invalid_arguments:r="Invalid function arguments";break;case cm.invalid_return_type:r="Invalid function return type";break;case cm.invalid_date:r="Invalid date";break;case cm.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:et.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case cm.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case cm.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case cm.custom:r="Invalid input";break;case cm.invalid_intersection_types:r="Intersection results could not be merged";break;case cm.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case cm.not_finite:r="Number must be finite";break;default:r=t.defaultError,et.assertNever(e)}return{message:r}},cv=cy;function cb(e){cv=e}function cx(){return cv}e.s(["getErrorMap",()=>cx,"setErrorMap",()=>cb],362137),e.i(362137),e.s(["defaultErrorMap",0,cy,"getErrorMap",()=>cx,"setErrorMap",()=>cb],177341),e.i(177341);let ck=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},cw=[];function cT(e,t){let r=cx(),i=ck({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===cy?void 0:cy].filter(e=>!!e)});e.common.issues.push(i)}class cZ{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return cE;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return cZ.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return cE;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let cE=Object.freeze({status:"aborted"}),cA=e=>({status:"dirty",value:e}),cS=e=>({status:"valid",value:e}),cO=e=>"aborted"===e.status,cI=e=>"dirty"===e.status,cC=e=>"valid"===e.status,cN=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,cA,"EMPTY_PATH",0,cw,"INVALID",0,cE,"OK",0,cS,"ParseStatus",()=>cZ,"addIssueToContext",()=>cT,"isAborted",0,cO,"isAsync",0,cN,"isDirty",0,cI,"isValid",0,cC,"makeIssue",0,ck],327065),e.i(327065),e.s([],273854),e.i(273854),e.i(314489),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(ei||(ei={}));class cM{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let cP=(e,t)=>{if(cC(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new cg(e.common.issues);return this._error=t,this._error}}};function cj(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class cR{get description(){return this._def.description}_getType(e){return cf(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:cf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cZ,ctx:{common:e.parent.common,data:e.data,parsedType:cf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(cN(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cf(e)},i=this._parseSync({data:e,path:r.path,parent:r});return cP(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cf(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return cC(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>cC(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cf(e)},i=this._parse({data:e,path:r.path,parent:r});return cP(r,await (cN(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:cm.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new hS({schema:this,typeName:ea.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return hO.create(this,this._def)}nullable(){return hI.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hu.create(this)}promise(){return hA.create(this,this._def)}or(e){return hh.create([this,e],this._def)}and(e){return h_.create(this,e,this._def)}transform(e){return new hS({...cj(this._def),schema:this,typeName:ea.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new hC({...cj(this._def),innerType:this,defaultValue:t,typeName:ea.ZodDefault})}brand(){return new hj({typeName:ea.ZodBranded,type:this,...cj(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new hN({...cj(this._def),innerType:this,catchValue:t,typeName:ea.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return hR.create(this,e)}readonly(){return hD.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let cD=/^c[^\s-]{8,}$/i,cL=/^[0-9a-z]+$/,cF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cz=/^[a-z0-9_-]{21}$/i,c$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",cK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cY=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cJ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cX="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cQ=RegExp(`^${cX}$`);function c0(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function c1(e){return RegExp(`^${c0(e)}$`)}function c2(e){let t=`${cX}T${c0(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function c4(e,t){return!!(("v4"===t||!t)&&cK.test(e)||("v6"===t||!t)&&cG.test(e))}function c5(e,t){if(!c$.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function c9(e,t){return!!(("v4"===t||!t)&&cq.test(e)||("v6"===t||!t)&&cH.test(e))}class c3 extends cR{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==cp.string){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.string,received:t.parsedType}),cE}let r=new cZ;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(cT(t=this._getOrReturnCtx(e,t),{code:cm.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(cT(t=this._getOrReturnCtx(e,t),{code:cm.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?cT(t,{code:cm.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&cT(t,{code:cm.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)cV.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{validation:"email",code:cm.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)n||(n=RegExp(cW,"u")),n.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:cm.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)cB.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:cm.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)cz.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:cm.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)cD.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:cm.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)cL.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:cm.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)cF.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:cm.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{cT(t=this._getOrReturnCtx(e,t),{validation:"url",code:cm.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{validation:"regex",code:cm.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(cT(t=this._getOrReturnCtx(e,t),{code:cm.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(cT(t=this._getOrReturnCtx(e,t),{code:cm.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(cT(t=this._getOrReturnCtx(e,t),{code:cm.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?c2(i).test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{code:cm.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?cQ.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{code:cm.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?c1(i).test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{code:cm.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?cU.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{validation:"duration",code:cm.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?c4(e.data,i.version)||(cT(t=this._getOrReturnCtx(e,t),{validation:"ip",code:cm.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?c5(e.data,i.alg)||(cT(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:cm.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?c9(e.data,i.version)||(cT(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:cm.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?cY.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{validation:"base64",code:cm.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?cJ.test(e.data)||(cT(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:cm.invalid_string,message:i.message}),r.dirty()):et.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:cm.invalid_string,...ei.errToObj(r)})}_addCheck(e){return new c3({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ei.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ei.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ei.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ei.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ei.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ei.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ei.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ei.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ei.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ei.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ei.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ei.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ei.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...ei.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...ei.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ei.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ei.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...ei.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ei.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ei.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ei.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ei.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ei.errToObj(t)})}nonempty(e){return this.min(1,ei.errToObj(e))}trim(){return new c3({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new c3({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new c3({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function c8(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}c3.create=e=>new c3({checks:[],typeName:ea.ZodString,coerce:e?.coerce??!1,...cj(e)});class c6 extends cR{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==cp.number){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.number,received:t.parsedType}),cE}let r=new cZ;for(let i of this._def.checks)"int"===i.kind?et.isInteger(e.data)||(cT(t=this._getOrReturnCtx(e,t),{code:cm.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(cT(t=this._getOrReturnCtx(e,t),{code:cm.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(cT(t=this._getOrReturnCtx(e,t),{code:cm.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==c8(e.data,i.value)&&(cT(t=this._getOrReturnCtx(e,t),{code:cm.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(cT(t=this._getOrReturnCtx(e,t),{code:cm.not_finite,message:i.message}),r.dirty()):et.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ei.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ei.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ei.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ei.toString(t))}setLimit(e,t,r,i){return new c6({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ei.toString(i)}]})}_addCheck(e){return new c6({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ei.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ei.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ei.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ei.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ei.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ei.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ei.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ei.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ei.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&et.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}c6.create=e=>new c6({checks:[],typeName:ea.ZodNumber,coerce:e?.coerce||!1,...cj(e)});class c7 extends cR{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==cp.bigint)return this._getInvalidInput(e);let r=new cZ;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(cT(t=this._getOrReturnCtx(e,t),{code:cm.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(cT(t=this._getOrReturnCtx(e,t),{code:cm.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(cT(t=this._getOrReturnCtx(e,t),{code:cm.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):et.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.bigint,received:t.parsedType}),cE}gte(e,t){return this.setLimit("min",e,!0,ei.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ei.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ei.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ei.toString(t))}setLimit(e,t,r,i){return new c7({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ei.toString(i)}]})}_addCheck(e){return new c7({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ei.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ei.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ei.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ei.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ei.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}c7.create=e=>new c7({checks:[],typeName:ea.ZodBigInt,coerce:e?.coerce??!1,...cj(e)});class he extends cR{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==cp.boolean){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.boolean,received:t.parsedType}),cE}return cS(e.data)}}he.create=e=>new he({typeName:ea.ZodBoolean,coerce:e?.coerce||!1,...cj(e)});class ht extends cR{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==cp.date){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.date,received:t.parsedType}),cE}if(Number.isNaN(e.data.getTime()))return cT(this._getOrReturnCtx(e),{code:cm.invalid_date}),cE;let r=new cZ;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(cT(t=this._getOrReturnCtx(e,t),{code:cm.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(cT(t=this._getOrReturnCtx(e,t),{code:cm.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):et.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ht({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ei.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ei.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ht.create=e=>new ht({checks:[],coerce:e?.coerce||!1,typeName:ea.ZodDate,...cj(e)});class hr extends cR{_parse(e){if(this._getType(e)!==cp.symbol){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.symbol,received:t.parsedType}),cE}return cS(e.data)}}hr.create=e=>new hr({typeName:ea.ZodSymbol,...cj(e)});class hi extends cR{_parse(e){if(this._getType(e)!==cp.undefined){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.undefined,received:t.parsedType}),cE}return cS(e.data)}}hi.create=e=>new hi({typeName:ea.ZodUndefined,...cj(e)});class ha extends cR{_parse(e){if(this._getType(e)!==cp.null){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.null,received:t.parsedType}),cE}return cS(e.data)}}ha.create=e=>new ha({typeName:ea.ZodNull,...cj(e)});class hn extends cR{constructor(){super(...arguments),this._any=!0}_parse(e){return cS(e.data)}}hn.create=e=>new hn({typeName:ea.ZodAny,...cj(e)});class hs extends cR{constructor(){super(...arguments),this._unknown=!0}_parse(e){return cS(e.data)}}hs.create=e=>new hs({typeName:ea.ZodUnknown,...cj(e)});class ho extends cR{_parse(e){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.never,received:t.parsedType}),cE}}ho.create=e=>new ho({typeName:ea.ZodNever,...cj(e)});class hd extends cR{_parse(e){if(this._getType(e)!==cp.undefined){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.void,received:t.parsedType}),cE}return cS(e.data)}}hd.create=e=>new hd({typeName:ea.ZodVoid,...cj(e)});class hu extends cR{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==cp.array)return cT(t,{code:cm.invalid_type,expected:cp.array,received:t.parsedType}),cE;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(cT(t,{code:e?cm.too_big:cm.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(cT(t,{code:cm.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(cT(t,{code:cm.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new cM(t,e,t.path,r)))).then(e=>cZ.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new cM(t,e,t.path,r)));return cZ.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new hu({...this._def,minLength:{value:e,message:ei.toString(t)}})}max(e,t){return new hu({...this._def,maxLength:{value:e,message:ei.toString(t)}})}length(e,t){return new hu({...this._def,exactLength:{value:e,message:ei.toString(t)}})}nonempty(e){return this.min(1,e)}}function hl(e){if(e instanceof hc){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=hO.create(hl(i))}return new hc({...e._def,shape:()=>t})}if(e instanceof hu)return new hu({...e._def,type:hl(e.element)});if(e instanceof hO)return hO.create(hl(e.unwrap()));if(e instanceof hI)return hI.create(hl(e.unwrap()));if(e instanceof hg)return hg.create(e.items.map(e=>hl(e)));else return e}hu.create=(e,t)=>new hu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ea.ZodArray,...cj(t)});class hc extends cR{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=et.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==cp.object){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.object,received:t.parsedType}),cE}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof ho&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new cM(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof ho){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(cT(r,{code:cm.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new cM(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>cZ.mergeObjectSync(t,e)):cZ.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return ei.errToObj,new hc({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:ei.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new hc({...this._def,unknownKeys:"strip"})}passthrough(){return new hc({...this._def,unknownKeys:"passthrough"})}extend(e){return new hc({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new hc({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ea.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new hc({...this._def,catchall:e})}pick(e){let t={};for(let r of et.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new hc({...this._def,shape:()=>t})}omit(e){let t={};for(let r of et.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new hc({...this._def,shape:()=>t})}deepPartial(){return hl(this)}partial(e){let t={};for(let r of et.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new hc({...this._def,shape:()=>t})}required(e){let t={};for(let r of et.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof hO;)e=e._def.innerType;t[r]=e}return new hc({...this._def,shape:()=>t})}keyof(){return hT(et.objectKeys(this.shape))}}hc.create=(e,t)=>new hc({shape:()=>e,unknownKeys:"strip",catchall:ho.create(),typeName:ea.ZodObject,...cj(t)}),hc.strictCreate=(e,t)=>new hc({shape:()=>e,unknownKeys:"strict",catchall:ho.create(),typeName:ea.ZodObject,...cj(t)}),hc.lazycreate=(e,t)=>new hc({shape:e,unknownKeys:"strip",catchall:ho.create(),typeName:ea.ZodObject,...cj(t)});class hh extends cR{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new cg(e.ctx.common.issues));return cT(t,{code:cm.invalid_union,unionErrors:r}),cE}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new cg(e));return cT(t,{code:cm.invalid_union,unionErrors:a}),cE}}get options(){return this._def.options}}hh.create=(e,t)=>new hh({options:e,typeName:ea.ZodUnion,...cj(t)});let hp=e=>{if(e instanceof hk)return hp(e.schema);if(e instanceof hS)return hp(e.innerType());if(e instanceof hw)return[e.value];if(e instanceof hZ)return e.options;if(e instanceof hE)return et.objectValues(e.enum);else if(e instanceof hC)return hp(e._def.innerType);else if(e instanceof hi)return[void 0];else if(e instanceof ha)return[null];else if(e instanceof hO)return[void 0,...hp(e.unwrap())];else if(e instanceof hI)return[null,...hp(e.unwrap())];else if(e instanceof hj)return hp(e.unwrap());else if(e instanceof hD)return hp(e.unwrap());else if(e instanceof hN)return hp(e._def.innerType);else return[]};class hf extends cR{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==cp.object)return cT(t,{code:cm.invalid_type,expected:cp.object,received:t.parsedType}),cE;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(cT(t,{code:cm.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),cE)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=hp(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new hf({typeName:ea.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...cj(r)})}}function hm(e,t){let r=cf(e),i=cf(t);if(e===t)return{valid:!0,data:e};if(r===cp.object&&i===cp.object){let r=et.objectKeys(t),i=et.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=hm(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===cp.array&&i===cp.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=hm(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===cp.date&&i===cp.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class h_ extends cR{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(cO(e)||cO(i))return cE;let a=hm(e.value,i.value);return a.valid?((cI(e)||cI(i))&&t.dirty(),{status:t.value,value:a.data}):(cT(r,{code:cm.invalid_intersection_types}),cE)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}h_.create=(e,t,r)=>new h_({left:e,right:t,typeName:ea.ZodIntersection,...cj(r)});class hg extends cR{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==cp.array)return cT(r,{code:cm.invalid_type,expected:cp.array,received:r.parsedType}),cE;if(r.data.length<this._def.items.length)return cT(r,{code:cm.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),cE;!this._def.rest&&r.data.length>this._def.items.length&&(cT(r,{code:cm.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new cM(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>cZ.mergeArray(t,e)):cZ.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new hg({...this._def,rest:e})}}hg.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new hg({items:e,typeName:ea.ZodTuple,rest:null,...cj(t)})};class hy extends cR{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==cp.object)return cT(r,{code:cm.invalid_type,expected:cp.object,received:r.parsedType}),cE;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new cM(r,e,r.path,e)),value:n._parse(new cM(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?cZ.mergeObjectAsync(t,i):cZ.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new hy(t instanceof cR?{keyType:e,valueType:t,typeName:ea.ZodRecord,...cj(r)}:{keyType:c3.create(),valueType:e,typeName:ea.ZodRecord,...cj(t)})}}class hv extends cR{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==cp.map)return cT(r,{code:cm.invalid_type,expected:cp.map,received:r.parsedType}),cE;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new cM(r,e,r.path,[n,"key"])),value:a._parse(new cM(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return cE;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return cE;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}hv.create=(e,t,r)=>new hv({valueType:t,keyType:e,typeName:ea.ZodMap,...cj(r)});class hb extends cR{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==cp.set)return cT(r,{code:cm.invalid_type,expected:cp.set,received:r.parsedType}),cE;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(cT(r,{code:cm.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(cT(r,{code:cm.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return cE;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new cM(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new hb({...this._def,minSize:{value:e,message:ei.toString(t)}})}max(e,t){return new hb({...this._def,maxSize:{value:e,message:ei.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}hb.create=(e,t)=>new hb({valueType:e,minSize:null,maxSize:null,typeName:ea.ZodSet,...cj(t)});class hx extends cR{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==cp.function)return cT(t,{code:cm.invalid_type,expected:cp.function,received:t.parsedType}),cE;function r(e,r){return ck({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cx(),cy].filter(e=>!!e),issueData:{code:cm.invalid_arguments,argumentsError:r}})}function i(e,r){return ck({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cx(),cy].filter(e=>!!e),issueData:{code:cm.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof hA){let e=this;return cS(async function(...t){let s=new cg([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return cS(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new cg([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new cg([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new hx({...this._def,args:hg.create(e).rest(hs.create())})}returns(e){return new hx({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new hx({args:e||hg.create([]).rest(hs.create()),returns:t||hs.create(),typeName:ea.ZodFunction,...cj(r)})}}class hk extends cR{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}hk.create=(e,t)=>new hk({getter:e,typeName:ea.ZodLazy,...cj(t)});class hw extends cR{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return cT(t,{received:t.data,code:cm.invalid_literal,expected:this._def.value}),cE}return{status:"valid",value:e.data}}get value(){return this._def.value}}function hT(e,t){return new hZ({values:e,typeName:ea.ZodEnum,...cj(t)})}hw.create=(e,t)=>new hw({value:e,typeName:ea.ZodLiteral,...cj(t)});class hZ extends cR{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return cT(t,{expected:et.joinValues(r),received:t.parsedType,code:cm.invalid_type}),cE}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return cT(t,{received:t.data,code:cm.invalid_enum_value,options:r}),cE}return cS(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return hZ.create(e,{...this._def,...t})}exclude(e,t=this._def){return hZ.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}hZ.create=hT;class hE extends cR{_parse(e){let t=et.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==cp.string&&r.parsedType!==cp.number){let e=et.objectValues(t);return cT(r,{expected:et.joinValues(e),received:r.parsedType,code:cm.invalid_type}),cE}if(this._cache||(this._cache=new Set(et.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=et.objectValues(t);return cT(r,{received:r.data,code:cm.invalid_enum_value,options:e}),cE}return cS(e.data)}get enum(){return this._def.values}}hE.create=(e,t)=>new hE({values:e,typeName:ea.ZodNativeEnum,...cj(t)});class hA extends cR{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==cp.promise&&!1===t.common.async?(cT(t,{code:cm.invalid_type,expected:cp.promise,received:t.parsedType}),cE):cS((t.parsedType===cp.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}hA.create=(e,t)=>new hA({type:e,typeName:ea.ZodPromise,...cj(t)});class hS extends cR{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ea.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{cT(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return cE;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?cE:"dirty"===i.status||"dirty"===t.value?cA(i.value):i});{if("aborted"===t.value)return cE;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?cE:"dirty"===i.status||"dirty"===t.value?cA(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?cE:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?cE:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>cC(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):cE);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!cC(e))return cE;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}et.assertNever(i)}}hS.create=(e,t,r)=>new hS({schema:e,typeName:ea.ZodEffects,effect:t,...cj(r)}),hS.createWithPreprocess=(e,t,r)=>new hS({schema:t,effect:{type:"preprocess",transform:e},typeName:ea.ZodEffects,...cj(r)});class hO extends cR{_parse(e){return this._getType(e)===cp.undefined?cS(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hO.create=(e,t)=>new hO({innerType:e,typeName:ea.ZodOptional,...cj(t)});class hI extends cR{_parse(e){return this._getType(e)===cp.null?cS(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hI.create=(e,t)=>new hI({innerType:e,typeName:ea.ZodNullable,...cj(t)});class hC extends cR{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===cp.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}hC.create=(e,t)=>new hC({innerType:e,typeName:ea.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...cj(t)});class hN extends cR{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return cN(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new cg(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new cg(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hN.create=(e,t)=>new hN({innerType:e,typeName:ea.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...cj(t)});class hM extends cR{_parse(e){if(this._getType(e)!==cp.nan){let t=this._getOrReturnCtx(e);return cT(t,{code:cm.invalid_type,expected:cp.nan,received:t.parsedType}),cE}return{status:"valid",value:e.data}}}hM.create=e=>new hM({typeName:ea.ZodNaN,...cj(e)});let hP=Symbol("zod_brand");class hj extends cR{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class hR extends cR{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?cE:"dirty"===e.status?(t.dirty(),cA(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?cE:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new hR({in:e,out:t,typeName:ea.ZodPipeline})}}class hD extends cR{_parse(e){let t=this._def.innerType._parse(e),r=e=>(cC(e)&&(e.value=Object.freeze(e.value)),e);return cN(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function hL(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function hF(e,t={},r){return e?hn.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=hL(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=hL(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):hn.create()}hD.create=(e,t)=>new hD({innerType:e,typeName:ea.ZodReadonly,...cj(t)});let hB={object:hc.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ea||(ea={}));let hz=(e,t={message:`Input not instance of ${e.name}`})=>hF(t=>t instanceof e,t),h$=c3.create,hU=c6.create,hV=hM.create,hW=c7.create,hK=he.create,hq=ht.create,hG=hr.create,hH=hi.create,hY=ha.create,hJ=hn.create,hX=hs.create,hQ=ho.create,h0=hd.create,h1=hu.create,h2=hc.create,h4=hc.strictCreate,h5=hh.create,h9=hf.create,h3=h_.create,h8=hg.create,h6=hy.create,h7=hv.create,pe=hb.create,pt=hx.create,pr=hk.create,pi=hw.create,pa=hZ.create,pn=hE.create,ps=hA.create,po=hS.create,pd=hO.create,pu=hI.create,pl=hS.createWithPreprocess,pc=hR.create,ph=()=>h$().optional(),pp=()=>hU().optional(),pf=()=>hK().optional(),pm={string:e=>c3.create({...e,coerce:!0}),number:e=>c6.create({...e,coerce:!0}),boolean:e=>he.create({...e,coerce:!0}),bigint:e=>c7.create({...e,coerce:!0}),date:e=>ht.create({...e,coerce:!0})},p_=cE;e.s(["BRAND",0,hP,"NEVER",0,p_,"Schema",()=>cR,"ZodAny",()=>hn,"ZodArray",()=>hu,"ZodBigInt",()=>c7,"ZodBoolean",()=>he,"ZodBranded",()=>hj,"ZodCatch",()=>hN,"ZodDate",()=>ht,"ZodDefault",()=>hC,"ZodDiscriminatedUnion",()=>hf,"ZodEffects",()=>hS,"ZodEnum",()=>hZ,"ZodFirstPartyTypeKind",()=>ea,"ZodFunction",()=>hx,"ZodIntersection",()=>h_,"ZodLazy",()=>hk,"ZodLiteral",()=>hw,"ZodMap",()=>hv,"ZodNaN",()=>hM,"ZodNativeEnum",()=>hE,"ZodNever",()=>ho,"ZodNull",()=>ha,"ZodNullable",()=>hI,"ZodNumber",()=>c6,"ZodObject",()=>hc,"ZodOptional",()=>hO,"ZodPipeline",()=>hR,"ZodPromise",()=>hA,"ZodReadonly",()=>hD,"ZodRecord",()=>hy,"ZodSchema",()=>cR,"ZodSet",()=>hb,"ZodString",()=>c3,"ZodSymbol",()=>hr,"ZodTransformer",()=>hS,"ZodTuple",()=>hg,"ZodType",()=>cR,"ZodUndefined",()=>hi,"ZodUnion",()=>hh,"ZodUnknown",()=>hs,"ZodVoid",()=>hd,"any",()=>hJ,"array",()=>h1,"bigint",()=>hW,"boolean",()=>hK,"coerce",0,pm,"custom",()=>hF,"date",()=>hq,"datetimeRegex",()=>c2,"discriminatedUnion",()=>h9,"effect",()=>po,"enum",()=>pa,"function",()=>pt,"instanceof",()=>hz,"intersection",()=>h3,"late",0,hB,"lazy",()=>pr,"literal",()=>pi,"map",()=>h7,"nan",()=>hV,"nativeEnum",()=>pn,"never",()=>hQ,"null",()=>hY,"nullable",()=>pu,"number",()=>hU,"object",()=>h2,"oboolean",()=>pf,"onumber",()=>pp,"optional",()=>pd,"ostring",()=>ph,"pipeline",()=>pc,"preprocess",()=>pl,"promise",()=>ps,"record",()=>h6,"set",()=>pe,"strictObject",()=>h4,"string",()=>h$,"symbol",()=>hG,"transformer",()=>po,"tuple",()=>h8,"undefined",()=>hH,"union",()=>h5,"unknown",()=>hX,"void",()=>h0],990103),e.i(990103),e.i(318082),e.s(["BRAND",0,hP,"DIRTY",0,cA,"EMPTY_PATH",0,cw,"INVALID",0,cE,"NEVER",0,p_,"OK",0,cS,"ParseStatus",()=>cZ,"Schema",()=>cR,"ZodAny",()=>hn,"ZodArray",()=>hu,"ZodBigInt",()=>c7,"ZodBoolean",()=>he,"ZodBranded",()=>hj,"ZodCatch",()=>hN,"ZodDate",()=>ht,"ZodDefault",()=>hC,"ZodDiscriminatedUnion",()=>hf,"ZodEffects",()=>hS,"ZodEnum",()=>hZ,"ZodError",()=>cg,"ZodFirstPartyTypeKind",()=>ea,"ZodFunction",()=>hx,"ZodIntersection",()=>h_,"ZodIssueCode",0,cm,"ZodLazy",()=>hk,"ZodLiteral",()=>hw,"ZodMap",()=>hv,"ZodNaN",()=>hM,"ZodNativeEnum",()=>hE,"ZodNever",()=>ho,"ZodNull",()=>ha,"ZodNullable",()=>hI,"ZodNumber",()=>c6,"ZodObject",()=>hc,"ZodOptional",()=>hO,"ZodParsedType",0,cp,"ZodPipeline",()=>hR,"ZodPromise",()=>hA,"ZodReadonly",()=>hD,"ZodRecord",()=>hy,"ZodSchema",()=>cR,"ZodSet",()=>hb,"ZodString",()=>c3,"ZodSymbol",()=>hr,"ZodTransformer",()=>hS,"ZodTuple",()=>hg,"ZodType",()=>cR,"ZodUndefined",()=>hi,"ZodUnion",()=>hh,"ZodUnknown",()=>hs,"ZodVoid",()=>hd,"addIssueToContext",()=>cT,"any",()=>hJ,"array",()=>h1,"bigint",()=>hW,"boolean",()=>hK,"coerce",0,pm,"custom",()=>hF,"date",()=>hq,"datetimeRegex",()=>c2,"defaultErrorMap",0,cy,"discriminatedUnion",()=>h9,"effect",()=>po,"enum",()=>pa,"function",()=>pt,"getErrorMap",()=>cx,"getParsedType",0,cf,"instanceof",()=>hz,"intersection",()=>h3,"isAborted",0,cO,"isAsync",0,cN,"isDirty",0,cI,"isValid",0,cC,"late",0,hB,"lazy",()=>pr,"literal",()=>pi,"makeIssue",0,ck,"map",()=>h7,"nan",()=>hV,"nativeEnum",()=>pn,"never",()=>hQ,"null",()=>hY,"nullable",()=>pu,"number",()=>hU,"object",()=>h2,"objectUtil",()=>er,"oboolean",()=>pf,"onumber",()=>pp,"optional",()=>pd,"ostring",()=>ph,"pipeline",()=>pc,"preprocess",()=>pl,"promise",()=>ps,"quotelessJson",0,c_,"record",()=>h6,"set",()=>pe,"setErrorMap",()=>cb,"strictObject",()=>h4,"string",()=>h$,"symbol",()=>hG,"transformer",()=>po,"tuple",()=>h8,"undefined",()=>hH,"union",()=>h5,"unknown",()=>hX,"util",()=>et,"void",()=>h0],53948);var pg=e.i(53948),pg=pg;function py(e,t,r,i,a,n,s){this.widthOriginal=Math.abs(Math.floor(e)||0),this.heightOriginal=Math.abs(Math.floor(t)||0),this.targetWidth=Math.abs(Math.floor(r)||0),this.targetHeight=Math.abs(Math.floor(i)||0),this.colorChannels=a?4:3,this.interpolationPass=!!n,this.resizeCallback="function"==typeof s?s:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}py.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw console.log(this),Error("Invalid settings specified for the resizer.")},py.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},py.prototype._resizeWidthInterpolatedRGBChannels=function(e,t){let r,i,a=t?4:3,n=this.ratioWeightWidthPass,s=this.widthBuffer,o=0,d=0,u=0,l=0,c=0;for(r=0;o<1/3;r+=a,o+=n)for(d=r,u=0;d<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,d+=this.targetWidthMultipliedByChannels)s[d]=e[u],s[d+1]=e[u+1],s[d+2]=e[u+2],t&&(s[d+3]=e[u+3]);for(o-=1/3,i=this.widthOriginal-1;o<i;r+=a,o+=n)for(l=1-(c=o%1),d=r,u=Math.floor(o)*a;d<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,d+=this.targetWidthMultipliedByChannels)s[d+0]=e[u+0]*l+e[u+a+0]*c,s[d+1]=e[u+1]*l+e[u+a+1]*c,s[d+2]=e[u+2]*l+e[u+a+2]*c,t&&(s[d+3]=e[u+3]*l+e[u+a+3]*c);for(i=this.originalWidthMultipliedByChannels-a;r<this.targetWidthMultipliedByChannels;r+=a)for(d=r,u=i;d<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,d+=this.targetWidthMultipliedByChannels)s[d]=e[u],s[d+1]=e[u+1],s[d+2]=e[u+2],t&&(s[d+3]=e[u+3]);return s},py.prototype._resizeWidthRGBChannels=function(e,t){let r=t?4:3,i=this.ratioWeightWidthPass,a=1/i,n=this.originalWidthMultipliedByChannels-r+1,s=this.targetWidthMultipliedByChannels-r+1,o=this.outputWidthWorkBench,d=this.widthBuffer,u=this.outputWidthWorkBenchOpaquePixelsCount,l=0,c=0,h=0,p=0,f=0,m=0,_=0,g=1,y=0,v=0,b=0,x=0;do{for(f=0;f<this.originalHeightMultipliedByChannels;)o[f++]=0,o[f++]=0,o[f++]=0,t&&(o[f++]=0,u[f/r-1]=0);l=i;do{for(f=0,g=Math.min(l,c=1+h-p),m=h;f<this.originalHeightMultipliedByChannels;m+=n)y=e[m],v=e[++m],b=e[++m],x=t?e[++m]:255,o[f++]+=(x?y:0)*g,o[f++]+=(x?v:0)*g,o[f++]+=(x?b:0)*g,t&&(o[f++]+=x*g,u[f/r-1]+=x?g:0);if(l>=c)h+=r,p=h,l-=c;else{p+=l;break}}while(l>0&&h<this.originalWidthMultipliedByChannels)for(f=0,m=_;f<this.originalHeightMultipliedByChannels;m+=s)l=t?u[f/r]:1,g=t?l?1/l:0:a,d[m]=o[f++]*g,d[++m]=o[f++]*g,d[++m]=o[f++]*g,t&&(d[++m]=o[f++]*a);_+=r}while(_<this.targetWidthMultipliedByChannels)return d},py.prototype._resizeHeightRGBChannels=function(e,t){let r=this.ratioWeightHeightPass,i=1/r,a=this.outputHeightWorkBench,n=this.heightBuffer,s=this.outputHeightWorkBenchOpaquePixelsCount,o=0,d=0,u=0,l=0,c=0,h=0,p=0,f=1,m=0,_=0,g=0,y=0;do{for(c=0;c<this.targetWidthMultipliedByChannels;)a[c++]=0,a[c++]=0,a[c++]=0,t&&(a[c++]=0,s[c/4-1]=0);o=r;do{for(c=0,f=Math.min(o,d=1+u-l),p=u;c<this.targetWidthMultipliedByChannels;)m=e[p++],_=e[p++],g=e[p++],y=t?e[p++]:255,a[c++]+=(y?m:0)*f,a[c++]+=(y?_:0)*f,a[c++]+=(y?g:0)*f,t&&(a[c++]+=y*f,s[c/4-1]+=y?f:0);if(o>=d)l=u=p,o-=d;else{l+=o;break}}while(o>0&&u<this.widthPassResultSize)for(c=0;c<this.targetWidthMultipliedByChannels;)o=t?s[c/4]:1,f=t?o?1/o:0:i,n[h++]=Math.round(a[c++]*f),n[h++]=Math.round(a[c++]*f),n[h++]=Math.round(a[c++]*f),t&&(n[h++]=Math.round(a[c++]*i))}while(h<this.finalResultSize)return n},py.prototype.resizeWidthInterpolatedRGB=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!1)},py.prototype.resizeWidthInterpolatedRGBA=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!0)},py.prototype.resizeWidthRGB=function(e){return this._resizeWidthRGBChannels(e,!1)},py.prototype.resizeWidthRGBA=function(e){return this._resizeWidthRGBChannels(e,!0)},py.prototype.resizeHeightInterpolated=function(e){let t,r=this.ratioWeightHeightPass,i=this.heightBuffer,a=0,n=0,s=0,o=0,d=0,u=0,l=0;for(;a<1/3;a+=r)for(s=0;s<this.targetWidthMultipliedByChannels;)i[n++]=Math.round(e[s++]);for(a-=1/3,t=this.heightOriginal-1;a<t;a+=r)for(s=0,u=1-(l=a%1),d=(o=Math.floor(a)*this.targetWidthMultipliedByChannels)+this.targetWidthMultipliedByChannels;s<this.targetWidthMultipliedByChannels;++s)i[n++]=Math.round(e[o++]*u+e[d++]*l);for(;n<this.finalResultSize;)for(s=0,o=t*this.targetWidthMultipliedByChannels;s<this.targetWidthMultipliedByChannels;++s)i[n++]=Math.round(e[o++]);return i},py.prototype.resizeHeightRGB=function(e){return this._resizeHeightRGBChannels(e,!1)},py.prototype.resizeHeightRGBA=function(e){return this._resizeHeightRGBChannels(e,!0)},py.prototype.resize=function(e){this.resizeCallback(this.resizeHeight(this.resizeWidth(e)))},py.prototype.bypassResizer=function(e){return e},py.prototype.initializeFirstPassBuffers=function(e){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),!e&&(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},py.prototype.initializeSecondPassBuffers=function(e){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),!e&&(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},py.prototype.generateFloatBuffer=function(e){try{return new Float32Array(e)}catch(e){return console.error(e),[]}},py.prototype.generateFloat64Buffer=function(e){try{return new Float64Array(e)}catch(e){return console.error(e),[]}},py.prototype.generateUint8Buffer=function(e){try{return new Uint8Array(e)}catch(e){return console.error(e),[]}};let pv=py,pb={nearestNeighbor(e,t){let r=e.width,i=e.height,a=t.width,n=t.height,s=e.data,o=t.data;for(let e=0;e<n;e++)for(let t=0;t<a;t++){let d=(e*a+t)*4,u=Math.floor(t*r/a),l=(Math.floor(e*i/n)*r+u)*4;o[d++]=s[l++],o[d++]=s[l++],o[d++]=s[l++],o[d++]=s[l++]}},bilinearInterpolation(e,t){let r=e.width,i=e.height,a=t.width,n=t.height,s=e.data,o=t.data,d=function(e,t,r,i,a){return t===i?r:Math.round((e-t)*a+(i-e)*r)},u=function(e,t,i,a,n,u,l,c){let h=(l*r+a)*4+t,p=(l*r+n)*4+t,f=d(i,a,s[h],n,s[p]);if(c===l)o[e+t]=f;else{h=(c*r+a)*4+t,p=(c*r+n)*4+t;let m=d(i,a,s[h],n,s[p]);o[e+t]=d(u,l,f,c,m)}};for(let e=0;e<n;e++)for(let t=0;t<a;t++){let s=(e*a+t)*4,o=t*r/a,d=Math.floor(o),l=Math.min(Math.ceil(o),r-1),c=e*i/n,h=Math.floor(c),p=Math.min(Math.ceil(c),i-1);u(s,0,o,d,l,c,h,p),u(s,1,o,d,l,c,h,p),u(s,2,o,d,l,c,h,p),u(s,3,o,d,l,c,h,p)}},_interpolate2D(e,t,r,i){let a=e.data,n=t.data,s=e.width,o=e.height,d=t.width,u=t.height,l=Math.max(1,Math.floor(s/d)),c=d*l,h=Math.max(1,Math.floor(o/u)),p=u*h,f=Buffer.alloc(c*o*4);for(let e=0;e<o;e++)for(let t=0;t<c;t++){let r=t*(s-1)/c,n=Math.floor(r),o=r-n,d=(e*s+n)*4,u=(e*c+t)*4;for(let e=0;e<4;e++){let t=d+e,r=n>0?a[t-4]:2*a[t]-a[t+4],l=a[t],c=a[t+4],h=n<s-2?a[t+8]:2*a[t+4]-a[t];f[u+e]=i(r,l,c,h,o)}}let m=Buffer.alloc(c*p*4);for(let e=0;e<p;e++)for(let t=0;t<c;t++){let r=e*(o-1)/p,a=Math.floor(r),n=r-a,s=(a*c+t)*4,d=(e*c+t)*4;for(let e=0;e<4;e++){let t=s+e,r=a>0?f[t-4*c]:2*f[t]-f[t+4*c],u=f[t],l=f[t+4*c],h=a<o-2?f[t+8*c]:2*f[t+4*c]-f[t];m[d+e]=i(r,u,l,h,n)}}let _=l*h;if(_>1)for(let e=0;e<u;e++)for(let t=0;t<d;t++){let r=0,i=0,a=0,s=0,o=0;for(let n=0;n<h;n++){let d=e*h+n;for(let e=0;e<l;e++){let n=(d*c+(t*l+e))*4,u=m[n+3];u&&(r+=m[n],i+=m[n+1],a+=m[n+2],o++),s+=u}}let u=(e*d+t)*4;n[u]=o?Math.round(r/o):0,n[u+1]=o?Math.round(i/o):0,n[u+2]=o?Math.round(a/o):0,n[u+3]=Math.round(s/_)}else t.data=m},bicubicInterpolation(e,t,r){let i=function(e,t,r,i,a){let n=i-r-e+t,s=e-t-n;return Math.max(0,Math.min(255,a*a*a*n+a*a*s+(r-e)*a+t))};return this._interpolate2D(e,t,r,i)},hermiteInterpolation(e,t,r){let i=function(e,t,r,i,a){let n=t,s=.5*(r-e),o=e-2.5*t+2*r-.5*i;return Math.max(0,Math.min(255,Math.round((((.5*(i-e)+1.5*(t-r))*a+o)*a+s)*a+n)))};return this._interpolate2D(e,t,r,i)},bezierInterpolation(e,t,r){let i=function(e,t,r,i,a){let n=t+(r-e)/4,s=r-(i-t)/4,o=1-a;return Math.max(0,Math.min(255,Math.round(t*o*o*o+3*n*o*o*a+3*s*o*a*a+r*a*a*a)))};return this._interpolate2D(e,t,r,i)}},px=pg.union([pg.object({w:pg.number().min(0),h:pg.number().min(0).optional(),mode:pg.nativeEnum(ee).optional()}),pg.object({w:pg.number().min(0).optional(),h:pg.number().min(0),mode:pg.nativeEnum(ee).optional()})]),pk=pg.object({w:pg.number().min(0),h:pg.number().min(0),mode:pg.nativeEnum(ee).optional()}),pw=pg.object({f:pg.number().min(0),mode:pg.nativeEnum(ee).optional()}),pT={resize(e,t){let r,i,{mode:a}=px.parse(t);if("number"==typeof t.w)r=t.w,i=t.h??e.bitmap.height*(r/e.bitmap.width);else if("number"==typeof t.h)i=t.h,r=t.w??e.bitmap.width*(i/e.bitmap.height);else throw Error("w must be a number");if(r=Math.round(r)||1,i=Math.round(i)||1,a&&"function"==typeof pb[a]){let t={data:Buffer.alloc(r*i*4),width:r,height:i};pb[a](e.bitmap,t),e.bitmap=t}else new pv(e.bitmap.width,e.bitmap.height,r,i,!0,!0,t=>{e.bitmap.data=Buffer.from(t),e.bitmap.width=r,e.bitmap.height=i}).resize(e.bitmap.data);return e},scale(e,t){let{f:r,mode:i}="number"==typeof t?{f:t}:pw.parse(t),a=e.bitmap.width*r,n=e.bitmap.height*r;return this.resize(e,{w:a,h:n,mode:i})},scaleToFit(e,t){let{h:r,w:i,mode:a}=pk.parse(t),n=i/r>e.bitmap.width/e.bitmap.height?r/e.bitmap.height:i/e.bitmap.width;return this.scale(e,{f:n,mode:a})}};e.s([],61699),e.i(61699),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(en||(en={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(es||(es={}));let pZ=en.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pE=e=>{switch(typeof e){case"undefined":return pZ.undefined;case"string":return pZ.string;case"number":return Number.isNaN(e)?pZ.nan:pZ.number;case"boolean":return pZ.boolean;case"function":return pZ.function;case"bigint":return pZ.bigint;case"symbol":return pZ.symbol;case"object":if(Array.isArray(e))return pZ.array;if(null===e)return pZ.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return pZ.promise;if("undefined"!=typeof Map&&e instanceof Map)return pZ.map;if("undefined"!=typeof Set&&e instanceof Set)return pZ.set;if("undefined"!=typeof Date&&e instanceof Date)return pZ.date;return pZ.object;default:return pZ.unknown}};e.s(["ZodParsedType",0,pZ,"getParsedType",0,pE,"objectUtil",()=>es,"util",()=>en],352689);let pA=en.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),pS=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class pO extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof pO))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,en.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}pO.create=e=>new pO(e),e.s(["ZodError",()=>pO,"ZodIssueCode",0,pA,"quotelessJson",0,pS],89234);let pI=(e,t)=>{let r;switch(e.code){case pA.invalid_type:r=e.received===pZ.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case pA.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,en.jsonStringifyReplacer)}`;break;case pA.unrecognized_keys:r=`Unrecognized key(s) in object: ${en.joinValues(e.keys,", ")}`;break;case pA.invalid_union:r="Invalid input";break;case pA.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${en.joinValues(e.options)}`;break;case pA.invalid_enum_value:r=`Invalid enum value. Expected ${en.joinValues(e.options)}, received '${e.received}'`;break;case pA.invalid_arguments:r="Invalid function arguments";break;case pA.invalid_return_type:r="Invalid function return type";break;case pA.invalid_date:r="Invalid date";break;case pA.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:en.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case pA.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case pA.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case pA.custom:r="Invalid input";break;case pA.invalid_intersection_types:r="Intersection results could not be merged";break;case pA.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case pA.not_finite:r="Number must be finite";break;default:r=t.defaultError,en.assertNever(e)}return{message:r}},pC=pI;function pN(e){pC=e}function pM(){return pC}e.s(["getErrorMap",()=>pM,"setErrorMap",()=>pN],441983),e.i(441983),e.s(["defaultErrorMap",0,pI,"getErrorMap",()=>pM,"setErrorMap",()=>pN],366349),e.i(366349);let pP=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},pj=[];function pR(e,t){let r=pM(),i=pP({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===pI?void 0:pI].filter(e=>!!e)});e.common.issues.push(i)}class pD{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return pL;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return pD.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return pL;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let pL=Object.freeze({status:"aborted"}),pF=e=>({status:"dirty",value:e}),pB=e=>({status:"valid",value:e}),pz=e=>"aborted"===e.status,p$=e=>"dirty"===e.status,pU=e=>"valid"===e.status,pV=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,pF,"EMPTY_PATH",0,pj,"INVALID",0,pL,"OK",0,pB,"ParseStatus",()=>pD,"addIssueToContext",()=>pR,"isAborted",0,pz,"isAsync",0,pV,"isDirty",0,p$,"isValid",0,pU,"makeIssue",0,pP],939102),e.i(939102),e.s([],595095),e.i(595095),e.i(352689),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(eo||(eo={}));class pW{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let pK=(e,t)=>{if(pU(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new pO(e.common.issues);return this._error=t,this._error}}};function pq(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class pG{get description(){return this._def.description}_getType(e){return pE(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:pE(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pD,ctx:{common:e.parent.common,data:e.data,parsedType:pE(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(pV(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pE(e)},i=this._parseSync({data:e,path:r.path,parent:r});return pK(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pE(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return pU(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>pU(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pE(e)},i=this._parse({data:e,path:r.path,parent:r});return pK(r,await (pV(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:pA.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new fB({schema:this,typeName:ed.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return fz.create(this,this._def)}nullable(){return f$.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fx.create(this)}promise(){return fF.create(this,this._def)}or(e){return fT.create([this,e],this._def)}and(e){return fS.create(this,e,this._def)}transform(e){return new fB({...pq(this._def),schema:this,typeName:ed.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new fU({...pq(this._def),innerType:this,defaultValue:t,typeName:ed.ZodDefault})}brand(){return new fq({typeName:ed.ZodBranded,type:this,...pq(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new fV({...pq(this._def),innerType:this,catchValue:t,typeName:ed.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return fG.create(this,e)}readonly(){return fH.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let pH=/^c[^\s-]{8,}$/i,pY=/^[0-9a-z]+$/,pJ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pQ=/^[a-z0-9_-]{21}$/i,p0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,p1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,p2=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,p4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",p5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,p9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,p3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,p8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,p6=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,p7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fe="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ft=RegExp(`^${fe}$`);function fr(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function fi(e){return RegExp(`^${fr(e)}$`)}function fa(e){let t=`${fe}T${fr(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function fn(e,t){return!!(("v4"===t||!t)&&p5.test(e)||("v6"===t||!t)&&p3.test(e))}function fs(e,t){if(!p0.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function fo(e,t){return!!(("v4"===t||!t)&&p9.test(e)||("v6"===t||!t)&&p8.test(e))}class fd extends pG{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pZ.string){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.string,received:t.parsedType}),pL}let r=new pD;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(pR(t=this._getOrReturnCtx(e,t),{code:pA.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(pR(t=this._getOrReturnCtx(e,t),{code:pA.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?pR(t,{code:pA.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&pR(t,{code:pA.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)p2.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{validation:"email",code:pA.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)s||(s=RegExp(p4,"u")),s.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:pA.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)pX.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:pA.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)pQ.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:pA.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)pH.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:pA.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)pY.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:pA.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)pJ.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:pA.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{pR(t=this._getOrReturnCtx(e,t),{validation:"url",code:pA.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{validation:"regex",code:pA.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(pR(t=this._getOrReturnCtx(e,t),{code:pA.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(pR(t=this._getOrReturnCtx(e,t),{code:pA.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(pR(t=this._getOrReturnCtx(e,t),{code:pA.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?fa(i).test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{code:pA.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?ft.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{code:pA.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?fi(i).test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{code:pA.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?p1.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{validation:"duration",code:pA.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?fn(e.data,i.version)||(pR(t=this._getOrReturnCtx(e,t),{validation:"ip",code:pA.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?fs(e.data,i.alg)||(pR(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:pA.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?fo(e.data,i.version)||(pR(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:pA.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?p6.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{validation:"base64",code:pA.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?p7.test(e.data)||(pR(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:pA.invalid_string,message:i.message}),r.dirty()):en.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:pA.invalid_string,...eo.errToObj(r)})}_addCheck(e){return new fd({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...eo.errToObj(e)})}url(e){return this._addCheck({kind:"url",...eo.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...eo.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...eo.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...eo.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...eo.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...eo.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...eo.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...eo.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...eo.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...eo.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...eo.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...eo.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...eo.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...eo.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...eo.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...eo.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...eo.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...eo.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...eo.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...eo.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...eo.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...eo.errToObj(t)})}nonempty(e){return this.min(1,eo.errToObj(e))}trim(){return new fd({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fd({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fd({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function fu(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}fd.create=e=>new fd({checks:[],typeName:ed.ZodString,coerce:e?.coerce??!1,...pq(e)});class fl extends pG{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pZ.number){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.number,received:t.parsedType}),pL}let r=new pD;for(let i of this._def.checks)"int"===i.kind?en.isInteger(e.data)||(pR(t=this._getOrReturnCtx(e,t),{code:pA.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(pR(t=this._getOrReturnCtx(e,t),{code:pA.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(pR(t=this._getOrReturnCtx(e,t),{code:pA.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==fu(e.data,i.value)&&(pR(t=this._getOrReturnCtx(e,t),{code:pA.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(pR(t=this._getOrReturnCtx(e,t),{code:pA.not_finite,message:i.message}),r.dirty()):en.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,eo.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eo.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eo.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eo.toString(t))}setLimit(e,t,r,i){return new fl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eo.toString(i)}]})}_addCheck(e){return new fl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:eo.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:eo.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:eo.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:eo.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:eo.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eo.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:eo.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:eo.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:eo.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&en.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}fl.create=e=>new fl({checks:[],typeName:ed.ZodNumber,coerce:e?.coerce||!1,...pq(e)});class fc extends pG{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pZ.bigint)return this._getInvalidInput(e);let r=new pD;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(pR(t=this._getOrReturnCtx(e,t),{code:pA.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(pR(t=this._getOrReturnCtx(e,t),{code:pA.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(pR(t=this._getOrReturnCtx(e,t),{code:pA.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):en.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.bigint,received:t.parsedType}),pL}gte(e,t){return this.setLimit("min",e,!0,eo.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eo.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eo.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eo.toString(t))}setLimit(e,t,r,i){return new fc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eo.toString(i)}]})}_addCheck(e){return new fc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:eo.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:eo.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:eo.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:eo.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eo.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}fc.create=e=>new fc({checks:[],typeName:ed.ZodBigInt,coerce:e?.coerce??!1,...pq(e)});class fh extends pG{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pZ.boolean){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.boolean,received:t.parsedType}),pL}return pB(e.data)}}fh.create=e=>new fh({typeName:ed.ZodBoolean,coerce:e?.coerce||!1,...pq(e)});class fp extends pG{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pZ.date){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.date,received:t.parsedType}),pL}if(Number.isNaN(e.data.getTime()))return pR(this._getOrReturnCtx(e),{code:pA.invalid_date}),pL;let r=new pD;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(pR(t=this._getOrReturnCtx(e,t),{code:pA.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(pR(t=this._getOrReturnCtx(e,t),{code:pA.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):en.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fp({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:eo.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:eo.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}fp.create=e=>new fp({checks:[],coerce:e?.coerce||!1,typeName:ed.ZodDate,...pq(e)});class ff extends pG{_parse(e){if(this._getType(e)!==pZ.symbol){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.symbol,received:t.parsedType}),pL}return pB(e.data)}}ff.create=e=>new ff({typeName:ed.ZodSymbol,...pq(e)});class fm extends pG{_parse(e){if(this._getType(e)!==pZ.undefined){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.undefined,received:t.parsedType}),pL}return pB(e.data)}}fm.create=e=>new fm({typeName:ed.ZodUndefined,...pq(e)});class f_ extends pG{_parse(e){if(this._getType(e)!==pZ.null){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.null,received:t.parsedType}),pL}return pB(e.data)}}f_.create=e=>new f_({typeName:ed.ZodNull,...pq(e)});class fg extends pG{constructor(){super(...arguments),this._any=!0}_parse(e){return pB(e.data)}}fg.create=e=>new fg({typeName:ed.ZodAny,...pq(e)});class fy extends pG{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pB(e.data)}}fy.create=e=>new fy({typeName:ed.ZodUnknown,...pq(e)});class fv extends pG{_parse(e){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.never,received:t.parsedType}),pL}}fv.create=e=>new fv({typeName:ed.ZodNever,...pq(e)});class fb extends pG{_parse(e){if(this._getType(e)!==pZ.undefined){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.void,received:t.parsedType}),pL}return pB(e.data)}}fb.create=e=>new fb({typeName:ed.ZodVoid,...pq(e)});class fx extends pG{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==pZ.array)return pR(t,{code:pA.invalid_type,expected:pZ.array,received:t.parsedType}),pL;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(pR(t,{code:e?pA.too_big:pA.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(pR(t,{code:pA.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(pR(t,{code:pA.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new pW(t,e,t.path,r)))).then(e=>pD.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new pW(t,e,t.path,r)));return pD.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new fx({...this._def,minLength:{value:e,message:eo.toString(t)}})}max(e,t){return new fx({...this._def,maxLength:{value:e,message:eo.toString(t)}})}length(e,t){return new fx({...this._def,exactLength:{value:e,message:eo.toString(t)}})}nonempty(e){return this.min(1,e)}}function fk(e){if(e instanceof fw){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=fz.create(fk(i))}return new fw({...e._def,shape:()=>t})}if(e instanceof fx)return new fx({...e._def,type:fk(e.element)});if(e instanceof fz)return fz.create(fk(e.unwrap()));if(e instanceof f$)return f$.create(fk(e.unwrap()));if(e instanceof fO)return fO.create(e.items.map(e=>fk(e)));else return e}fx.create=(e,t)=>new fx({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ed.ZodArray,...pq(t)});class fw extends pG{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=en.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==pZ.object){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.object,received:t.parsedType}),pL}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof fv&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new pW(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof fv){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(pR(r,{code:pA.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new pW(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>pD.mergeObjectSync(t,e)):pD.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return eo.errToObj,new fw({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:eo.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new fw({...this._def,unknownKeys:"strip"})}passthrough(){return new fw({...this._def,unknownKeys:"passthrough"})}extend(e){return new fw({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new fw({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ed.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new fw({...this._def,catchall:e})}pick(e){let t={};for(let r of en.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new fw({...this._def,shape:()=>t})}omit(e){let t={};for(let r of en.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new fw({...this._def,shape:()=>t})}deepPartial(){return fk(this)}partial(e){let t={};for(let r of en.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new fw({...this._def,shape:()=>t})}required(e){let t={};for(let r of en.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof fz;)e=e._def.innerType;t[r]=e}return new fw({...this._def,shape:()=>t})}keyof(){return fR(en.objectKeys(this.shape))}}fw.create=(e,t)=>new fw({shape:()=>e,unknownKeys:"strip",catchall:fv.create(),typeName:ed.ZodObject,...pq(t)}),fw.strictCreate=(e,t)=>new fw({shape:()=>e,unknownKeys:"strict",catchall:fv.create(),typeName:ed.ZodObject,...pq(t)}),fw.lazycreate=(e,t)=>new fw({shape:e,unknownKeys:"strip",catchall:fv.create(),typeName:ed.ZodObject,...pq(t)});class fT extends pG{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new pO(e.ctx.common.issues));return pR(t,{code:pA.invalid_union,unionErrors:r}),pL}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new pO(e));return pR(t,{code:pA.invalid_union,unionErrors:a}),pL}}get options(){return this._def.options}}fT.create=(e,t)=>new fT({options:e,typeName:ed.ZodUnion,...pq(t)});let fZ=e=>{if(e instanceof fP)return fZ(e.schema);if(e instanceof fB)return fZ(e.innerType());if(e instanceof fj)return[e.value];if(e instanceof fD)return e.options;if(e instanceof fL)return en.objectValues(e.enum);else if(e instanceof fU)return fZ(e._def.innerType);else if(e instanceof fm)return[void 0];else if(e instanceof f_)return[null];else if(e instanceof fz)return[void 0,...fZ(e.unwrap())];else if(e instanceof f$)return[null,...fZ(e.unwrap())];else if(e instanceof fq)return fZ(e.unwrap());else if(e instanceof fH)return fZ(e.unwrap());else if(e instanceof fV)return fZ(e._def.innerType);else return[]};class fE extends pG{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==pZ.object)return pR(t,{code:pA.invalid_type,expected:pZ.object,received:t.parsedType}),pL;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(pR(t,{code:pA.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),pL)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=fZ(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new fE({typeName:ed.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...pq(r)})}}function fA(e,t){let r=pE(e),i=pE(t);if(e===t)return{valid:!0,data:e};if(r===pZ.object&&i===pZ.object){let r=en.objectKeys(t),i=en.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=fA(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===pZ.array&&i===pZ.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=fA(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===pZ.date&&i===pZ.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class fS extends pG{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(pz(e)||pz(i))return pL;let a=fA(e.value,i.value);return a.valid?((p$(e)||p$(i))&&t.dirty(),{status:t.value,value:a.data}):(pR(r,{code:pA.invalid_intersection_types}),pL)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}fS.create=(e,t,r)=>new fS({left:e,right:t,typeName:ed.ZodIntersection,...pq(r)});class fO extends pG{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==pZ.array)return pR(r,{code:pA.invalid_type,expected:pZ.array,received:r.parsedType}),pL;if(r.data.length<this._def.items.length)return pR(r,{code:pA.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pL;!this._def.rest&&r.data.length>this._def.items.length&&(pR(r,{code:pA.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new pW(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>pD.mergeArray(t,e)):pD.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new fO({...this._def,rest:e})}}fO.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new fO({items:e,typeName:ed.ZodTuple,rest:null,...pq(t)})};class fI extends pG{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==pZ.object)return pR(r,{code:pA.invalid_type,expected:pZ.object,received:r.parsedType}),pL;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new pW(r,e,r.path,e)),value:n._parse(new pW(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?pD.mergeObjectAsync(t,i):pD.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new fI(t instanceof pG?{keyType:e,valueType:t,typeName:ed.ZodRecord,...pq(r)}:{keyType:fd.create(),valueType:e,typeName:ed.ZodRecord,...pq(t)})}}class fC extends pG{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==pZ.map)return pR(r,{code:pA.invalid_type,expected:pZ.map,received:r.parsedType}),pL;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new pW(r,e,r.path,[n,"key"])),value:a._parse(new pW(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return pL;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return pL;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}fC.create=(e,t,r)=>new fC({valueType:t,keyType:e,typeName:ed.ZodMap,...pq(r)});class fN extends pG{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==pZ.set)return pR(r,{code:pA.invalid_type,expected:pZ.set,received:r.parsedType}),pL;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(pR(r,{code:pA.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(pR(r,{code:pA.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return pL;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new pW(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new fN({...this._def,minSize:{value:e,message:eo.toString(t)}})}max(e,t){return new fN({...this._def,maxSize:{value:e,message:eo.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}fN.create=(e,t)=>new fN({valueType:e,minSize:null,maxSize:null,typeName:ed.ZodSet,...pq(t)});class fM extends pG{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==pZ.function)return pR(t,{code:pA.invalid_type,expected:pZ.function,received:t.parsedType}),pL;function r(e,r){return pP({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,pM(),pI].filter(e=>!!e),issueData:{code:pA.invalid_arguments,argumentsError:r}})}function i(e,r){return pP({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,pM(),pI].filter(e=>!!e),issueData:{code:pA.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof fF){let e=this;return pB(async function(...t){let s=new pO([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return pB(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new pO([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new pO([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fM({...this._def,args:fO.create(e).rest(fy.create())})}returns(e){return new fM({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new fM({args:e||fO.create([]).rest(fy.create()),returns:t||fy.create(),typeName:ed.ZodFunction,...pq(r)})}}class fP extends pG{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}fP.create=(e,t)=>new fP({getter:e,typeName:ed.ZodLazy,...pq(t)});class fj extends pG{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return pR(t,{received:t.data,code:pA.invalid_literal,expected:this._def.value}),pL}return{status:"valid",value:e.data}}get value(){return this._def.value}}function fR(e,t){return new fD({values:e,typeName:ed.ZodEnum,...pq(t)})}fj.create=(e,t)=>new fj({value:e,typeName:ed.ZodLiteral,...pq(t)});class fD extends pG{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return pR(t,{expected:en.joinValues(r),received:t.parsedType,code:pA.invalid_type}),pL}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return pR(t,{received:t.data,code:pA.invalid_enum_value,options:r}),pL}return pB(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return fD.create(e,{...this._def,...t})}exclude(e,t=this._def){return fD.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}fD.create=fR;class fL extends pG{_parse(e){let t=en.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==pZ.string&&r.parsedType!==pZ.number){let e=en.objectValues(t);return pR(r,{expected:en.joinValues(e),received:r.parsedType,code:pA.invalid_type}),pL}if(this._cache||(this._cache=new Set(en.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=en.objectValues(t);return pR(r,{received:r.data,code:pA.invalid_enum_value,options:e}),pL}return pB(e.data)}get enum(){return this._def.values}}fL.create=(e,t)=>new fL({values:e,typeName:ed.ZodNativeEnum,...pq(t)});class fF extends pG{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==pZ.promise&&!1===t.common.async?(pR(t,{code:pA.invalid_type,expected:pZ.promise,received:t.parsedType}),pL):pB((t.parsedType===pZ.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}fF.create=(e,t)=>new fF({type:e,typeName:ed.ZodPromise,...pq(t)});class fB extends pG{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ed.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{pR(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return pL;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?pL:"dirty"===i.status||"dirty"===t.value?pF(i.value):i});{if("aborted"===t.value)return pL;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?pL:"dirty"===i.status||"dirty"===t.value?pF(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?pL:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?pL:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>pU(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):pL);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!pU(e))return pL;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}en.assertNever(i)}}fB.create=(e,t,r)=>new fB({schema:e,typeName:ed.ZodEffects,effect:t,...pq(r)}),fB.createWithPreprocess=(e,t,r)=>new fB({schema:t,effect:{type:"preprocess",transform:e},typeName:ed.ZodEffects,...pq(r)});class fz extends pG{_parse(e){return this._getType(e)===pZ.undefined?pB(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fz.create=(e,t)=>new fz({innerType:e,typeName:ed.ZodOptional,...pq(t)});class f$ extends pG{_parse(e){return this._getType(e)===pZ.null?pB(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}f$.create=(e,t)=>new f$({innerType:e,typeName:ed.ZodNullable,...pq(t)});class fU extends pG{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===pZ.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}fU.create=(e,t)=>new fU({innerType:e,typeName:ed.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...pq(t)});class fV extends pG{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return pV(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new pO(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new pO(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}fV.create=(e,t)=>new fV({innerType:e,typeName:ed.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...pq(t)});class fW extends pG{_parse(e){if(this._getType(e)!==pZ.nan){let t=this._getOrReturnCtx(e);return pR(t,{code:pA.invalid_type,expected:pZ.nan,received:t.parsedType}),pL}return{status:"valid",value:e.data}}}fW.create=e=>new fW({typeName:ed.ZodNaN,...pq(e)});let fK=Symbol("zod_brand");class fq extends pG{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class fG extends pG{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?pL:"dirty"===e.status?(t.dirty(),pF(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?pL:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new fG({in:e,out:t,typeName:ed.ZodPipeline})}}class fH extends pG{_parse(e){let t=this._def.innerType._parse(e),r=e=>(pU(e)&&(e.value=Object.freeze(e.value)),e);return pV(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function fY(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function fJ(e,t={},r){return e?fg.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=fY(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=fY(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):fg.create()}fH.create=(e,t)=>new fH({innerType:e,typeName:ed.ZodReadonly,...pq(t)});let fX={object:fw.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ed||(ed={}));let fQ=(e,t={message:`Input not instance of ${e.name}`})=>fJ(t=>t instanceof e,t),f0=fd.create,f1=fl.create,f2=fW.create,f4=fc.create,f5=fh.create,f9=fp.create,f3=ff.create,f8=fm.create,f6=f_.create,f7=fg.create,me=fy.create,mt=fv.create,mr=fb.create,mi=fx.create,ma=fw.create,mn=fw.strictCreate,ms=fT.create,mo=fE.create,md=fS.create,mu=fO.create,ml=fI.create,mc=fC.create,mh=fN.create,mp=fM.create,mf=fP.create,mm=fj.create,m_=fD.create,mg=fL.create,my=fF.create,mv=fB.create,mb=fz.create,mx=f$.create,mk=fB.createWithPreprocess,mw=fG.create,mT=()=>f0().optional(),mZ=()=>f1().optional(),mE=()=>f5().optional(),mA={string:e=>fd.create({...e,coerce:!0}),number:e=>fl.create({...e,coerce:!0}),boolean:e=>fh.create({...e,coerce:!0}),bigint:e=>fc.create({...e,coerce:!0}),date:e=>fp.create({...e,coerce:!0})},mS=pL;e.s(["BRAND",0,fK,"NEVER",0,mS,"Schema",()=>pG,"ZodAny",()=>fg,"ZodArray",()=>fx,"ZodBigInt",()=>fc,"ZodBoolean",()=>fh,"ZodBranded",()=>fq,"ZodCatch",()=>fV,"ZodDate",()=>fp,"ZodDefault",()=>fU,"ZodDiscriminatedUnion",()=>fE,"ZodEffects",()=>fB,"ZodEnum",()=>fD,"ZodFirstPartyTypeKind",()=>ed,"ZodFunction",()=>fM,"ZodIntersection",()=>fS,"ZodLazy",()=>fP,"ZodLiteral",()=>fj,"ZodMap",()=>fC,"ZodNaN",()=>fW,"ZodNativeEnum",()=>fL,"ZodNever",()=>fv,"ZodNull",()=>f_,"ZodNullable",()=>f$,"ZodNumber",()=>fl,"ZodObject",()=>fw,"ZodOptional",()=>fz,"ZodPipeline",()=>fG,"ZodPromise",()=>fF,"ZodReadonly",()=>fH,"ZodRecord",()=>fI,"ZodSchema",()=>pG,"ZodSet",()=>fN,"ZodString",()=>fd,"ZodSymbol",()=>ff,"ZodTransformer",()=>fB,"ZodTuple",()=>fO,"ZodType",()=>pG,"ZodUndefined",()=>fm,"ZodUnion",()=>fT,"ZodUnknown",()=>fy,"ZodVoid",()=>fb,"any",()=>f7,"array",()=>mi,"bigint",()=>f4,"boolean",()=>f5,"coerce",0,mA,"custom",()=>fJ,"date",()=>f9,"datetimeRegex",()=>fa,"discriminatedUnion",()=>mo,"effect",()=>mv,"enum",()=>m_,"function",()=>mp,"instanceof",()=>fQ,"intersection",()=>md,"late",0,fX,"lazy",()=>mf,"literal",()=>mm,"map",()=>mc,"nan",()=>f2,"nativeEnum",()=>mg,"never",()=>mt,"null",()=>f6,"nullable",()=>mx,"number",()=>f1,"object",()=>ma,"oboolean",()=>mE,"onumber",()=>mZ,"optional",()=>mb,"ostring",()=>mT,"pipeline",()=>mw,"preprocess",()=>mk,"promise",()=>my,"record",()=>ml,"set",()=>mh,"strictObject",()=>mn,"string",()=>f0,"symbol",()=>f3,"transformer",()=>mv,"tuple",()=>mu,"undefined",()=>f8,"union",()=>ms,"unknown",()=>me,"void",()=>mr],287877),e.i(287877),e.i(89234),e.s(["BRAND",0,fK,"DIRTY",0,pF,"EMPTY_PATH",0,pj,"INVALID",0,pL,"NEVER",0,mS,"OK",0,pB,"ParseStatus",()=>pD,"Schema",()=>pG,"ZodAny",()=>fg,"ZodArray",()=>fx,"ZodBigInt",()=>fc,"ZodBoolean",()=>fh,"ZodBranded",()=>fq,"ZodCatch",()=>fV,"ZodDate",()=>fp,"ZodDefault",()=>fU,"ZodDiscriminatedUnion",()=>fE,"ZodEffects",()=>fB,"ZodEnum",()=>fD,"ZodError",()=>pO,"ZodFirstPartyTypeKind",()=>ed,"ZodFunction",()=>fM,"ZodIntersection",()=>fS,"ZodIssueCode",0,pA,"ZodLazy",()=>fP,"ZodLiteral",()=>fj,"ZodMap",()=>fC,"ZodNaN",()=>fW,"ZodNativeEnum",()=>fL,"ZodNever",()=>fv,"ZodNull",()=>f_,"ZodNullable",()=>f$,"ZodNumber",()=>fl,"ZodObject",()=>fw,"ZodOptional",()=>fz,"ZodParsedType",0,pZ,"ZodPipeline",()=>fG,"ZodPromise",()=>fF,"ZodReadonly",()=>fH,"ZodRecord",()=>fI,"ZodSchema",()=>pG,"ZodSet",()=>fN,"ZodString",()=>fd,"ZodSymbol",()=>ff,"ZodTransformer",()=>fB,"ZodTuple",()=>fO,"ZodType",()=>pG,"ZodUndefined",()=>fm,"ZodUnion",()=>fT,"ZodUnknown",()=>fy,"ZodVoid",()=>fb,"addIssueToContext",()=>pR,"any",()=>f7,"array",()=>mi,"bigint",()=>f4,"boolean",()=>f5,"coerce",0,mA,"custom",()=>fJ,"date",()=>f9,"datetimeRegex",()=>fa,"defaultErrorMap",0,pI,"discriminatedUnion",()=>mo,"effect",()=>mv,"enum",()=>m_,"function",()=>mp,"getErrorMap",()=>pM,"getParsedType",0,pE,"instanceof",()=>fQ,"intersection",()=>md,"isAborted",0,pz,"isAsync",0,pV,"isDirty",0,p$,"isValid",0,pU,"late",0,fX,"lazy",()=>mf,"literal",()=>mm,"makeIssue",0,pP,"map",()=>mc,"nan",()=>f2,"nativeEnum",()=>mg,"never",()=>mt,"null",()=>f6,"nullable",()=>mx,"number",()=>f1,"object",()=>ma,"objectUtil",()=>es,"oboolean",()=>mE,"onumber",()=>mZ,"optional",()=>mb,"ostring",()=>mT,"pipeline",()=>mw,"preprocess",()=>mk,"promise",()=>my,"quotelessJson",0,pS,"record",()=>ml,"set",()=>mh,"setErrorMap",()=>pN,"strictObject",()=>mn,"string",()=>f0,"symbol",()=>f3,"transformer",()=>mv,"tuple",()=>mu,"undefined",()=>f8,"union",()=>ms,"unknown",()=>me,"util",()=>en,"void",()=>mr],466196);var mO=e.i(466196),mO=mO;let mI=mO.object({w:mO.number(),h:mO.number(),align:mO.number().optional(),mode:mO.nativeEnum(ee).optional()}),mC={contain(e,t){let{w:r,h:i,align:a=J.CENTER|X.MIDDLE,mode:n}=mI.parse(t),s=7&a,o=a>>3;if(!(0!==s&&!(s&s-1)||0!==o&&!(o&o-1)))throw Error("only use one flag per alignment direction");let d=s>>1,u=o>>1,l=r/i>e.bitmap.width/e.bitmap.height?i/e.bitmap.height:r/e.bitmap.width,c=pT.scale(tE(e),{f:l,mode:n});return(e=pT.resize(e,{w:r,h:i,mode:n})).scan((t,r,i)=>{e.bitmap.data.writeUInt32BE(e.background,i)}),e=n7.blit(e,{src:c,x:(e.bitmap.width-c.bitmap.width)/2*d,y:(e.bitmap.height-c.bitmap.height)/2*u})}};e.s([],744933),e.i(744933),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(eu||(eu={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(el||(el={}));let mN=eu.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mM=e=>{switch(typeof e){case"undefined":return mN.undefined;case"string":return mN.string;case"number":return Number.isNaN(e)?mN.nan:mN.number;case"boolean":return mN.boolean;case"function":return mN.function;case"bigint":return mN.bigint;case"symbol":return mN.symbol;case"object":if(Array.isArray(e))return mN.array;if(null===e)return mN.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return mN.promise;if("undefined"!=typeof Map&&e instanceof Map)return mN.map;if("undefined"!=typeof Set&&e instanceof Set)return mN.set;if("undefined"!=typeof Date&&e instanceof Date)return mN.date;return mN.object;default:return mN.unknown}};e.s(["ZodParsedType",0,mN,"getParsedType",0,mM,"objectUtil",()=>el,"util",()=>eu],82930);let mP=eu.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),mj=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class mR extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof mR))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,eu.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}mR.create=e=>new mR(e),e.s(["ZodError",()=>mR,"ZodIssueCode",0,mP,"quotelessJson",0,mj],493130);let mD=(e,t)=>{let r;switch(e.code){case mP.invalid_type:r=e.received===mN.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case mP.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,eu.jsonStringifyReplacer)}`;break;case mP.unrecognized_keys:r=`Unrecognized key(s) in object: ${eu.joinValues(e.keys,", ")}`;break;case mP.invalid_union:r="Invalid input";break;case mP.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${eu.joinValues(e.options)}`;break;case mP.invalid_enum_value:r=`Invalid enum value. Expected ${eu.joinValues(e.options)}, received '${e.received}'`;break;case mP.invalid_arguments:r="Invalid function arguments";break;case mP.invalid_return_type:r="Invalid function return type";break;case mP.invalid_date:r="Invalid date";break;case mP.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:eu.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case mP.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case mP.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case mP.custom:r="Invalid input";break;case mP.invalid_intersection_types:r="Intersection results could not be merged";break;case mP.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case mP.not_finite:r="Number must be finite";break;default:r=t.defaultError,eu.assertNever(e)}return{message:r}},mL=mD;function mF(e){mL=e}function mB(){return mL}e.s(["getErrorMap",()=>mB,"setErrorMap",()=>mF],377964),e.i(377964),e.s(["defaultErrorMap",0,mD,"getErrorMap",()=>mB,"setErrorMap",()=>mF],561716),e.i(561716);let mz=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},m$=[];function mU(e,t){let r=mB(),i=mz({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===mD?void 0:mD].filter(e=>!!e)});e.common.issues.push(i)}class mV{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return mW;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return mV.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return mW;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let mW=Object.freeze({status:"aborted"}),mK=e=>({status:"dirty",value:e}),mq=e=>({status:"valid",value:e}),mG=e=>"aborted"===e.status,mH=e=>"dirty"===e.status,mY=e=>"valid"===e.status,mJ=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,mK,"EMPTY_PATH",0,m$,"INVALID",0,mW,"OK",0,mq,"ParseStatus",()=>mV,"addIssueToContext",()=>mU,"isAborted",0,mG,"isAsync",0,mJ,"isDirty",0,mH,"isValid",0,mY,"makeIssue",0,mz],898089),e.i(898089),e.s([],360308),e.i(360308),e.i(82930),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(ec||(ec={}));class mX{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let mQ=(e,t)=>{if(mY(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new mR(e.common.issues);return this._error=t,this._error}}};function m0(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class m1{get description(){return this._def.description}_getType(e){return mM(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:mM(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mV,ctx:{common:e.parent.common,data:e.data,parsedType:mM(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(mJ(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mM(e)},i=this._parseSync({data:e,path:r.path,parent:r});return mQ(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mM(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return mY(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>mY(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mM(e)},i=this._parse({data:e,path:r.path,parent:r});return mQ(r,await (mJ(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:mP.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new _q({schema:this,typeName:eh.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return _G.create(this,this._def)}nullable(){return _H.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _S.create(this)}promise(){return _K.create(this,this._def)}or(e){return _C.create([this,e],this._def)}and(e){return _j.create(this,e,this._def)}transform(e){return new _q({...m0(this._def),schema:this,typeName:eh.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new _Y({...m0(this._def),innerType:this,defaultValue:t,typeName:eh.ZodDefault})}brand(){return new _0({typeName:eh.ZodBranded,type:this,...m0(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new _J({...m0(this._def),innerType:this,catchValue:t,typeName:eh.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return _1.create(this,e)}readonly(){return _2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let m2=/^c[^\s-]{8,}$/i,m4=/^[0-9a-z]+$/,m5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,m9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,m3=/^[a-z0-9_-]{21}$/i,m8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,m6=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,m7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",_t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_r=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_i=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_a=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_n=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_s=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_o="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_d=RegExp(`^${_o}$`);function _u(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function _l(e){return RegExp(`^${_u(e)}$`)}function _c(e){let t=`${_o}T${_u(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function _h(e,t){return!!(("v4"===t||!t)&&_t.test(e)||("v6"===t||!t)&&_i.test(e))}function _p(e,t){if(!m8.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function _f(e,t){return!!(("v4"===t||!t)&&_r.test(e)||("v6"===t||!t)&&_a.test(e))}class _m extends m1{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==mN.string){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.string,received:t.parsedType}),mW}let r=new mV;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(mU(t=this._getOrReturnCtx(e,t),{code:mP.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(mU(t=this._getOrReturnCtx(e,t),{code:mP.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?mU(t,{code:mP.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&mU(t,{code:mP.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)m7.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{validation:"email",code:mP.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)o||(o=RegExp(_e,"u")),o.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:mP.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)m9.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:mP.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)m3.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:mP.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)m2.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:mP.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)m4.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:mP.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)m5.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:mP.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{mU(t=this._getOrReturnCtx(e,t),{validation:"url",code:mP.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{validation:"regex",code:mP.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(mU(t=this._getOrReturnCtx(e,t),{code:mP.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(mU(t=this._getOrReturnCtx(e,t),{code:mP.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(mU(t=this._getOrReturnCtx(e,t),{code:mP.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?_c(i).test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{code:mP.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?_d.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{code:mP.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?_l(i).test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{code:mP.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?m6.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{validation:"duration",code:mP.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?_h(e.data,i.version)||(mU(t=this._getOrReturnCtx(e,t),{validation:"ip",code:mP.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?_p(e.data,i.alg)||(mU(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:mP.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?_f(e.data,i.version)||(mU(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:mP.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?_n.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{validation:"base64",code:mP.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?_s.test(e.data)||(mU(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:mP.invalid_string,message:i.message}),r.dirty()):eu.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:mP.invalid_string,...ec.errToObj(r)})}_addCheck(e){return new _m({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ec.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ec.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ec.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ec.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ec.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ec.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ec.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ec.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ec.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ec.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ec.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ec.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ec.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...ec.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...ec.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ec.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ec.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...ec.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ec.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ec.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ec.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ec.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ec.errToObj(t)})}nonempty(e){return this.min(1,ec.errToObj(e))}trim(){return new _m({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _m({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _m({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function __(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}_m.create=e=>new _m({checks:[],typeName:eh.ZodString,coerce:e?.coerce??!1,...m0(e)});class _g extends m1{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==mN.number){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.number,received:t.parsedType}),mW}let r=new mV;for(let i of this._def.checks)"int"===i.kind?eu.isInteger(e.data)||(mU(t=this._getOrReturnCtx(e,t),{code:mP.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(mU(t=this._getOrReturnCtx(e,t),{code:mP.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(mU(t=this._getOrReturnCtx(e,t),{code:mP.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==__(e.data,i.value)&&(mU(t=this._getOrReturnCtx(e,t),{code:mP.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(mU(t=this._getOrReturnCtx(e,t),{code:mP.not_finite,message:i.message}),r.dirty()):eu.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ec.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ec.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ec.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ec.toString(t))}setLimit(e,t,r,i){return new _g({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ec.toString(i)}]})}_addCheck(e){return new _g({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ec.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ec.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ec.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ec.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ec.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ec.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ec.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ec.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ec.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&eu.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}_g.create=e=>new _g({checks:[],typeName:eh.ZodNumber,coerce:e?.coerce||!1,...m0(e)});class _y extends m1{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==mN.bigint)return this._getInvalidInput(e);let r=new mV;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(mU(t=this._getOrReturnCtx(e,t),{code:mP.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(mU(t=this._getOrReturnCtx(e,t),{code:mP.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(mU(t=this._getOrReturnCtx(e,t),{code:mP.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):eu.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.bigint,received:t.parsedType}),mW}gte(e,t){return this.setLimit("min",e,!0,ec.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ec.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ec.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ec.toString(t))}setLimit(e,t,r,i){return new _y({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ec.toString(i)}]})}_addCheck(e){return new _y({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ec.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ec.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ec.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ec.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ec.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}_y.create=e=>new _y({checks:[],typeName:eh.ZodBigInt,coerce:e?.coerce??!1,...m0(e)});class _v extends m1{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==mN.boolean){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.boolean,received:t.parsedType}),mW}return mq(e.data)}}_v.create=e=>new _v({typeName:eh.ZodBoolean,coerce:e?.coerce||!1,...m0(e)});class _b extends m1{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==mN.date){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.date,received:t.parsedType}),mW}if(Number.isNaN(e.data.getTime()))return mU(this._getOrReturnCtx(e),{code:mP.invalid_date}),mW;let r=new mV;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(mU(t=this._getOrReturnCtx(e,t),{code:mP.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(mU(t=this._getOrReturnCtx(e,t),{code:mP.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):eu.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _b({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ec.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ec.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}_b.create=e=>new _b({checks:[],coerce:e?.coerce||!1,typeName:eh.ZodDate,...m0(e)});class _x extends m1{_parse(e){if(this._getType(e)!==mN.symbol){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.symbol,received:t.parsedType}),mW}return mq(e.data)}}_x.create=e=>new _x({typeName:eh.ZodSymbol,...m0(e)});class _k extends m1{_parse(e){if(this._getType(e)!==mN.undefined){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.undefined,received:t.parsedType}),mW}return mq(e.data)}}_k.create=e=>new _k({typeName:eh.ZodUndefined,...m0(e)});class _w extends m1{_parse(e){if(this._getType(e)!==mN.null){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.null,received:t.parsedType}),mW}return mq(e.data)}}_w.create=e=>new _w({typeName:eh.ZodNull,...m0(e)});class _T extends m1{constructor(){super(...arguments),this._any=!0}_parse(e){return mq(e.data)}}_T.create=e=>new _T({typeName:eh.ZodAny,...m0(e)});class _Z extends m1{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mq(e.data)}}_Z.create=e=>new _Z({typeName:eh.ZodUnknown,...m0(e)});class _E extends m1{_parse(e){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.never,received:t.parsedType}),mW}}_E.create=e=>new _E({typeName:eh.ZodNever,...m0(e)});class _A extends m1{_parse(e){if(this._getType(e)!==mN.undefined){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.void,received:t.parsedType}),mW}return mq(e.data)}}_A.create=e=>new _A({typeName:eh.ZodVoid,...m0(e)});class _S extends m1{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==mN.array)return mU(t,{code:mP.invalid_type,expected:mN.array,received:t.parsedType}),mW;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(mU(t,{code:e?mP.too_big:mP.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(mU(t,{code:mP.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(mU(t,{code:mP.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new mX(t,e,t.path,r)))).then(e=>mV.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new mX(t,e,t.path,r)));return mV.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new _S({...this._def,minLength:{value:e,message:ec.toString(t)}})}max(e,t){return new _S({...this._def,maxLength:{value:e,message:ec.toString(t)}})}length(e,t){return new _S({...this._def,exactLength:{value:e,message:ec.toString(t)}})}nonempty(e){return this.min(1,e)}}function _O(e){if(e instanceof _I){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=_G.create(_O(i))}return new _I({...e._def,shape:()=>t})}if(e instanceof _S)return new _S({...e._def,type:_O(e.element)});if(e instanceof _G)return _G.create(_O(e.unwrap()));if(e instanceof _H)return _H.create(_O(e.unwrap()));if(e instanceof _R)return _R.create(e.items.map(e=>_O(e)));else return e}_S.create=(e,t)=>new _S({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eh.ZodArray,...m0(t)});class _I extends m1{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=eu.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==mN.object){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.object,received:t.parsedType}),mW}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof _E&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new mX(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof _E){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(mU(r,{code:mP.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new mX(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>mV.mergeObjectSync(t,e)):mV.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return ec.errToObj,new _I({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:ec.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new _I({...this._def,unknownKeys:"strip"})}passthrough(){return new _I({...this._def,unknownKeys:"passthrough"})}extend(e){return new _I({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _I({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:eh.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new _I({...this._def,catchall:e})}pick(e){let t={};for(let r of eu.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new _I({...this._def,shape:()=>t})}omit(e){let t={};for(let r of eu.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new _I({...this._def,shape:()=>t})}deepPartial(){return _O(this)}partial(e){let t={};for(let r of eu.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new _I({...this._def,shape:()=>t})}required(e){let t={};for(let r of eu.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof _G;)e=e._def.innerType;t[r]=e}return new _I({...this._def,shape:()=>t})}keyof(){return _U(eu.objectKeys(this.shape))}}_I.create=(e,t)=>new _I({shape:()=>e,unknownKeys:"strip",catchall:_E.create(),typeName:eh.ZodObject,...m0(t)}),_I.strictCreate=(e,t)=>new _I({shape:()=>e,unknownKeys:"strict",catchall:_E.create(),typeName:eh.ZodObject,...m0(t)}),_I.lazycreate=(e,t)=>new _I({shape:e,unknownKeys:"strip",catchall:_E.create(),typeName:eh.ZodObject,...m0(t)});class _C extends m1{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new mR(e.ctx.common.issues));return mU(t,{code:mP.invalid_union,unionErrors:r}),mW}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new mR(e));return mU(t,{code:mP.invalid_union,unionErrors:a}),mW}}get options(){return this._def.options}}_C.create=(e,t)=>new _C({options:e,typeName:eh.ZodUnion,...m0(t)});let _N=e=>{if(e instanceof _z)return _N(e.schema);if(e instanceof _q)return _N(e.innerType());if(e instanceof _$)return[e.value];if(e instanceof _V)return e.options;if(e instanceof _W)return eu.objectValues(e.enum);else if(e instanceof _Y)return _N(e._def.innerType);else if(e instanceof _k)return[void 0];else if(e instanceof _w)return[null];else if(e instanceof _G)return[void 0,..._N(e.unwrap())];else if(e instanceof _H)return[null,..._N(e.unwrap())];else if(e instanceof _0)return _N(e.unwrap());else if(e instanceof _2)return _N(e.unwrap());else if(e instanceof _J)return _N(e._def.innerType);else return[]};class _M extends m1{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==mN.object)return mU(t,{code:mP.invalid_type,expected:mN.object,received:t.parsedType}),mW;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(mU(t,{code:mP.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),mW)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=_N(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new _M({typeName:eh.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...m0(r)})}}function _P(e,t){let r=mM(e),i=mM(t);if(e===t)return{valid:!0,data:e};if(r===mN.object&&i===mN.object){let r=eu.objectKeys(t),i=eu.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=_P(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===mN.array&&i===mN.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=_P(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===mN.date&&i===mN.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class _j extends m1{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(mG(e)||mG(i))return mW;let a=_P(e.value,i.value);return a.valid?((mH(e)||mH(i))&&t.dirty(),{status:t.value,value:a.data}):(mU(r,{code:mP.invalid_intersection_types}),mW)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_j.create=(e,t,r)=>new _j({left:e,right:t,typeName:eh.ZodIntersection,...m0(r)});class _R extends m1{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==mN.array)return mU(r,{code:mP.invalid_type,expected:mN.array,received:r.parsedType}),mW;if(r.data.length<this._def.items.length)return mU(r,{code:mP.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),mW;!this._def.rest&&r.data.length>this._def.items.length&&(mU(r,{code:mP.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new mX(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>mV.mergeArray(t,e)):mV.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new _R({...this._def,rest:e})}}_R.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new _R({items:e,typeName:eh.ZodTuple,rest:null,...m0(t)})};class _D extends m1{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==mN.object)return mU(r,{code:mP.invalid_type,expected:mN.object,received:r.parsedType}),mW;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new mX(r,e,r.path,e)),value:n._parse(new mX(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?mV.mergeObjectAsync(t,i):mV.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new _D(t instanceof m1?{keyType:e,valueType:t,typeName:eh.ZodRecord,...m0(r)}:{keyType:_m.create(),valueType:e,typeName:eh.ZodRecord,...m0(t)})}}class _L extends m1{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==mN.map)return mU(r,{code:mP.invalid_type,expected:mN.map,received:r.parsedType}),mW;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new mX(r,e,r.path,[n,"key"])),value:a._parse(new mX(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return mW;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return mW;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}_L.create=(e,t,r)=>new _L({valueType:t,keyType:e,typeName:eh.ZodMap,...m0(r)});class _F extends m1{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==mN.set)return mU(r,{code:mP.invalid_type,expected:mN.set,received:r.parsedType}),mW;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(mU(r,{code:mP.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(mU(r,{code:mP.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return mW;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new mX(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new _F({...this._def,minSize:{value:e,message:ec.toString(t)}})}max(e,t){return new _F({...this._def,maxSize:{value:e,message:ec.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}_F.create=(e,t)=>new _F({valueType:e,minSize:null,maxSize:null,typeName:eh.ZodSet,...m0(t)});class _B extends m1{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==mN.function)return mU(t,{code:mP.invalid_type,expected:mN.function,received:t.parsedType}),mW;function r(e,r){return mz({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,mB(),mD].filter(e=>!!e),issueData:{code:mP.invalid_arguments,argumentsError:r}})}function i(e,r){return mz({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,mB(),mD].filter(e=>!!e),issueData:{code:mP.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof _K){let e=this;return mq(async function(...t){let s=new mR([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return mq(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new mR([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new mR([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new _B({...this._def,args:_R.create(e).rest(_Z.create())})}returns(e){return new _B({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new _B({args:e||_R.create([]).rest(_Z.create()),returns:t||_Z.create(),typeName:eh.ZodFunction,...m0(r)})}}class _z extends m1{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}_z.create=(e,t)=>new _z({getter:e,typeName:eh.ZodLazy,...m0(t)});class _$ extends m1{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return mU(t,{received:t.data,code:mP.invalid_literal,expected:this._def.value}),mW}return{status:"valid",value:e.data}}get value(){return this._def.value}}function _U(e,t){return new _V({values:e,typeName:eh.ZodEnum,...m0(t)})}_$.create=(e,t)=>new _$({value:e,typeName:eh.ZodLiteral,...m0(t)});class _V extends m1{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return mU(t,{expected:eu.joinValues(r),received:t.parsedType,code:mP.invalid_type}),mW}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return mU(t,{received:t.data,code:mP.invalid_enum_value,options:r}),mW}return mq(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return _V.create(e,{...this._def,...t})}exclude(e,t=this._def){return _V.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}_V.create=_U;class _W extends m1{_parse(e){let t=eu.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==mN.string&&r.parsedType!==mN.number){let e=eu.objectValues(t);return mU(r,{expected:eu.joinValues(e),received:r.parsedType,code:mP.invalid_type}),mW}if(this._cache||(this._cache=new Set(eu.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=eu.objectValues(t);return mU(r,{received:r.data,code:mP.invalid_enum_value,options:e}),mW}return mq(e.data)}get enum(){return this._def.values}}_W.create=(e,t)=>new _W({values:e,typeName:eh.ZodNativeEnum,...m0(t)});class _K extends m1{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==mN.promise&&!1===t.common.async?(mU(t,{code:mP.invalid_type,expected:mN.promise,received:t.parsedType}),mW):mq((t.parsedType===mN.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}_K.create=(e,t)=>new _K({type:e,typeName:eh.ZodPromise,...m0(t)});class _q extends m1{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eh.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{mU(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return mW;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?mW:"dirty"===i.status||"dirty"===t.value?mK(i.value):i});{if("aborted"===t.value)return mW;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?mW:"dirty"===i.status||"dirty"===t.value?mK(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?mW:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?mW:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>mY(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):mW);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!mY(e))return mW;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}eu.assertNever(i)}}_q.create=(e,t,r)=>new _q({schema:e,typeName:eh.ZodEffects,effect:t,...m0(r)}),_q.createWithPreprocess=(e,t,r)=>new _q({schema:t,effect:{type:"preprocess",transform:e},typeName:eh.ZodEffects,...m0(r)});class _G extends m1{_parse(e){return this._getType(e)===mN.undefined?mq(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_G.create=(e,t)=>new _G({innerType:e,typeName:eh.ZodOptional,...m0(t)});class _H extends m1{_parse(e){return this._getType(e)===mN.null?mq(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_H.create=(e,t)=>new _H({innerType:e,typeName:eh.ZodNullable,...m0(t)});class _Y extends m1{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===mN.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}_Y.create=(e,t)=>new _Y({innerType:e,typeName:eh.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...m0(t)});class _J extends m1{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return mJ(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new mR(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new mR(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}_J.create=(e,t)=>new _J({innerType:e,typeName:eh.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...m0(t)});class _X extends m1{_parse(e){if(this._getType(e)!==mN.nan){let t=this._getOrReturnCtx(e);return mU(t,{code:mP.invalid_type,expected:mN.nan,received:t.parsedType}),mW}return{status:"valid",value:e.data}}}_X.create=e=>new _X({typeName:eh.ZodNaN,...m0(e)});let _Q=Symbol("zod_brand");class _0 extends m1{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class _1 extends m1{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?mW:"dirty"===e.status?(t.dirty(),mK(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?mW:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new _1({in:e,out:t,typeName:eh.ZodPipeline})}}class _2 extends m1{_parse(e){let t=this._def.innerType._parse(e),r=e=>(mY(e)&&(e.value=Object.freeze(e.value)),e);return mJ(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function _4(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function _5(e,t={},r){return e?_T.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=_4(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=_4(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):_T.create()}_2.create=(e,t)=>new _2({innerType:e,typeName:eh.ZodReadonly,...m0(t)});let _9={object:_I.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eh||(eh={}));let _3=(e,t={message:`Input not instance of ${e.name}`})=>_5(t=>t instanceof e,t),_8=_m.create,_6=_g.create,_7=_X.create,ge=_y.create,gt=_v.create,gr=_b.create,gi=_x.create,ga=_k.create,gn=_w.create,gs=_T.create,go=_Z.create,gd=_E.create,gu=_A.create,gl=_S.create,gc=_I.create,gh=_I.strictCreate,gp=_C.create,gf=_M.create,gm=_j.create,g_=_R.create,gg=_D.create,gy=_L.create,gv=_F.create,gb=_B.create,gx=_z.create,gk=_$.create,gw=_V.create,gT=_W.create,gZ=_K.create,gE=_q.create,gA=_G.create,gS=_H.create,gO=_q.createWithPreprocess,gI=_1.create,gC=()=>_8().optional(),gN=()=>_6().optional(),gM=()=>gt().optional(),gP={string:e=>_m.create({...e,coerce:!0}),number:e=>_g.create({...e,coerce:!0}),boolean:e=>_v.create({...e,coerce:!0}),bigint:e=>_y.create({...e,coerce:!0}),date:e=>_b.create({...e,coerce:!0})},gj=mW;e.s(["BRAND",0,_Q,"NEVER",0,gj,"Schema",()=>m1,"ZodAny",()=>_T,"ZodArray",()=>_S,"ZodBigInt",()=>_y,"ZodBoolean",()=>_v,"ZodBranded",()=>_0,"ZodCatch",()=>_J,"ZodDate",()=>_b,"ZodDefault",()=>_Y,"ZodDiscriminatedUnion",()=>_M,"ZodEffects",()=>_q,"ZodEnum",()=>_V,"ZodFirstPartyTypeKind",()=>eh,"ZodFunction",()=>_B,"ZodIntersection",()=>_j,"ZodLazy",()=>_z,"ZodLiteral",()=>_$,"ZodMap",()=>_L,"ZodNaN",()=>_X,"ZodNativeEnum",()=>_W,"ZodNever",()=>_E,"ZodNull",()=>_w,"ZodNullable",()=>_H,"ZodNumber",()=>_g,"ZodObject",()=>_I,"ZodOptional",()=>_G,"ZodPipeline",()=>_1,"ZodPromise",()=>_K,"ZodReadonly",()=>_2,"ZodRecord",()=>_D,"ZodSchema",()=>m1,"ZodSet",()=>_F,"ZodString",()=>_m,"ZodSymbol",()=>_x,"ZodTransformer",()=>_q,"ZodTuple",()=>_R,"ZodType",()=>m1,"ZodUndefined",()=>_k,"ZodUnion",()=>_C,"ZodUnknown",()=>_Z,"ZodVoid",()=>_A,"any",()=>gs,"array",()=>gl,"bigint",()=>ge,"boolean",()=>gt,"coerce",0,gP,"custom",()=>_5,"date",()=>gr,"datetimeRegex",()=>_c,"discriminatedUnion",()=>gf,"effect",()=>gE,"enum",()=>gw,"function",()=>gb,"instanceof",()=>_3,"intersection",()=>gm,"late",0,_9,"lazy",()=>gx,"literal",()=>gk,"map",()=>gy,"nan",()=>_7,"nativeEnum",()=>gT,"never",()=>gd,"null",()=>gn,"nullable",()=>gS,"number",()=>_6,"object",()=>gc,"oboolean",()=>gM,"onumber",()=>gN,"optional",()=>gA,"ostring",()=>gC,"pipeline",()=>gI,"preprocess",()=>gO,"promise",()=>gZ,"record",()=>gg,"set",()=>gv,"strictObject",()=>gh,"string",()=>_8,"symbol",()=>gi,"transformer",()=>gE,"tuple",()=>g_,"undefined",()=>ga,"union",()=>gp,"unknown",()=>go,"void",()=>gu],94391),e.i(94391),e.i(493130),e.s(["BRAND",0,_Q,"DIRTY",0,mK,"EMPTY_PATH",0,m$,"INVALID",0,mW,"NEVER",0,gj,"OK",0,mq,"ParseStatus",()=>mV,"Schema",()=>m1,"ZodAny",()=>_T,"ZodArray",()=>_S,"ZodBigInt",()=>_y,"ZodBoolean",()=>_v,"ZodBranded",()=>_0,"ZodCatch",()=>_J,"ZodDate",()=>_b,"ZodDefault",()=>_Y,"ZodDiscriminatedUnion",()=>_M,"ZodEffects",()=>_q,"ZodEnum",()=>_V,"ZodError",()=>mR,"ZodFirstPartyTypeKind",()=>eh,"ZodFunction",()=>_B,"ZodIntersection",()=>_j,"ZodIssueCode",0,mP,"ZodLazy",()=>_z,"ZodLiteral",()=>_$,"ZodMap",()=>_L,"ZodNaN",()=>_X,"ZodNativeEnum",()=>_W,"ZodNever",()=>_E,"ZodNull",()=>_w,"ZodNullable",()=>_H,"ZodNumber",()=>_g,"ZodObject",()=>_I,"ZodOptional",()=>_G,"ZodParsedType",0,mN,"ZodPipeline",()=>_1,"ZodPromise",()=>_K,"ZodReadonly",()=>_2,"ZodRecord",()=>_D,"ZodSchema",()=>m1,"ZodSet",()=>_F,"ZodString",()=>_m,"ZodSymbol",()=>_x,"ZodTransformer",()=>_q,"ZodTuple",()=>_R,"ZodType",()=>m1,"ZodUndefined",()=>_k,"ZodUnion",()=>_C,"ZodUnknown",()=>_Z,"ZodVoid",()=>_A,"addIssueToContext",()=>mU,"any",()=>gs,"array",()=>gl,"bigint",()=>ge,"boolean",()=>gt,"coerce",0,gP,"custom",()=>_5,"date",()=>gr,"datetimeRegex",()=>_c,"defaultErrorMap",0,mD,"discriminatedUnion",()=>gf,"effect",()=>gE,"enum",()=>gw,"function",()=>gb,"getErrorMap",()=>mB,"getParsedType",0,mM,"instanceof",()=>_3,"intersection",()=>gm,"isAborted",0,mG,"isAsync",0,mJ,"isDirty",0,mH,"isValid",0,mY,"late",0,_9,"lazy",()=>gx,"literal",()=>gk,"makeIssue",0,mz,"map",()=>gy,"nan",()=>_7,"nativeEnum",()=>gT,"never",()=>gd,"null",()=>gn,"nullable",()=>gS,"number",()=>_6,"object",()=>gc,"objectUtil",()=>el,"oboolean",()=>gM,"onumber",()=>gN,"optional",()=>gA,"ostring",()=>gC,"pipeline",()=>gI,"preprocess",()=>gO,"promise",()=>gZ,"quotelessJson",0,mj,"record",()=>gg,"set",()=>gv,"setErrorMap",()=>mF,"strictObject",()=>gh,"string",()=>_8,"symbol",()=>gi,"transformer",()=>gE,"tuple",()=>g_,"undefined",()=>ga,"union",()=>gp,"unknown",()=>go,"util",()=>eu,"void",()=>gu],143322);var gR=e.i(143322),gR=gR;let gD=gR.object({x:gR.number(),y:gR.number(),w:gR.number(),h:gR.number()}),gL=gR.object({tolerance:gR.number().min(0).max(1).optional(),cropOnlyFrames:gR.boolean().optional(),cropSymmetric:gR.boolean().optional(),leaveBorder:gR.number().optional(),ignoreSides:gR.object({north:gR.boolean().optional(),south:gR.boolean().optional(),east:gR.boolean().optional(),west:gR.boolean().optional()}).optional()}),gF={crop(e,t){let{x:r,y:i,w:a,h:n}=gD.parse(t);if(r=Math.round(r),i=Math.round(i),a=Math.round(a),n=Math.round(n),0===r&&a===e.bitmap.width){let t=a*i+r<<2,s=t+(n*a<<2);e.bitmap.data=e.bitmap.data.slice(t,s)}else{let t=Buffer.allocUnsafe(a*n*4),s=0;tA(e,r,i,a,n,function(r,i,a){let n=e.bitmap.data.readUInt32BE(a);t.writeUInt32BE(n,s),s+=4}),e.bitmap.data=t}return e.bitmap.width=a,e.bitmap.height=n,e},autocrop(e,t={}){let{tolerance:r=2e-4,cropOnlyFrames:i=!0,cropSymmetric:a=!1,leaveBorder:n=0,ignoreSides:s}="number"==typeof t?{tolerance:t}:gL.parse(t),o=e.bitmap.width,d=e.bitmap.height,u=1,l={north:!1,south:!1,east:!1,west:!1,...s},c=e.getPixelColor(0,0),h=tO(c),p=0,f=0,m=0,_=0;if(c=e.getPixelColor(0,0),!l.north)t:for(let t=0;t<d-u;t++){for(let i=0;i<o;i++)if(tC(h,tO(e.getPixelColor(i,t)))>r)break t;p++}if(c=e.getPixelColor(o,0),!l.west)r:for(let t=0;t<o-u;t++){for(let i=0+p;i<d;i++)if(tC(h,tO(e.getPixelColor(t,i)))>r)break r;_++}if(c=e.getPixelColor(0,d),!l.south)i:for(let t=d-1;t>=p+u;t--){for(let i=o-f-1;i>=0;i--)if(tC(h,tO(e.getPixelColor(i,t)))>r)break i;m++}if(c=e.getPixelColor(o,d),!l.east)a:for(let t=o-1;t>=0+_+u;t--){for(let i=d-1;i>=0+p;i--)if(tC(h,tO(e.getPixelColor(t,i)))>r)break a;f++}let g=!1;if(_-=n,f-=n,p-=n,m-=n,a){let e=Math.min(f,_),t=Math.min(p,m);_=e,f=e,p=t,m=t}let y=o-((_=_>=0?_:0)+(f=f>=0?f:0)),v=d-((m=m>=0?m:0)+(p=p>=0?p:0));return(g=i?0!==f&&0!==p&&0!==_&&0!==m:0!==f||0!==p||0!==_||0!==m)&&this.crop(e,{x:_,y:p,w:y,h:v}),e}};e.s([],226715),e.i(226715),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(ep||(ep={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(ef||(ef={}));let gB=ep.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gz=e=>{switch(typeof e){case"undefined":return gB.undefined;case"string":return gB.string;case"number":return Number.isNaN(e)?gB.nan:gB.number;case"boolean":return gB.boolean;case"function":return gB.function;case"bigint":return gB.bigint;case"symbol":return gB.symbol;case"object":if(Array.isArray(e))return gB.array;if(null===e)return gB.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return gB.promise;if("undefined"!=typeof Map&&e instanceof Map)return gB.map;if("undefined"!=typeof Set&&e instanceof Set)return gB.set;if("undefined"!=typeof Date&&e instanceof Date)return gB.date;return gB.object;default:return gB.unknown}};e.s(["ZodParsedType",0,gB,"getParsedType",0,gz,"objectUtil",()=>ef,"util",()=>ep],308052);let g$=ep.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),gU=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class gV extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof gV))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ep.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}gV.create=e=>new gV(e),e.s(["ZodError",()=>gV,"ZodIssueCode",0,g$,"quotelessJson",0,gU],247509);let gW=(e,t)=>{let r;switch(e.code){case g$.invalid_type:r=e.received===gB.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case g$.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ep.jsonStringifyReplacer)}`;break;case g$.unrecognized_keys:r=`Unrecognized key(s) in object: ${ep.joinValues(e.keys,", ")}`;break;case g$.invalid_union:r="Invalid input";break;case g$.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ep.joinValues(e.options)}`;break;case g$.invalid_enum_value:r=`Invalid enum value. Expected ${ep.joinValues(e.options)}, received '${e.received}'`;break;case g$.invalid_arguments:r="Invalid function arguments";break;case g$.invalid_return_type:r="Invalid function return type";break;case g$.invalid_date:r="Invalid date";break;case g$.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ep.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case g$.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case g$.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case g$.custom:r="Invalid input";break;case g$.invalid_intersection_types:r="Intersection results could not be merged";break;case g$.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case g$.not_finite:r="Number must be finite";break;default:r=t.defaultError,ep.assertNever(e)}return{message:r}},gK=gW;function gq(e){gK=e}function gG(){return gK}e.s(["getErrorMap",()=>gG,"setErrorMap",()=>gq],733398),e.i(733398),e.s(["defaultErrorMap",0,gW,"getErrorMap",()=>gG,"setErrorMap",()=>gq],977785),e.i(977785);let gH=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},gY=[];function gJ(e,t){let r=gG(),i=gH({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===gW?void 0:gW].filter(e=>!!e)});e.common.issues.push(i)}class gX{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return gQ;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return gX.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return gQ;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let gQ=Object.freeze({status:"aborted"}),g0=e=>({status:"dirty",value:e}),g1=e=>({status:"valid",value:e}),g2=e=>"aborted"===e.status,g4=e=>"dirty"===e.status,g5=e=>"valid"===e.status,g9=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,g0,"EMPTY_PATH",0,gY,"INVALID",0,gQ,"OK",0,g1,"ParseStatus",()=>gX,"addIssueToContext",()=>gJ,"isAborted",0,g2,"isAsync",0,g9,"isDirty",0,g4,"isValid",0,g5,"makeIssue",0,gH],307890),e.i(307890),e.s([],199057),e.i(199057),e.i(308052),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(em||(em={}));class g3{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let g8=(e,t)=>{if(g5(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new gV(e.common.issues);return this._error=t,this._error}}};function g6(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class g7{get description(){return this._def.description}_getType(e){return gz(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:gz(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gX,ctx:{common:e.parent.common,data:e.data,parsedType:gz(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(g9(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gz(e)},i=this._parseSync({data:e,path:r.path,parent:r});return g8(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gz(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return g5(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>g5(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gz(e)},i=this._parse({data:e,path:r.path,parent:r});return g8(r,await (g9(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:g$.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new y1({schema:this,typeName:e_.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return y2.create(this,this._def)}nullable(){return y4.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yR.create(this)}promise(){return y0.create(this,this._def)}or(e){return yF.create([this,e],this._def)}and(e){return yU.create(this,e,this._def)}transform(e){return new y1({...g6(this._def),schema:this,typeName:e_.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new y5({...g6(this._def),innerType:this,defaultValue:t,typeName:e_.ZodDefault})}brand(){return new y6({typeName:e_.ZodBranded,type:this,...g6(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new y9({...g6(this._def),innerType:this,catchValue:t,typeName:e_.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return y7.create(this,e)}readonly(){return ve.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let ye=/^c[^\s-]{8,}$/i,yt=/^[0-9a-z]+$/,yr=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yi=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ya=/^[a-z0-9_-]{21}$/i,yn=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ys=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yo=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yd="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",yu=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yc=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yh=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yp=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yf=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ym="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",y_=RegExp(`^${ym}$`);function yg(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function yy(e){return RegExp(`^${yg(e)}$`)}function yv(e){let t=`${ym}T${yg(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function yb(e,t){return!!(("v4"===t||!t)&&yu.test(e)||("v6"===t||!t)&&yc.test(e))}function yx(e,t){if(!yn.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function yk(e,t){return!!(("v4"===t||!t)&&yl.test(e)||("v6"===t||!t)&&yh.test(e))}class yw extends g7{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==gB.string){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.string,received:t.parsedType}),gQ}let r=new gX;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(gJ(t=this._getOrReturnCtx(e,t),{code:g$.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(gJ(t=this._getOrReturnCtx(e,t),{code:g$.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?gJ(t,{code:g$.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&gJ(t,{code:g$.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)yo.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"email",code:g$.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)d||(d=RegExp(yd,"u")),d.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:g$.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)yi.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:g$.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)ya.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:g$.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)ye.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:g$.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)yt.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:g$.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)yr.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:g$.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{gJ(t=this._getOrReturnCtx(e,t),{validation:"url",code:g$.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"regex",code:g$.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(gJ(t=this._getOrReturnCtx(e,t),{code:g$.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(gJ(t=this._getOrReturnCtx(e,t),{code:g$.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(gJ(t=this._getOrReturnCtx(e,t),{code:g$.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?yv(i).test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{code:g$.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?y_.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{code:g$.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?yy(i).test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{code:g$.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?ys.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"duration",code:g$.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?yb(e.data,i.version)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"ip",code:g$.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?yx(e.data,i.alg)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:g$.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?yk(e.data,i.version)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:g$.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?yp.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"base64",code:g$.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?yf.test(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:g$.invalid_string,message:i.message}),r.dirty()):ep.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:g$.invalid_string,...em.errToObj(r)})}_addCheck(e){return new yw({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...em.errToObj(e)})}url(e){return this._addCheck({kind:"url",...em.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...em.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...em.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...em.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...em.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...em.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...em.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...em.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...em.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...em.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...em.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...em.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...em.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...em.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...em.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...em.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...em.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...em.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...em.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...em.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...em.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...em.errToObj(t)})}nonempty(e){return this.min(1,em.errToObj(e))}trim(){return new yw({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yw({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yw({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function yT(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}yw.create=e=>new yw({checks:[],typeName:e_.ZodString,coerce:e?.coerce??!1,...g6(e)});class yZ extends g7{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==gB.number){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.number,received:t.parsedType}),gQ}let r=new gX;for(let i of this._def.checks)"int"===i.kind?ep.isInteger(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{code:g$.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(gJ(t=this._getOrReturnCtx(e,t),{code:g$.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(gJ(t=this._getOrReturnCtx(e,t),{code:g$.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==yT(e.data,i.value)&&(gJ(t=this._getOrReturnCtx(e,t),{code:g$.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(gJ(t=this._getOrReturnCtx(e,t),{code:g$.not_finite,message:i.message}),r.dirty()):ep.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,em.toString(t))}gt(e,t){return this.setLimit("min",e,!1,em.toString(t))}lte(e,t){return this.setLimit("max",e,!0,em.toString(t))}lt(e,t){return this.setLimit("max",e,!1,em.toString(t))}setLimit(e,t,r,i){return new yZ({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:em.toString(i)}]})}_addCheck(e){return new yZ({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:em.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:em.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:em.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:em.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:em.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:em.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:em.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:em.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:em.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&ep.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}yZ.create=e=>new yZ({checks:[],typeName:e_.ZodNumber,coerce:e?.coerce||!1,...g6(e)});class yE extends g7{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==gB.bigint)return this._getInvalidInput(e);let r=new gX;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(gJ(t=this._getOrReturnCtx(e,t),{code:g$.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(gJ(t=this._getOrReturnCtx(e,t),{code:g$.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(gJ(t=this._getOrReturnCtx(e,t),{code:g$.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):ep.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.bigint,received:t.parsedType}),gQ}gte(e,t){return this.setLimit("min",e,!0,em.toString(t))}gt(e,t){return this.setLimit("min",e,!1,em.toString(t))}lte(e,t){return this.setLimit("max",e,!0,em.toString(t))}lt(e,t){return this.setLimit("max",e,!1,em.toString(t))}setLimit(e,t,r,i){return new yE({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:em.toString(i)}]})}_addCheck(e){return new yE({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:em.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:em.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:em.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:em.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:em.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}yE.create=e=>new yE({checks:[],typeName:e_.ZodBigInt,coerce:e?.coerce??!1,...g6(e)});class yA extends g7{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==gB.boolean){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.boolean,received:t.parsedType}),gQ}return g1(e.data)}}yA.create=e=>new yA({typeName:e_.ZodBoolean,coerce:e?.coerce||!1,...g6(e)});class yS extends g7{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==gB.date){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.date,received:t.parsedType}),gQ}if(Number.isNaN(e.data.getTime()))return gJ(this._getOrReturnCtx(e),{code:g$.invalid_date}),gQ;let r=new gX;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(gJ(t=this._getOrReturnCtx(e,t),{code:g$.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(gJ(t=this._getOrReturnCtx(e,t),{code:g$.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ep.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yS({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:em.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:em.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}yS.create=e=>new yS({checks:[],coerce:e?.coerce||!1,typeName:e_.ZodDate,...g6(e)});class yO extends g7{_parse(e){if(this._getType(e)!==gB.symbol){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.symbol,received:t.parsedType}),gQ}return g1(e.data)}}yO.create=e=>new yO({typeName:e_.ZodSymbol,...g6(e)});class yI extends g7{_parse(e){if(this._getType(e)!==gB.undefined){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.undefined,received:t.parsedType}),gQ}return g1(e.data)}}yI.create=e=>new yI({typeName:e_.ZodUndefined,...g6(e)});class yC extends g7{_parse(e){if(this._getType(e)!==gB.null){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.null,received:t.parsedType}),gQ}return g1(e.data)}}yC.create=e=>new yC({typeName:e_.ZodNull,...g6(e)});class yN extends g7{constructor(){super(...arguments),this._any=!0}_parse(e){return g1(e.data)}}yN.create=e=>new yN({typeName:e_.ZodAny,...g6(e)});class yM extends g7{constructor(){super(...arguments),this._unknown=!0}_parse(e){return g1(e.data)}}yM.create=e=>new yM({typeName:e_.ZodUnknown,...g6(e)});class yP extends g7{_parse(e){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.never,received:t.parsedType}),gQ}}yP.create=e=>new yP({typeName:e_.ZodNever,...g6(e)});class yj extends g7{_parse(e){if(this._getType(e)!==gB.undefined){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.void,received:t.parsedType}),gQ}return g1(e.data)}}yj.create=e=>new yj({typeName:e_.ZodVoid,...g6(e)});class yR extends g7{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==gB.array)return gJ(t,{code:g$.invalid_type,expected:gB.array,received:t.parsedType}),gQ;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(gJ(t,{code:e?g$.too_big:g$.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(gJ(t,{code:g$.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(gJ(t,{code:g$.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new g3(t,e,t.path,r)))).then(e=>gX.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new g3(t,e,t.path,r)));return gX.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new yR({...this._def,minLength:{value:e,message:em.toString(t)}})}max(e,t){return new yR({...this._def,maxLength:{value:e,message:em.toString(t)}})}length(e,t){return new yR({...this._def,exactLength:{value:e,message:em.toString(t)}})}nonempty(e){return this.min(1,e)}}function yD(e){if(e instanceof yL){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=y2.create(yD(i))}return new yL({...e._def,shape:()=>t})}if(e instanceof yR)return new yR({...e._def,type:yD(e.element)});if(e instanceof y2)return y2.create(yD(e.unwrap()));if(e instanceof y4)return y4.create(yD(e.unwrap()));if(e instanceof yV)return yV.create(e.items.map(e=>yD(e)));else return e}yR.create=(e,t)=>new yR({type:e,minLength:null,maxLength:null,exactLength:null,typeName:e_.ZodArray,...g6(t)});class yL extends g7{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=ep.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==gB.object){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.object,received:t.parsedType}),gQ}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof yP&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new g3(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof yP){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(gJ(r,{code:g$.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new g3(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>gX.mergeObjectSync(t,e)):gX.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return em.errToObj,new yL({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:em.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new yL({...this._def,unknownKeys:"strip"})}passthrough(){return new yL({...this._def,unknownKeys:"passthrough"})}extend(e){return new yL({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new yL({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:e_.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new yL({...this._def,catchall:e})}pick(e){let t={};for(let r of ep.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new yL({...this._def,shape:()=>t})}omit(e){let t={};for(let r of ep.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new yL({...this._def,shape:()=>t})}deepPartial(){return yD(this)}partial(e){let t={};for(let r of ep.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new yL({...this._def,shape:()=>t})}required(e){let t={};for(let r of ep.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof y2;)e=e._def.innerType;t[r]=e}return new yL({...this._def,shape:()=>t})}keyof(){return yJ(ep.objectKeys(this.shape))}}yL.create=(e,t)=>new yL({shape:()=>e,unknownKeys:"strip",catchall:yP.create(),typeName:e_.ZodObject,...g6(t)}),yL.strictCreate=(e,t)=>new yL({shape:()=>e,unknownKeys:"strict",catchall:yP.create(),typeName:e_.ZodObject,...g6(t)}),yL.lazycreate=(e,t)=>new yL({shape:e,unknownKeys:"strip",catchall:yP.create(),typeName:e_.ZodObject,...g6(t)});class yF extends g7{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new gV(e.ctx.common.issues));return gJ(t,{code:g$.invalid_union,unionErrors:r}),gQ}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new gV(e));return gJ(t,{code:g$.invalid_union,unionErrors:a}),gQ}}get options(){return this._def.options}}yF.create=(e,t)=>new yF({options:e,typeName:e_.ZodUnion,...g6(t)});let yB=e=>{if(e instanceof yH)return yB(e.schema);if(e instanceof y1)return yB(e.innerType());if(e instanceof yY)return[e.value];if(e instanceof yX)return e.options;if(e instanceof yQ)return ep.objectValues(e.enum);else if(e instanceof y5)return yB(e._def.innerType);else if(e instanceof yI)return[void 0];else if(e instanceof yC)return[null];else if(e instanceof y2)return[void 0,...yB(e.unwrap())];else if(e instanceof y4)return[null,...yB(e.unwrap())];else if(e instanceof y6)return yB(e.unwrap());else if(e instanceof ve)return yB(e.unwrap());else if(e instanceof y9)return yB(e._def.innerType);else return[]};class yz extends g7{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==gB.object)return gJ(t,{code:g$.invalid_type,expected:gB.object,received:t.parsedType}),gQ;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(gJ(t,{code:g$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),gQ)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=yB(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new yz({typeName:e_.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...g6(r)})}}function y$(e,t){let r=gz(e),i=gz(t);if(e===t)return{valid:!0,data:e};if(r===gB.object&&i===gB.object){let r=ep.objectKeys(t),i=ep.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=y$(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===gB.array&&i===gB.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=y$(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===gB.date&&i===gB.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class yU extends g7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(g2(e)||g2(i))return gQ;let a=y$(e.value,i.value);return a.valid?((g4(e)||g4(i))&&t.dirty(),{status:t.value,value:a.data}):(gJ(r,{code:g$.invalid_intersection_types}),gQ)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}yU.create=(e,t,r)=>new yU({left:e,right:t,typeName:e_.ZodIntersection,...g6(r)});class yV extends g7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==gB.array)return gJ(r,{code:g$.invalid_type,expected:gB.array,received:r.parsedType}),gQ;if(r.data.length<this._def.items.length)return gJ(r,{code:g$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gQ;!this._def.rest&&r.data.length>this._def.items.length&&(gJ(r,{code:g$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new g3(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>gX.mergeArray(t,e)):gX.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new yV({...this._def,rest:e})}}yV.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new yV({items:e,typeName:e_.ZodTuple,rest:null,...g6(t)})};class yW extends g7{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==gB.object)return gJ(r,{code:g$.invalid_type,expected:gB.object,received:r.parsedType}),gQ;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new g3(r,e,r.path,e)),value:n._parse(new g3(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?gX.mergeObjectAsync(t,i):gX.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new yW(t instanceof g7?{keyType:e,valueType:t,typeName:e_.ZodRecord,...g6(r)}:{keyType:yw.create(),valueType:e,typeName:e_.ZodRecord,...g6(t)})}}class yK extends g7{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==gB.map)return gJ(r,{code:g$.invalid_type,expected:gB.map,received:r.parsedType}),gQ;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new g3(r,e,r.path,[n,"key"])),value:a._parse(new g3(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return gQ;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return gQ;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}yK.create=(e,t,r)=>new yK({valueType:t,keyType:e,typeName:e_.ZodMap,...g6(r)});class yq extends g7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==gB.set)return gJ(r,{code:g$.invalid_type,expected:gB.set,received:r.parsedType}),gQ;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(gJ(r,{code:g$.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(gJ(r,{code:g$.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return gQ;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new g3(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new yq({...this._def,minSize:{value:e,message:em.toString(t)}})}max(e,t){return new yq({...this._def,maxSize:{value:e,message:em.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}yq.create=(e,t)=>new yq({valueType:e,minSize:null,maxSize:null,typeName:e_.ZodSet,...g6(t)});class yG extends g7{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==gB.function)return gJ(t,{code:g$.invalid_type,expected:gB.function,received:t.parsedType}),gQ;function r(e,r){return gH({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,gG(),gW].filter(e=>!!e),issueData:{code:g$.invalid_arguments,argumentsError:r}})}function i(e,r){return gH({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,gG(),gW].filter(e=>!!e),issueData:{code:g$.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof y0){let e=this;return g1(async function(...t){let s=new gV([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return g1(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new gV([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new gV([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new yG({...this._def,args:yV.create(e).rest(yM.create())})}returns(e){return new yG({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new yG({args:e||yV.create([]).rest(yM.create()),returns:t||yM.create(),typeName:e_.ZodFunction,...g6(r)})}}class yH extends g7{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}yH.create=(e,t)=>new yH({getter:e,typeName:e_.ZodLazy,...g6(t)});class yY extends g7{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return gJ(t,{received:t.data,code:g$.invalid_literal,expected:this._def.value}),gQ}return{status:"valid",value:e.data}}get value(){return this._def.value}}function yJ(e,t){return new yX({values:e,typeName:e_.ZodEnum,...g6(t)})}yY.create=(e,t)=>new yY({value:e,typeName:e_.ZodLiteral,...g6(t)});class yX extends g7{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return gJ(t,{expected:ep.joinValues(r),received:t.parsedType,code:g$.invalid_type}),gQ}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return gJ(t,{received:t.data,code:g$.invalid_enum_value,options:r}),gQ}return g1(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return yX.create(e,{...this._def,...t})}exclude(e,t=this._def){return yX.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}yX.create=yJ;class yQ extends g7{_parse(e){let t=ep.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==gB.string&&r.parsedType!==gB.number){let e=ep.objectValues(t);return gJ(r,{expected:ep.joinValues(e),received:r.parsedType,code:g$.invalid_type}),gQ}if(this._cache||(this._cache=new Set(ep.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=ep.objectValues(t);return gJ(r,{received:r.data,code:g$.invalid_enum_value,options:e}),gQ}return g1(e.data)}get enum(){return this._def.values}}yQ.create=(e,t)=>new yQ({values:e,typeName:e_.ZodNativeEnum,...g6(t)});class y0 extends g7{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==gB.promise&&!1===t.common.async?(gJ(t,{code:g$.invalid_type,expected:gB.promise,received:t.parsedType}),gQ):g1((t.parsedType===gB.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}y0.create=(e,t)=>new y0({type:e,typeName:e_.ZodPromise,...g6(t)});class y1 extends g7{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===e_.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{gJ(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return gQ;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?gQ:"dirty"===i.status||"dirty"===t.value?g0(i.value):i});{if("aborted"===t.value)return gQ;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?gQ:"dirty"===i.status||"dirty"===t.value?g0(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?gQ:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?gQ:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>g5(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):gQ);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!g5(e))return gQ;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}ep.assertNever(i)}}y1.create=(e,t,r)=>new y1({schema:e,typeName:e_.ZodEffects,effect:t,...g6(r)}),y1.createWithPreprocess=(e,t,r)=>new y1({schema:t,effect:{type:"preprocess",transform:e},typeName:e_.ZodEffects,...g6(r)});class y2 extends g7{_parse(e){return this._getType(e)===gB.undefined?g1(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}y2.create=(e,t)=>new y2({innerType:e,typeName:e_.ZodOptional,...g6(t)});class y4 extends g7{_parse(e){return this._getType(e)===gB.null?g1(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}y4.create=(e,t)=>new y4({innerType:e,typeName:e_.ZodNullable,...g6(t)});class y5 extends g7{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===gB.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}y5.create=(e,t)=>new y5({innerType:e,typeName:e_.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...g6(t)});class y9 extends g7{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return g9(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new gV(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new gV(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}y9.create=(e,t)=>new y9({innerType:e,typeName:e_.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...g6(t)});class y3 extends g7{_parse(e){if(this._getType(e)!==gB.nan){let t=this._getOrReturnCtx(e);return gJ(t,{code:g$.invalid_type,expected:gB.nan,received:t.parsedType}),gQ}return{status:"valid",value:e.data}}}y3.create=e=>new y3({typeName:e_.ZodNaN,...g6(e)});let y8=Symbol("zod_brand");class y6 extends g7{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class y7 extends g7{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?gQ:"dirty"===e.status?(t.dirty(),g0(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?gQ:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new y7({in:e,out:t,typeName:e_.ZodPipeline})}}class ve extends g7{_parse(e){let t=this._def.innerType._parse(e),r=e=>(g5(e)&&(e.value=Object.freeze(e.value)),e);return g9(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function vt(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function vr(e,t={},r){return e?yN.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=vt(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=vt(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):yN.create()}ve.create=(e,t)=>new ve({innerType:e,typeName:e_.ZodReadonly,...g6(t)});let vi={object:yL.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(e_||(e_={}));let va=(e,t={message:`Input not instance of ${e.name}`})=>vr(t=>t instanceof e,t),vn=yw.create,vs=yZ.create,vo=y3.create,vd=yE.create,vu=yA.create,vl=yS.create,vc=yO.create,vh=yI.create,vp=yC.create,vf=yN.create,vm=yM.create,v_=yP.create,vg=yj.create,vy=yR.create,vv=yL.create,vb=yL.strictCreate,vx=yF.create,vk=yz.create,vw=yU.create,vT=yV.create,vZ=yW.create,vE=yK.create,vA=yq.create,vS=yG.create,vO=yH.create,vI=yY.create,vC=yX.create,vN=yQ.create,vM=y0.create,vP=y1.create,vj=y2.create,vR=y4.create,vD=y1.createWithPreprocess,vL=y7.create,vF=()=>vn().optional(),vB=()=>vs().optional(),vz=()=>vu().optional(),v$={string:e=>yw.create({...e,coerce:!0}),number:e=>yZ.create({...e,coerce:!0}),boolean:e=>yA.create({...e,coerce:!0}),bigint:e=>yE.create({...e,coerce:!0}),date:e=>yS.create({...e,coerce:!0})},vU=gQ;e.s(["BRAND",0,y8,"NEVER",0,vU,"Schema",()=>g7,"ZodAny",()=>yN,"ZodArray",()=>yR,"ZodBigInt",()=>yE,"ZodBoolean",()=>yA,"ZodBranded",()=>y6,"ZodCatch",()=>y9,"ZodDate",()=>yS,"ZodDefault",()=>y5,"ZodDiscriminatedUnion",()=>yz,"ZodEffects",()=>y1,"ZodEnum",()=>yX,"ZodFirstPartyTypeKind",()=>e_,"ZodFunction",()=>yG,"ZodIntersection",()=>yU,"ZodLazy",()=>yH,"ZodLiteral",()=>yY,"ZodMap",()=>yK,"ZodNaN",()=>y3,"ZodNativeEnum",()=>yQ,"ZodNever",()=>yP,"ZodNull",()=>yC,"ZodNullable",()=>y4,"ZodNumber",()=>yZ,"ZodObject",()=>yL,"ZodOptional",()=>y2,"ZodPipeline",()=>y7,"ZodPromise",()=>y0,"ZodReadonly",()=>ve,"ZodRecord",()=>yW,"ZodSchema",()=>g7,"ZodSet",()=>yq,"ZodString",()=>yw,"ZodSymbol",()=>yO,"ZodTransformer",()=>y1,"ZodTuple",()=>yV,"ZodType",()=>g7,"ZodUndefined",()=>yI,"ZodUnion",()=>yF,"ZodUnknown",()=>yM,"ZodVoid",()=>yj,"any",()=>vf,"array",()=>vy,"bigint",()=>vd,"boolean",()=>vu,"coerce",0,v$,"custom",()=>vr,"date",()=>vl,"datetimeRegex",()=>yv,"discriminatedUnion",()=>vk,"effect",()=>vP,"enum",()=>vC,"function",()=>vS,"instanceof",()=>va,"intersection",()=>vw,"late",0,vi,"lazy",()=>vO,"literal",()=>vI,"map",()=>vE,"nan",()=>vo,"nativeEnum",()=>vN,"never",()=>v_,"null",()=>vp,"nullable",()=>vR,"number",()=>vs,"object",()=>vv,"oboolean",()=>vz,"onumber",()=>vB,"optional",()=>vj,"ostring",()=>vF,"pipeline",()=>vL,"preprocess",()=>vD,"promise",()=>vM,"record",()=>vZ,"set",()=>vA,"strictObject",()=>vb,"string",()=>vn,"symbol",()=>vc,"transformer",()=>vP,"tuple",()=>vT,"undefined",()=>vh,"union",()=>vx,"unknown",()=>vm,"void",()=>vg],631773),e.i(631773),e.i(247509),e.s(["BRAND",0,y8,"DIRTY",0,g0,"EMPTY_PATH",0,gY,"INVALID",0,gQ,"NEVER",0,vU,"OK",0,g1,"ParseStatus",()=>gX,"Schema",()=>g7,"ZodAny",()=>yN,"ZodArray",()=>yR,"ZodBigInt",()=>yE,"ZodBoolean",()=>yA,"ZodBranded",()=>y6,"ZodCatch",()=>y9,"ZodDate",()=>yS,"ZodDefault",()=>y5,"ZodDiscriminatedUnion",()=>yz,"ZodEffects",()=>y1,"ZodEnum",()=>yX,"ZodError",()=>gV,"ZodFirstPartyTypeKind",()=>e_,"ZodFunction",()=>yG,"ZodIntersection",()=>yU,"ZodIssueCode",0,g$,"ZodLazy",()=>yH,"ZodLiteral",()=>yY,"ZodMap",()=>yK,"ZodNaN",()=>y3,"ZodNativeEnum",()=>yQ,"ZodNever",()=>yP,"ZodNull",()=>yC,"ZodNullable",()=>y4,"ZodNumber",()=>yZ,"ZodObject",()=>yL,"ZodOptional",()=>y2,"ZodParsedType",0,gB,"ZodPipeline",()=>y7,"ZodPromise",()=>y0,"ZodReadonly",()=>ve,"ZodRecord",()=>yW,"ZodSchema",()=>g7,"ZodSet",()=>yq,"ZodString",()=>yw,"ZodSymbol",()=>yO,"ZodTransformer",()=>y1,"ZodTuple",()=>yV,"ZodType",()=>g7,"ZodUndefined",()=>yI,"ZodUnion",()=>yF,"ZodUnknown",()=>yM,"ZodVoid",()=>yj,"addIssueToContext",()=>gJ,"any",()=>vf,"array",()=>vy,"bigint",()=>vd,"boolean",()=>vu,"coerce",0,v$,"custom",()=>vr,"date",()=>vl,"datetimeRegex",()=>yv,"defaultErrorMap",0,gW,"discriminatedUnion",()=>vk,"effect",()=>vP,"enum",()=>vC,"function",()=>vS,"getErrorMap",()=>gG,"getParsedType",0,gz,"instanceof",()=>va,"intersection",()=>vw,"isAborted",0,g2,"isAsync",0,g9,"isDirty",0,g4,"isValid",0,g5,"late",0,vi,"lazy",()=>vO,"literal",()=>vI,"makeIssue",0,gH,"map",()=>vE,"nan",()=>vo,"nativeEnum",()=>vN,"never",()=>v_,"null",()=>vp,"nullable",()=>vR,"number",()=>vs,"object",()=>vv,"objectUtil",()=>ef,"oboolean",()=>vz,"onumber",()=>vB,"optional",()=>vj,"ostring",()=>vF,"pipeline",()=>vL,"preprocess",()=>vD,"promise",()=>vM,"quotelessJson",0,gU,"record",()=>vZ,"set",()=>vA,"setErrorMap",()=>gq,"strictObject",()=>vb,"string",()=>vn,"symbol",()=>vc,"transformer",()=>vP,"tuple",()=>vT,"undefined",()=>vh,"union",()=>vx,"unknown",()=>vm,"util",()=>ep,"void",()=>vg],70664);var vV=e.i(70664),vV=vV;let vW=vV.object({w:vV.number(),h:vV.number(),align:vV.number().optional(),mode:vV.nativeEnum(ee).optional()}),vK={cover(e,t){let{w:r,h:i,align:a=J.CENTER|X.MIDDLE,mode:n}=vW.parse(t),s=7&a,o=a>>3;if(!(0!==s&&!(s&s-1)||0!==o&&!(o&o-1)))throw Error("only use one flag per alignment direction");let d=s>>1,u=o>>1,l=r/i>e.bitmap.width/e.bitmap.height?r/e.bitmap.width:i/e.bitmap.height;return e=pT.scale(e,{f:l,mode:n}),e=gF.crop(e,{x:(e.bitmap.width-r)/2*d,y:(e.bitmap.height-i)/2*u,w:r,h:i})}};e.s([],788618),e.i(788618),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(eg||(eg={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(ey||(ey={}));let vq=eg.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vG=e=>{switch(typeof e){case"undefined":return vq.undefined;case"string":return vq.string;case"number":return Number.isNaN(e)?vq.nan:vq.number;case"boolean":return vq.boolean;case"function":return vq.function;case"bigint":return vq.bigint;case"symbol":return vq.symbol;case"object":if(Array.isArray(e))return vq.array;if(null===e)return vq.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return vq.promise;if("undefined"!=typeof Map&&e instanceof Map)return vq.map;if("undefined"!=typeof Set&&e instanceof Set)return vq.set;if("undefined"!=typeof Date&&e instanceof Date)return vq.date;return vq.object;default:return vq.unknown}};e.s(["ZodParsedType",0,vq,"getParsedType",0,vG,"objectUtil",()=>ey,"util",()=>eg],172071);let vH=eg.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),vY=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class vJ extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof vJ))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,eg.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}vJ.create=e=>new vJ(e),e.s(["ZodError",()=>vJ,"ZodIssueCode",0,vH,"quotelessJson",0,vY],195342);let vX=(e,t)=>{let r;switch(e.code){case vH.invalid_type:r=e.received===vq.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case vH.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,eg.jsonStringifyReplacer)}`;break;case vH.unrecognized_keys:r=`Unrecognized key(s) in object: ${eg.joinValues(e.keys,", ")}`;break;case vH.invalid_union:r="Invalid input";break;case vH.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${eg.joinValues(e.options)}`;break;case vH.invalid_enum_value:r=`Invalid enum value. Expected ${eg.joinValues(e.options)}, received '${e.received}'`;break;case vH.invalid_arguments:r="Invalid function arguments";break;case vH.invalid_return_type:r="Invalid function return type";break;case vH.invalid_date:r="Invalid date";break;case vH.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:eg.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case vH.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case vH.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case vH.custom:r="Invalid input";break;case vH.invalid_intersection_types:r="Intersection results could not be merged";break;case vH.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case vH.not_finite:r="Number must be finite";break;default:r=t.defaultError,eg.assertNever(e)}return{message:r}},vQ=vX;function v0(e){vQ=e}function v1(){return vQ}e.s(["getErrorMap",()=>v1,"setErrorMap",()=>v0],965853),e.i(965853),e.s(["defaultErrorMap",0,vX,"getErrorMap",()=>v1,"setErrorMap",()=>v0],487851),e.i(487851);let v2=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},v4=[];function v5(e,t){let r=v1(),i=v2({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===vX?void 0:vX].filter(e=>!!e)});e.common.issues.push(i)}class v9{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return v3;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return v9.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return v3;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let v3=Object.freeze({status:"aborted"}),v8=e=>({status:"dirty",value:e}),v6=e=>({status:"valid",value:e}),v7=e=>"aborted"===e.status,be=e=>"dirty"===e.status,bt=e=>"valid"===e.status,br=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,v8,"EMPTY_PATH",0,v4,"INVALID",0,v3,"OK",0,v6,"ParseStatus",()=>v9,"addIssueToContext",()=>v5,"isAborted",0,v7,"isAsync",0,br,"isDirty",0,be,"isValid",0,bt,"makeIssue",0,v2],449147),e.i(449147),e.s([],594720),e.i(594720),e.i(172071),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(ev||(ev={}));class bi{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let ba=(e,t)=>{if(bt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new vJ(e.common.issues);return this._error=t,this._error}}};function bn(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class bs{get description(){return this._def.description}_getType(e){return vG(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:vG(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new v9,ctx:{common:e.parent.common,data:e.data,parsedType:vG(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(br(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vG(e)},i=this._parseSync({data:e,path:r.path,parent:r});return ba(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vG(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return bt(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>bt(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vG(e)},i=this._parse({data:e,path:r.path,parent:r});return ba(r,await (br(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:vH.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new b6({schema:this,typeName:eb.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return b7.create(this,this._def)}nullable(){return xe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bU.create(this)}promise(){return b8.create(this,this._def)}or(e){return bK.create([this,e],this._def)}and(e){return bY.create(this,e,this._def)}transform(e){return new b6({...bn(this._def),schema:this,typeName:eb.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new xt({...bn(this._def),innerType:this,defaultValue:t,typeName:eb.ZodDefault})}brand(){return new xn({typeName:eb.ZodBranded,type:this,...bn(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new xr({...bn(this._def),innerType:this,catchValue:t,typeName:eb.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return xs.create(this,e)}readonly(){return xo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let bo=/^c[^\s-]{8,}$/i,bd=/^[0-9a-z]+$/,bu=/^[0-9A-HJKMNP-TV-Z]{26}$/i,bl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bc=/^[a-z0-9_-]{21}$/i,bh=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bp=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bf=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bm="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",b_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,by=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,bv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bx=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,bk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bw=RegExp(`^${bk}$`);function bT(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function bZ(e){return RegExp(`^${bT(e)}$`)}function bE(e){let t=`${bk}T${bT(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function bA(e,t){return!!(("v4"===t||!t)&&b_.test(e)||("v6"===t||!t)&&by.test(e))}function bS(e,t){if(!bh.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function bO(e,t){return!!(("v4"===t||!t)&&bg.test(e)||("v6"===t||!t)&&bv.test(e))}class bI extends bs{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==vq.string){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.string,received:t.parsedType}),v3}let r=new v9;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(v5(t=this._getOrReturnCtx(e,t),{code:vH.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(v5(t=this._getOrReturnCtx(e,t),{code:vH.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?v5(t,{code:vH.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&v5(t,{code:vH.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)bf.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{validation:"email",code:vH.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)u||(u=RegExp(bm,"u")),u.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:vH.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)bl.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:vH.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)bc.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:vH.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)bo.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:vH.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)bd.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:vH.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)bu.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:vH.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{v5(t=this._getOrReturnCtx(e,t),{validation:"url",code:vH.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{validation:"regex",code:vH.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(v5(t=this._getOrReturnCtx(e,t),{code:vH.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(v5(t=this._getOrReturnCtx(e,t),{code:vH.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(v5(t=this._getOrReturnCtx(e,t),{code:vH.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?bE(i).test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{code:vH.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?bw.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{code:vH.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?bZ(i).test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{code:vH.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?bp.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{validation:"duration",code:vH.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?bA(e.data,i.version)||(v5(t=this._getOrReturnCtx(e,t),{validation:"ip",code:vH.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?bS(e.data,i.alg)||(v5(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:vH.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?bO(e.data,i.version)||(v5(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:vH.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?bb.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{validation:"base64",code:vH.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?bx.test(e.data)||(v5(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:vH.invalid_string,message:i.message}),r.dirty()):eg.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:vH.invalid_string,...ev.errToObj(r)})}_addCheck(e){return new bI({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ev.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ev.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ev.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ev.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ev.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ev.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ev.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ev.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ev.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ev.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ev.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ev.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ev.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...ev.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...ev.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ev.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ev.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...ev.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ev.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ev.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ev.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ev.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ev.errToObj(t)})}nonempty(e){return this.min(1,ev.errToObj(e))}trim(){return new bI({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bI({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bI({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function bC(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}bI.create=e=>new bI({checks:[],typeName:eb.ZodString,coerce:e?.coerce??!1,...bn(e)});class bN extends bs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==vq.number){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.number,received:t.parsedType}),v3}let r=new v9;for(let i of this._def.checks)"int"===i.kind?eg.isInteger(e.data)||(v5(t=this._getOrReturnCtx(e,t),{code:vH.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(v5(t=this._getOrReturnCtx(e,t),{code:vH.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(v5(t=this._getOrReturnCtx(e,t),{code:vH.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==bC(e.data,i.value)&&(v5(t=this._getOrReturnCtx(e,t),{code:vH.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(v5(t=this._getOrReturnCtx(e,t),{code:vH.not_finite,message:i.message}),r.dirty()):eg.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ev.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ev.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ev.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ev.toString(t))}setLimit(e,t,r,i){return new bN({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ev.toString(i)}]})}_addCheck(e){return new bN({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ev.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ev.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ev.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ev.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ev.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ev.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ev.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ev.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ev.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&eg.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}bN.create=e=>new bN({checks:[],typeName:eb.ZodNumber,coerce:e?.coerce||!1,...bn(e)});class bM extends bs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==vq.bigint)return this._getInvalidInput(e);let r=new v9;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(v5(t=this._getOrReturnCtx(e,t),{code:vH.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(v5(t=this._getOrReturnCtx(e,t),{code:vH.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(v5(t=this._getOrReturnCtx(e,t),{code:vH.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):eg.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.bigint,received:t.parsedType}),v3}gte(e,t){return this.setLimit("min",e,!0,ev.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ev.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ev.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ev.toString(t))}setLimit(e,t,r,i){return new bM({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ev.toString(i)}]})}_addCheck(e){return new bM({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ev.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ev.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ev.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ev.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ev.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}bM.create=e=>new bM({checks:[],typeName:eb.ZodBigInt,coerce:e?.coerce??!1,...bn(e)});class bP extends bs{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==vq.boolean){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.boolean,received:t.parsedType}),v3}return v6(e.data)}}bP.create=e=>new bP({typeName:eb.ZodBoolean,coerce:e?.coerce||!1,...bn(e)});class bj extends bs{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==vq.date){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.date,received:t.parsedType}),v3}if(Number.isNaN(e.data.getTime()))return v5(this._getOrReturnCtx(e),{code:vH.invalid_date}),v3;let r=new v9;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(v5(t=this._getOrReturnCtx(e,t),{code:vH.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(v5(t=this._getOrReturnCtx(e,t),{code:vH.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):eg.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new bj({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ev.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ev.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}bj.create=e=>new bj({checks:[],coerce:e?.coerce||!1,typeName:eb.ZodDate,...bn(e)});class bR extends bs{_parse(e){if(this._getType(e)!==vq.symbol){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.symbol,received:t.parsedType}),v3}return v6(e.data)}}bR.create=e=>new bR({typeName:eb.ZodSymbol,...bn(e)});class bD extends bs{_parse(e){if(this._getType(e)!==vq.undefined){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.undefined,received:t.parsedType}),v3}return v6(e.data)}}bD.create=e=>new bD({typeName:eb.ZodUndefined,...bn(e)});class bL extends bs{_parse(e){if(this._getType(e)!==vq.null){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.null,received:t.parsedType}),v3}return v6(e.data)}}bL.create=e=>new bL({typeName:eb.ZodNull,...bn(e)});class bF extends bs{constructor(){super(...arguments),this._any=!0}_parse(e){return v6(e.data)}}bF.create=e=>new bF({typeName:eb.ZodAny,...bn(e)});class bB extends bs{constructor(){super(...arguments),this._unknown=!0}_parse(e){return v6(e.data)}}bB.create=e=>new bB({typeName:eb.ZodUnknown,...bn(e)});class bz extends bs{_parse(e){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.never,received:t.parsedType}),v3}}bz.create=e=>new bz({typeName:eb.ZodNever,...bn(e)});class b$ extends bs{_parse(e){if(this._getType(e)!==vq.undefined){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.void,received:t.parsedType}),v3}return v6(e.data)}}b$.create=e=>new b$({typeName:eb.ZodVoid,...bn(e)});class bU extends bs{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==vq.array)return v5(t,{code:vH.invalid_type,expected:vq.array,received:t.parsedType}),v3;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(v5(t,{code:e?vH.too_big:vH.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(v5(t,{code:vH.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(v5(t,{code:vH.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new bi(t,e,t.path,r)))).then(e=>v9.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new bi(t,e,t.path,r)));return v9.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new bU({...this._def,minLength:{value:e,message:ev.toString(t)}})}max(e,t){return new bU({...this._def,maxLength:{value:e,message:ev.toString(t)}})}length(e,t){return new bU({...this._def,exactLength:{value:e,message:ev.toString(t)}})}nonempty(e){return this.min(1,e)}}function bV(e){if(e instanceof bW){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=b7.create(bV(i))}return new bW({...e._def,shape:()=>t})}if(e instanceof bU)return new bU({...e._def,type:bV(e.element)});if(e instanceof b7)return b7.create(bV(e.unwrap()));if(e instanceof xe)return xe.create(bV(e.unwrap()));if(e instanceof bJ)return bJ.create(e.items.map(e=>bV(e)));else return e}bU.create=(e,t)=>new bU({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eb.ZodArray,...bn(t)});class bW extends bs{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=eg.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==vq.object){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.object,received:t.parsedType}),v3}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof bz&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new bi(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof bz){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(v5(r,{code:vH.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new bi(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>v9.mergeObjectSync(t,e)):v9.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return ev.errToObj,new bW({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:ev.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new bW({...this._def,unknownKeys:"strip"})}passthrough(){return new bW({...this._def,unknownKeys:"passthrough"})}extend(e){return new bW({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new bW({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:eb.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new bW({...this._def,catchall:e})}pick(e){let t={};for(let r of eg.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new bW({...this._def,shape:()=>t})}omit(e){let t={};for(let r of eg.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new bW({...this._def,shape:()=>t})}deepPartial(){return bV(this)}partial(e){let t={};for(let r of eg.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new bW({...this._def,shape:()=>t})}required(e){let t={};for(let r of eg.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof b7;)e=e._def.innerType;t[r]=e}return new bW({...this._def,shape:()=>t})}keyof(){return b5(eg.objectKeys(this.shape))}}bW.create=(e,t)=>new bW({shape:()=>e,unknownKeys:"strip",catchall:bz.create(),typeName:eb.ZodObject,...bn(t)}),bW.strictCreate=(e,t)=>new bW({shape:()=>e,unknownKeys:"strict",catchall:bz.create(),typeName:eb.ZodObject,...bn(t)}),bW.lazycreate=(e,t)=>new bW({shape:e,unknownKeys:"strip",catchall:bz.create(),typeName:eb.ZodObject,...bn(t)});class bK extends bs{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new vJ(e.ctx.common.issues));return v5(t,{code:vH.invalid_union,unionErrors:r}),v3}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new vJ(e));return v5(t,{code:vH.invalid_union,unionErrors:a}),v3}}get options(){return this._def.options}}bK.create=(e,t)=>new bK({options:e,typeName:eb.ZodUnion,...bn(t)});let bq=e=>{if(e instanceof b2)return bq(e.schema);if(e instanceof b6)return bq(e.innerType());if(e instanceof b4)return[e.value];if(e instanceof b9)return e.options;if(e instanceof b3)return eg.objectValues(e.enum);else if(e instanceof xt)return bq(e._def.innerType);else if(e instanceof bD)return[void 0];else if(e instanceof bL)return[null];else if(e instanceof b7)return[void 0,...bq(e.unwrap())];else if(e instanceof xe)return[null,...bq(e.unwrap())];else if(e instanceof xn)return bq(e.unwrap());else if(e instanceof xo)return bq(e.unwrap());else if(e instanceof xr)return bq(e._def.innerType);else return[]};class bG extends bs{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==vq.object)return v5(t,{code:vH.invalid_type,expected:vq.object,received:t.parsedType}),v3;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(v5(t,{code:vH.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),v3)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=bq(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new bG({typeName:eb.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...bn(r)})}}function bH(e,t){let r=vG(e),i=vG(t);if(e===t)return{valid:!0,data:e};if(r===vq.object&&i===vq.object){let r=eg.objectKeys(t),i=eg.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=bH(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===vq.array&&i===vq.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=bH(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===vq.date&&i===vq.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class bY extends bs{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(v7(e)||v7(i))return v3;let a=bH(e.value,i.value);return a.valid?((be(e)||be(i))&&t.dirty(),{status:t.value,value:a.data}):(v5(r,{code:vH.invalid_intersection_types}),v3)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}bY.create=(e,t,r)=>new bY({left:e,right:t,typeName:eb.ZodIntersection,...bn(r)});class bJ extends bs{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==vq.array)return v5(r,{code:vH.invalid_type,expected:vq.array,received:r.parsedType}),v3;if(r.data.length<this._def.items.length)return v5(r,{code:vH.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),v3;!this._def.rest&&r.data.length>this._def.items.length&&(v5(r,{code:vH.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new bi(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>v9.mergeArray(t,e)):v9.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new bJ({...this._def,rest:e})}}bJ.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new bJ({items:e,typeName:eb.ZodTuple,rest:null,...bn(t)})};class bX extends bs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==vq.object)return v5(r,{code:vH.invalid_type,expected:vq.object,received:r.parsedType}),v3;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new bi(r,e,r.path,e)),value:n._parse(new bi(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?v9.mergeObjectAsync(t,i):v9.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new bX(t instanceof bs?{keyType:e,valueType:t,typeName:eb.ZodRecord,...bn(r)}:{keyType:bI.create(),valueType:e,typeName:eb.ZodRecord,...bn(t)})}}class bQ extends bs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==vq.map)return v5(r,{code:vH.invalid_type,expected:vq.map,received:r.parsedType}),v3;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new bi(r,e,r.path,[n,"key"])),value:a._parse(new bi(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return v3;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return v3;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}bQ.create=(e,t,r)=>new bQ({valueType:t,keyType:e,typeName:eb.ZodMap,...bn(r)});class b0 extends bs{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==vq.set)return v5(r,{code:vH.invalid_type,expected:vq.set,received:r.parsedType}),v3;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(v5(r,{code:vH.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(v5(r,{code:vH.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return v3;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new bi(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new b0({...this._def,minSize:{value:e,message:ev.toString(t)}})}max(e,t){return new b0({...this._def,maxSize:{value:e,message:ev.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}b0.create=(e,t)=>new b0({valueType:e,minSize:null,maxSize:null,typeName:eb.ZodSet,...bn(t)});class b1 extends bs{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==vq.function)return v5(t,{code:vH.invalid_type,expected:vq.function,received:t.parsedType}),v3;function r(e,r){return v2({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,v1(),vX].filter(e=>!!e),issueData:{code:vH.invalid_arguments,argumentsError:r}})}function i(e,r){return v2({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,v1(),vX].filter(e=>!!e),issueData:{code:vH.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof b8){let e=this;return v6(async function(...t){let s=new vJ([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return v6(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new vJ([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new vJ([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new b1({...this._def,args:bJ.create(e).rest(bB.create())})}returns(e){return new b1({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new b1({args:e||bJ.create([]).rest(bB.create()),returns:t||bB.create(),typeName:eb.ZodFunction,...bn(r)})}}class b2 extends bs{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}b2.create=(e,t)=>new b2({getter:e,typeName:eb.ZodLazy,...bn(t)});class b4 extends bs{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return v5(t,{received:t.data,code:vH.invalid_literal,expected:this._def.value}),v3}return{status:"valid",value:e.data}}get value(){return this._def.value}}function b5(e,t){return new b9({values:e,typeName:eb.ZodEnum,...bn(t)})}b4.create=(e,t)=>new b4({value:e,typeName:eb.ZodLiteral,...bn(t)});class b9 extends bs{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return v5(t,{expected:eg.joinValues(r),received:t.parsedType,code:vH.invalid_type}),v3}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return v5(t,{received:t.data,code:vH.invalid_enum_value,options:r}),v3}return v6(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return b9.create(e,{...this._def,...t})}exclude(e,t=this._def){return b9.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}b9.create=b5;class b3 extends bs{_parse(e){let t=eg.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==vq.string&&r.parsedType!==vq.number){let e=eg.objectValues(t);return v5(r,{expected:eg.joinValues(e),received:r.parsedType,code:vH.invalid_type}),v3}if(this._cache||(this._cache=new Set(eg.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=eg.objectValues(t);return v5(r,{received:r.data,code:vH.invalid_enum_value,options:e}),v3}return v6(e.data)}get enum(){return this._def.values}}b3.create=(e,t)=>new b3({values:e,typeName:eb.ZodNativeEnum,...bn(t)});class b8 extends bs{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==vq.promise&&!1===t.common.async?(v5(t,{code:vH.invalid_type,expected:vq.promise,received:t.parsedType}),v3):v6((t.parsedType===vq.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}b8.create=(e,t)=>new b8({type:e,typeName:eb.ZodPromise,...bn(t)});class b6 extends bs{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eb.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{v5(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return v3;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?v3:"dirty"===i.status||"dirty"===t.value?v8(i.value):i});{if("aborted"===t.value)return v3;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?v3:"dirty"===i.status||"dirty"===t.value?v8(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?v3:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?v3:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>bt(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):v3);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!bt(e))return v3;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}eg.assertNever(i)}}b6.create=(e,t,r)=>new b6({schema:e,typeName:eb.ZodEffects,effect:t,...bn(r)}),b6.createWithPreprocess=(e,t,r)=>new b6({schema:t,effect:{type:"preprocess",transform:e},typeName:eb.ZodEffects,...bn(r)});class b7 extends bs{_parse(e){return this._getType(e)===vq.undefined?v6(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}b7.create=(e,t)=>new b7({innerType:e,typeName:eb.ZodOptional,...bn(t)});class xe extends bs{_parse(e){return this._getType(e)===vq.null?v6(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xe.create=(e,t)=>new xe({innerType:e,typeName:eb.ZodNullable,...bn(t)});class xt extends bs{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===vq.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}xt.create=(e,t)=>new xt({innerType:e,typeName:eb.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...bn(t)});class xr extends bs{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return br(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new vJ(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new vJ(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}xr.create=(e,t)=>new xr({innerType:e,typeName:eb.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...bn(t)});class xi extends bs{_parse(e){if(this._getType(e)!==vq.nan){let t=this._getOrReturnCtx(e);return v5(t,{code:vH.invalid_type,expected:vq.nan,received:t.parsedType}),v3}return{status:"valid",value:e.data}}}xi.create=e=>new xi({typeName:eb.ZodNaN,...bn(e)});let xa=Symbol("zod_brand");class xn extends bs{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class xs extends bs{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?v3:"dirty"===e.status?(t.dirty(),v8(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?v3:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new xs({in:e,out:t,typeName:eb.ZodPipeline})}}class xo extends bs{_parse(e){let t=this._def.innerType._parse(e),r=e=>(bt(e)&&(e.value=Object.freeze(e.value)),e);return br(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function xd(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function xu(e,t={},r){return e?bF.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=xd(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=xd(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):bF.create()}xo.create=(e,t)=>new xo({innerType:e,typeName:eb.ZodReadonly,...bn(t)});let xl={object:bW.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eb||(eb={}));let xc=(e,t={message:`Input not instance of ${e.name}`})=>xu(t=>t instanceof e,t),xh=bI.create,xp=bN.create,xf=xi.create,xm=bM.create,x_=bP.create,xg=bj.create,xy=bR.create,xv=bD.create,xb=bL.create,xx=bF.create,xk=bB.create,xw=bz.create,xT=b$.create,xZ=bU.create,xE=bW.create,xA=bW.strictCreate,xS=bK.create,xO=bG.create,xI=bY.create,xC=bJ.create,xN=bX.create,xM=bQ.create,xP=b0.create,xj=b1.create,xR=b2.create,xD=b4.create,xL=b9.create,xF=b3.create,xB=b8.create,xz=b6.create,x$=b7.create,xU=xe.create,xV=b6.createWithPreprocess,xW=xs.create,xK=()=>xh().optional(),xq=()=>xp().optional(),xG=()=>x_().optional(),xH={string:e=>bI.create({...e,coerce:!0}),number:e=>bN.create({...e,coerce:!0}),boolean:e=>bP.create({...e,coerce:!0}),bigint:e=>bM.create({...e,coerce:!0}),date:e=>bj.create({...e,coerce:!0})},xY=v3;e.s(["BRAND",0,xa,"NEVER",0,xY,"Schema",()=>bs,"ZodAny",()=>bF,"ZodArray",()=>bU,"ZodBigInt",()=>bM,"ZodBoolean",()=>bP,"ZodBranded",()=>xn,"ZodCatch",()=>xr,"ZodDate",()=>bj,"ZodDefault",()=>xt,"ZodDiscriminatedUnion",()=>bG,"ZodEffects",()=>b6,"ZodEnum",()=>b9,"ZodFirstPartyTypeKind",()=>eb,"ZodFunction",()=>b1,"ZodIntersection",()=>bY,"ZodLazy",()=>b2,"ZodLiteral",()=>b4,"ZodMap",()=>bQ,"ZodNaN",()=>xi,"ZodNativeEnum",()=>b3,"ZodNever",()=>bz,"ZodNull",()=>bL,"ZodNullable",()=>xe,"ZodNumber",()=>bN,"ZodObject",()=>bW,"ZodOptional",()=>b7,"ZodPipeline",()=>xs,"ZodPromise",()=>b8,"ZodReadonly",()=>xo,"ZodRecord",()=>bX,"ZodSchema",()=>bs,"ZodSet",()=>b0,"ZodString",()=>bI,"ZodSymbol",()=>bR,"ZodTransformer",()=>b6,"ZodTuple",()=>bJ,"ZodType",()=>bs,"ZodUndefined",()=>bD,"ZodUnion",()=>bK,"ZodUnknown",()=>bB,"ZodVoid",()=>b$,"any",()=>xx,"array",()=>xZ,"bigint",()=>xm,"boolean",()=>x_,"coerce",0,xH,"custom",()=>xu,"date",()=>xg,"datetimeRegex",()=>bE,"discriminatedUnion",()=>xO,"effect",()=>xz,"enum",()=>xL,"function",()=>xj,"instanceof",()=>xc,"intersection",()=>xI,"late",0,xl,"lazy",()=>xR,"literal",()=>xD,"map",()=>xM,"nan",()=>xf,"nativeEnum",()=>xF,"never",()=>xw,"null",()=>xb,"nullable",()=>xU,"number",()=>xp,"object",()=>xE,"oboolean",()=>xG,"onumber",()=>xq,"optional",()=>x$,"ostring",()=>xK,"pipeline",()=>xW,"preprocess",()=>xV,"promise",()=>xB,"record",()=>xN,"set",()=>xP,"strictObject",()=>xA,"string",()=>xh,"symbol",()=>xy,"transformer",()=>xz,"tuple",()=>xC,"undefined",()=>xv,"union",()=>xS,"unknown",()=>xk,"void",()=>xT],355350),e.i(355350),e.i(195342),e.s(["BRAND",0,xa,"DIRTY",0,v8,"EMPTY_PATH",0,v4,"INVALID",0,v3,"NEVER",0,xY,"OK",0,v6,"ParseStatus",()=>v9,"Schema",()=>bs,"ZodAny",()=>bF,"ZodArray",()=>bU,"ZodBigInt",()=>bM,"ZodBoolean",()=>bP,"ZodBranded",()=>xn,"ZodCatch",()=>xr,"ZodDate",()=>bj,"ZodDefault",()=>xt,"ZodDiscriminatedUnion",()=>bG,"ZodEffects",()=>b6,"ZodEnum",()=>b9,"ZodError",()=>vJ,"ZodFirstPartyTypeKind",()=>eb,"ZodFunction",()=>b1,"ZodIntersection",()=>bY,"ZodIssueCode",0,vH,"ZodLazy",()=>b2,"ZodLiteral",()=>b4,"ZodMap",()=>bQ,"ZodNaN",()=>xi,"ZodNativeEnum",()=>b3,"ZodNever",()=>bz,"ZodNull",()=>bL,"ZodNullable",()=>xe,"ZodNumber",()=>bN,"ZodObject",()=>bW,"ZodOptional",()=>b7,"ZodParsedType",0,vq,"ZodPipeline",()=>xs,"ZodPromise",()=>b8,"ZodReadonly",()=>xo,"ZodRecord",()=>bX,"ZodSchema",()=>bs,"ZodSet",()=>b0,"ZodString",()=>bI,"ZodSymbol",()=>bR,"ZodTransformer",()=>b6,"ZodTuple",()=>bJ,"ZodType",()=>bs,"ZodUndefined",()=>bD,"ZodUnion",()=>bK,"ZodUnknown",()=>bB,"ZodVoid",()=>b$,"addIssueToContext",()=>v5,"any",()=>xx,"array",()=>xZ,"bigint",()=>xm,"boolean",()=>x_,"coerce",0,xH,"custom",()=>xu,"date",()=>xg,"datetimeRegex",()=>bE,"defaultErrorMap",0,vX,"discriminatedUnion",()=>xO,"effect",()=>xz,"enum",()=>xL,"function",()=>xj,"getErrorMap",()=>v1,"getParsedType",0,vG,"instanceof",()=>xc,"intersection",()=>xI,"isAborted",0,v7,"isAsync",0,br,"isDirty",0,be,"isValid",0,bt,"late",0,xl,"lazy",()=>xR,"literal",()=>xD,"makeIssue",0,v2,"map",()=>xM,"nan",()=>xf,"nativeEnum",()=>xF,"never",()=>xw,"null",()=>xb,"nullable",()=>xU,"number",()=>xp,"object",()=>xE,"objectUtil",()=>ey,"oboolean",()=>xG,"onumber",()=>xq,"optional",()=>x$,"ostring",()=>xK,"pipeline",()=>xW,"preprocess",()=>xV,"promise",()=>xB,"quotelessJson",0,vY,"record",()=>xN,"set",()=>xP,"setErrorMap",()=>v0,"strictObject",()=>xA,"string",()=>xh,"symbol",()=>xy,"transformer",()=>xz,"tuple",()=>xC,"undefined",()=>xv,"union",()=>xS,"unknown",()=>xk,"util",()=>eg,"void",()=>xT],979886);var xJ=e.i(979886),xJ=xJ;let xX=xJ.object({map:i1,offset:xJ.number()}),xQ={displace(e,t){let{map:r,offset:i}=xX.parse(t),a=tE(e);return e.scan((t,n,s)=>{let o=r.bitmap.data[s]/256*i;o=Math.round(o);let d=e.getPixelIndex(t+o,n);e.bitmap.data[d]=a.bitmap.data[s],e.bitmap.data[d+1]=a.bitmap.data[s+1],e.bitmap.data[d+2]=a.bitmap.data[s+2]}),e}},x0={dither(e){let t=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return e.scan((r,i,a)=>{let n=t[((3&i)<<2)+r%4];e.bitmap.data[a]=Math.min(e.bitmap.data[a]+n,255),e.bitmap.data[a+1]=Math.min(e.bitmap.data[a+1]+n,255),e.bitmap.data[a+2]=Math.min(e.bitmap.data[a+2]+n,255)}),e}};e.s([],717746),e.i(717746),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(ex||(ex={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(ek||(ek={}));let x1=ex.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),x2=e=>{switch(typeof e){case"undefined":return x1.undefined;case"string":return x1.string;case"number":return Number.isNaN(e)?x1.nan:x1.number;case"boolean":return x1.boolean;case"function":return x1.function;case"bigint":return x1.bigint;case"symbol":return x1.symbol;case"object":if(Array.isArray(e))return x1.array;if(null===e)return x1.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return x1.promise;if("undefined"!=typeof Map&&e instanceof Map)return x1.map;if("undefined"!=typeof Set&&e instanceof Set)return x1.set;if("undefined"!=typeof Date&&e instanceof Date)return x1.date;return x1.object;default:return x1.unknown}};e.s(["ZodParsedType",0,x1,"getParsedType",0,x2,"objectUtil",()=>ek,"util",()=>ex],86195);let x4=ex.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),x5=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class x9 extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof x9))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ex.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}x9.create=e=>new x9(e),e.s(["ZodError",()=>x9,"ZodIssueCode",0,x4,"quotelessJson",0,x5],667852);let x3=(e,t)=>{let r;switch(e.code){case x4.invalid_type:r=e.received===x1.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case x4.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ex.jsonStringifyReplacer)}`;break;case x4.unrecognized_keys:r=`Unrecognized key(s) in object: ${ex.joinValues(e.keys,", ")}`;break;case x4.invalid_union:r="Invalid input";break;case x4.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ex.joinValues(e.options)}`;break;case x4.invalid_enum_value:r=`Invalid enum value. Expected ${ex.joinValues(e.options)}, received '${e.received}'`;break;case x4.invalid_arguments:r="Invalid function arguments";break;case x4.invalid_return_type:r="Invalid function return type";break;case x4.invalid_date:r="Invalid date";break;case x4.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ex.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case x4.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case x4.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case x4.custom:r="Invalid input";break;case x4.invalid_intersection_types:r="Intersection results could not be merged";break;case x4.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case x4.not_finite:r="Number must be finite";break;default:r=t.defaultError,ex.assertNever(e)}return{message:r}},x8=x3;function x6(e){x8=e}function x7(){return x8}e.s(["getErrorMap",()=>x7,"setErrorMap",()=>x6],491011),e.i(491011),e.s(["defaultErrorMap",0,x3,"getErrorMap",()=>x7,"setErrorMap",()=>x6],1269),e.i(1269);let ke=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},kt=[];function kr(e,t){let r=x7(),i=ke({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===x3?void 0:x3].filter(e=>!!e)});e.common.issues.push(i)}class ki{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return ka;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return ki.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return ka;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let ka=Object.freeze({status:"aborted"}),kn=e=>({status:"dirty",value:e}),ks=e=>({status:"valid",value:e}),ko=e=>"aborted"===e.status,kd=e=>"dirty"===e.status,ku=e=>"valid"===e.status,kl=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,kn,"EMPTY_PATH",0,kt,"INVALID",0,ka,"OK",0,ks,"ParseStatus",()=>ki,"addIssueToContext",()=>kr,"isAborted",0,ko,"isAsync",0,kl,"isDirty",0,kd,"isValid",0,ku,"makeIssue",0,ke],259018),e.i(259018),e.s([],715283),e.i(715283),e.i(86195),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(ew||(ew={}));class kc{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let kh=(e,t)=>{if(ku(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new x9(e.common.issues);return this._error=t,this._error}}};function kp(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class kf{get description(){return this._def.description}_getType(e){return x2(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:x2(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ki,ctx:{common:e.parent.common,data:e.data,parsedType:x2(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(kl(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:x2(e)},i=this._parseSync({data:e,path:r.path,parent:r});return kh(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:x2(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return ku(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>ku(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:x2(e)},i=this._parse({data:e,path:r.path,parent:r});return kh(r,await (kl(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:x4.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new ws({schema:this,typeName:eT.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return wo.create(this,this._def)}nullable(){return wd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return kJ.create(this)}promise(){return wn.create(this,this._def)}or(e){return k0.create([this,e],this._def)}and(e){return k5.create(this,e,this._def)}transform(e){return new ws({...kp(this._def),schema:this,typeName:eT.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new wu({...kp(this._def),innerType:this,defaultValue:t,typeName:eT.ZodDefault})}brand(){return new wp({typeName:eT.ZodBranded,type:this,...kp(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new wl({...kp(this._def),innerType:this,catchValue:t,typeName:eT.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return wf.create(this,e)}readonly(){return wm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let km=/^c[^\s-]{8,}$/i,k_=/^[0-9a-z]+$/,kg=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ky=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,kv=/^[a-z0-9_-]{21}$/i,kb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kk=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",kT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kO=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,kI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kC=RegExp(`^${kI}$`);function kN(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function kM(e){return RegExp(`^${kN(e)}$`)}function kP(e){let t=`${kI}T${kN(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function kj(e,t){return!!(("v4"===t||!t)&&kT.test(e)||("v6"===t||!t)&&kE.test(e))}function kR(e,t){if(!kb.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function kD(e,t){return!!(("v4"===t||!t)&&kZ.test(e)||("v6"===t||!t)&&kA.test(e))}class kL extends kf{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==x1.string){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.string,received:t.parsedType}),ka}let r=new ki;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(kr(t=this._getOrReturnCtx(e,t),{code:x4.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(kr(t=this._getOrReturnCtx(e,t),{code:x4.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?kr(t,{code:x4.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&kr(t,{code:x4.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)kk.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{validation:"email",code:x4.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)l||(l=RegExp(kw,"u")),l.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:x4.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)ky.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:x4.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)kv.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:x4.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)km.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:x4.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)k_.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:x4.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)kg.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:x4.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{kr(t=this._getOrReturnCtx(e,t),{validation:"url",code:x4.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{validation:"regex",code:x4.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(kr(t=this._getOrReturnCtx(e,t),{code:x4.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(kr(t=this._getOrReturnCtx(e,t),{code:x4.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(kr(t=this._getOrReturnCtx(e,t),{code:x4.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?kP(i).test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{code:x4.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?kC.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{code:x4.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?kM(i).test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{code:x4.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?kx.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{validation:"duration",code:x4.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?kj(e.data,i.version)||(kr(t=this._getOrReturnCtx(e,t),{validation:"ip",code:x4.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?kR(e.data,i.alg)||(kr(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:x4.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?kD(e.data,i.version)||(kr(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:x4.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?kS.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{validation:"base64",code:x4.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?kO.test(e.data)||(kr(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:x4.invalid_string,message:i.message}),r.dirty()):ex.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:x4.invalid_string,...ew.errToObj(r)})}_addCheck(e){return new kL({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ew.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ew.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ew.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ew.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ew.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ew.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ew.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ew.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ew.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ew.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ew.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ew.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ew.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...ew.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...ew.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ew.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ew.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...ew.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ew.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ew.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ew.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ew.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ew.errToObj(t)})}nonempty(e){return this.min(1,ew.errToObj(e))}trim(){return new kL({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kL({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kL({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function kF(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}kL.create=e=>new kL({checks:[],typeName:eT.ZodString,coerce:e?.coerce??!1,...kp(e)});class kB extends kf{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==x1.number){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.number,received:t.parsedType}),ka}let r=new ki;for(let i of this._def.checks)"int"===i.kind?ex.isInteger(e.data)||(kr(t=this._getOrReturnCtx(e,t),{code:x4.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(kr(t=this._getOrReturnCtx(e,t),{code:x4.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(kr(t=this._getOrReturnCtx(e,t),{code:x4.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==kF(e.data,i.value)&&(kr(t=this._getOrReturnCtx(e,t),{code:x4.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(kr(t=this._getOrReturnCtx(e,t),{code:x4.not_finite,message:i.message}),r.dirty()):ex.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ew.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ew.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ew.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ew.toString(t))}setLimit(e,t,r,i){return new kB({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ew.toString(i)}]})}_addCheck(e){return new kB({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ew.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ew.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ew.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ew.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ew.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ew.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ew.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ew.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ew.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&ex.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}kB.create=e=>new kB({checks:[],typeName:eT.ZodNumber,coerce:e?.coerce||!1,...kp(e)});class kz extends kf{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==x1.bigint)return this._getInvalidInput(e);let r=new ki;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(kr(t=this._getOrReturnCtx(e,t),{code:x4.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(kr(t=this._getOrReturnCtx(e,t),{code:x4.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(kr(t=this._getOrReturnCtx(e,t),{code:x4.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):ex.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.bigint,received:t.parsedType}),ka}gte(e,t){return this.setLimit("min",e,!0,ew.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ew.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ew.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ew.toString(t))}setLimit(e,t,r,i){return new kz({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ew.toString(i)}]})}_addCheck(e){return new kz({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ew.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ew.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ew.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ew.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ew.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}kz.create=e=>new kz({checks:[],typeName:eT.ZodBigInt,coerce:e?.coerce??!1,...kp(e)});class k$ extends kf{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==x1.boolean){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.boolean,received:t.parsedType}),ka}return ks(e.data)}}k$.create=e=>new k$({typeName:eT.ZodBoolean,coerce:e?.coerce||!1,...kp(e)});class kU extends kf{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==x1.date){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.date,received:t.parsedType}),ka}if(Number.isNaN(e.data.getTime()))return kr(this._getOrReturnCtx(e),{code:x4.invalid_date}),ka;let r=new ki;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(kr(t=this._getOrReturnCtx(e,t),{code:x4.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(kr(t=this._getOrReturnCtx(e,t),{code:x4.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ex.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new kU({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ew.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ew.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}kU.create=e=>new kU({checks:[],coerce:e?.coerce||!1,typeName:eT.ZodDate,...kp(e)});class kV extends kf{_parse(e){if(this._getType(e)!==x1.symbol){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.symbol,received:t.parsedType}),ka}return ks(e.data)}}kV.create=e=>new kV({typeName:eT.ZodSymbol,...kp(e)});class kW extends kf{_parse(e){if(this._getType(e)!==x1.undefined){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.undefined,received:t.parsedType}),ka}return ks(e.data)}}kW.create=e=>new kW({typeName:eT.ZodUndefined,...kp(e)});class kK extends kf{_parse(e){if(this._getType(e)!==x1.null){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.null,received:t.parsedType}),ka}return ks(e.data)}}kK.create=e=>new kK({typeName:eT.ZodNull,...kp(e)});class kq extends kf{constructor(){super(...arguments),this._any=!0}_parse(e){return ks(e.data)}}kq.create=e=>new kq({typeName:eT.ZodAny,...kp(e)});class kG extends kf{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ks(e.data)}}kG.create=e=>new kG({typeName:eT.ZodUnknown,...kp(e)});class kH extends kf{_parse(e){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.never,received:t.parsedType}),ka}}kH.create=e=>new kH({typeName:eT.ZodNever,...kp(e)});class kY extends kf{_parse(e){if(this._getType(e)!==x1.undefined){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.void,received:t.parsedType}),ka}return ks(e.data)}}kY.create=e=>new kY({typeName:eT.ZodVoid,...kp(e)});class kJ extends kf{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==x1.array)return kr(t,{code:x4.invalid_type,expected:x1.array,received:t.parsedType}),ka;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(kr(t,{code:e?x4.too_big:x4.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(kr(t,{code:x4.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(kr(t,{code:x4.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new kc(t,e,t.path,r)))).then(e=>ki.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new kc(t,e,t.path,r)));return ki.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new kJ({...this._def,minLength:{value:e,message:ew.toString(t)}})}max(e,t){return new kJ({...this._def,maxLength:{value:e,message:ew.toString(t)}})}length(e,t){return new kJ({...this._def,exactLength:{value:e,message:ew.toString(t)}})}nonempty(e){return this.min(1,e)}}function kX(e){if(e instanceof kQ){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=wo.create(kX(i))}return new kQ({...e._def,shape:()=>t})}if(e instanceof kJ)return new kJ({...e._def,type:kX(e.element)});if(e instanceof wo)return wo.create(kX(e.unwrap()));if(e instanceof wd)return wd.create(kX(e.unwrap()));if(e instanceof k9)return k9.create(e.items.map(e=>kX(e)));else return e}kJ.create=(e,t)=>new kJ({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eT.ZodArray,...kp(t)});class kQ extends kf{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=ex.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==x1.object){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.object,received:t.parsedType}),ka}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof kH&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new kc(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof kH){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(kr(r,{code:x4.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new kc(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>ki.mergeObjectSync(t,e)):ki.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return ew.errToObj,new kQ({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:ew.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new kQ({...this._def,unknownKeys:"strip"})}passthrough(){return new kQ({...this._def,unknownKeys:"passthrough"})}extend(e){return new kQ({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kQ({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:eT.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new kQ({...this._def,catchall:e})}pick(e){let t={};for(let r of ex.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new kQ({...this._def,shape:()=>t})}omit(e){let t={};for(let r of ex.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new kQ({...this._def,shape:()=>t})}deepPartial(){return kX(this)}partial(e){let t={};for(let r of ex.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new kQ({...this._def,shape:()=>t})}required(e){let t={};for(let r of ex.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof wo;)e=e._def.innerType;t[r]=e}return new kQ({...this._def,shape:()=>t})}keyof(){return wr(ex.objectKeys(this.shape))}}kQ.create=(e,t)=>new kQ({shape:()=>e,unknownKeys:"strip",catchall:kH.create(),typeName:eT.ZodObject,...kp(t)}),kQ.strictCreate=(e,t)=>new kQ({shape:()=>e,unknownKeys:"strict",catchall:kH.create(),typeName:eT.ZodObject,...kp(t)}),kQ.lazycreate=(e,t)=>new kQ({shape:e,unknownKeys:"strip",catchall:kH.create(),typeName:eT.ZodObject,...kp(t)});class k0 extends kf{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new x9(e.ctx.common.issues));return kr(t,{code:x4.invalid_union,unionErrors:r}),ka}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new x9(e));return kr(t,{code:x4.invalid_union,unionErrors:a}),ka}}get options(){return this._def.options}}k0.create=(e,t)=>new k0({options:e,typeName:eT.ZodUnion,...kp(t)});let k1=e=>{if(e instanceof we)return k1(e.schema);if(e instanceof ws)return k1(e.innerType());if(e instanceof wt)return[e.value];if(e instanceof wi)return e.options;if(e instanceof wa)return ex.objectValues(e.enum);else if(e instanceof wu)return k1(e._def.innerType);else if(e instanceof kW)return[void 0];else if(e instanceof kK)return[null];else if(e instanceof wo)return[void 0,...k1(e.unwrap())];else if(e instanceof wd)return[null,...k1(e.unwrap())];else if(e instanceof wp)return k1(e.unwrap());else if(e instanceof wm)return k1(e.unwrap());else if(e instanceof wl)return k1(e._def.innerType);else return[]};class k2 extends kf{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==x1.object)return kr(t,{code:x4.invalid_type,expected:x1.object,received:t.parsedType}),ka;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(kr(t,{code:x4.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ka)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=k1(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new k2({typeName:eT.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...kp(r)})}}function k4(e,t){let r=x2(e),i=x2(t);if(e===t)return{valid:!0,data:e};if(r===x1.object&&i===x1.object){let r=ex.objectKeys(t),i=ex.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=k4(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===x1.array&&i===x1.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=k4(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===x1.date&&i===x1.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class k5 extends kf{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(ko(e)||ko(i))return ka;let a=k4(e.value,i.value);return a.valid?((kd(e)||kd(i))&&t.dirty(),{status:t.value,value:a.data}):(kr(r,{code:x4.invalid_intersection_types}),ka)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}k5.create=(e,t,r)=>new k5({left:e,right:t,typeName:eT.ZodIntersection,...kp(r)});class k9 extends kf{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==x1.array)return kr(r,{code:x4.invalid_type,expected:x1.array,received:r.parsedType}),ka;if(r.data.length<this._def.items.length)return kr(r,{code:x4.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ka;!this._def.rest&&r.data.length>this._def.items.length&&(kr(r,{code:x4.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new kc(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>ki.mergeArray(t,e)):ki.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new k9({...this._def,rest:e})}}k9.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new k9({items:e,typeName:eT.ZodTuple,rest:null,...kp(t)})};class k3 extends kf{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==x1.object)return kr(r,{code:x4.invalid_type,expected:x1.object,received:r.parsedType}),ka;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new kc(r,e,r.path,e)),value:n._parse(new kc(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?ki.mergeObjectAsync(t,i):ki.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new k3(t instanceof kf?{keyType:e,valueType:t,typeName:eT.ZodRecord,...kp(r)}:{keyType:kL.create(),valueType:e,typeName:eT.ZodRecord,...kp(t)})}}class k8 extends kf{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==x1.map)return kr(r,{code:x4.invalid_type,expected:x1.map,received:r.parsedType}),ka;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new kc(r,e,r.path,[n,"key"])),value:a._parse(new kc(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return ka;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return ka;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}k8.create=(e,t,r)=>new k8({valueType:t,keyType:e,typeName:eT.ZodMap,...kp(r)});class k6 extends kf{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==x1.set)return kr(r,{code:x4.invalid_type,expected:x1.set,received:r.parsedType}),ka;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(kr(r,{code:x4.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(kr(r,{code:x4.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return ka;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new kc(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new k6({...this._def,minSize:{value:e,message:ew.toString(t)}})}max(e,t){return new k6({...this._def,maxSize:{value:e,message:ew.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}k6.create=(e,t)=>new k6({valueType:e,minSize:null,maxSize:null,typeName:eT.ZodSet,...kp(t)});class k7 extends kf{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==x1.function)return kr(t,{code:x4.invalid_type,expected:x1.function,received:t.parsedType}),ka;function r(e,r){return ke({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,x7(),x3].filter(e=>!!e),issueData:{code:x4.invalid_arguments,argumentsError:r}})}function i(e,r){return ke({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,x7(),x3].filter(e=>!!e),issueData:{code:x4.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof wn){let e=this;return ks(async function(...t){let s=new x9([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return ks(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new x9([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new x9([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new k7({...this._def,args:k9.create(e).rest(kG.create())})}returns(e){return new k7({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new k7({args:e||k9.create([]).rest(kG.create()),returns:t||kG.create(),typeName:eT.ZodFunction,...kp(r)})}}class we extends kf{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}we.create=(e,t)=>new we({getter:e,typeName:eT.ZodLazy,...kp(t)});class wt extends kf{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return kr(t,{received:t.data,code:x4.invalid_literal,expected:this._def.value}),ka}return{status:"valid",value:e.data}}get value(){return this._def.value}}function wr(e,t){return new wi({values:e,typeName:eT.ZodEnum,...kp(t)})}wt.create=(e,t)=>new wt({value:e,typeName:eT.ZodLiteral,...kp(t)});class wi extends kf{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return kr(t,{expected:ex.joinValues(r),received:t.parsedType,code:x4.invalid_type}),ka}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return kr(t,{received:t.data,code:x4.invalid_enum_value,options:r}),ka}return ks(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return wi.create(e,{...this._def,...t})}exclude(e,t=this._def){return wi.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}wi.create=wr;class wa extends kf{_parse(e){let t=ex.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==x1.string&&r.parsedType!==x1.number){let e=ex.objectValues(t);return kr(r,{expected:ex.joinValues(e),received:r.parsedType,code:x4.invalid_type}),ka}if(this._cache||(this._cache=new Set(ex.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=ex.objectValues(t);return kr(r,{received:r.data,code:x4.invalid_enum_value,options:e}),ka}return ks(e.data)}get enum(){return this._def.values}}wa.create=(e,t)=>new wa({values:e,typeName:eT.ZodNativeEnum,...kp(t)});class wn extends kf{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==x1.promise&&!1===t.common.async?(kr(t,{code:x4.invalid_type,expected:x1.promise,received:t.parsedType}),ka):ks((t.parsedType===x1.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}wn.create=(e,t)=>new wn({type:e,typeName:eT.ZodPromise,...kp(t)});class ws extends kf{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eT.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{kr(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return ka;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?ka:"dirty"===i.status||"dirty"===t.value?kn(i.value):i});{if("aborted"===t.value)return ka;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?ka:"dirty"===i.status||"dirty"===t.value?kn(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?ka:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?ka:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>ku(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):ka);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ku(e))return ka;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}ex.assertNever(i)}}ws.create=(e,t,r)=>new ws({schema:e,typeName:eT.ZodEffects,effect:t,...kp(r)}),ws.createWithPreprocess=(e,t,r)=>new ws({schema:t,effect:{type:"preprocess",transform:e},typeName:eT.ZodEffects,...kp(r)});class wo extends kf{_parse(e){return this._getType(e)===x1.undefined?ks(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wo.create=(e,t)=>new wo({innerType:e,typeName:eT.ZodOptional,...kp(t)});class wd extends kf{_parse(e){return this._getType(e)===x1.null?ks(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wd.create=(e,t)=>new wd({innerType:e,typeName:eT.ZodNullable,...kp(t)});class wu extends kf{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===x1.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}wu.create=(e,t)=>new wu({innerType:e,typeName:eT.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...kp(t)});class wl extends kf{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return kl(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new x9(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new x9(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}wl.create=(e,t)=>new wl({innerType:e,typeName:eT.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...kp(t)});class wc extends kf{_parse(e){if(this._getType(e)!==x1.nan){let t=this._getOrReturnCtx(e);return kr(t,{code:x4.invalid_type,expected:x1.nan,received:t.parsedType}),ka}return{status:"valid",value:e.data}}}wc.create=e=>new wc({typeName:eT.ZodNaN,...kp(e)});let wh=Symbol("zod_brand");class wp extends kf{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class wf extends kf{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?ka:"dirty"===e.status?(t.dirty(),kn(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?ka:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new wf({in:e,out:t,typeName:eT.ZodPipeline})}}class wm extends kf{_parse(e){let t=this._def.innerType._parse(e),r=e=>(ku(e)&&(e.value=Object.freeze(e.value)),e);return kl(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function w_(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function wg(e,t={},r){return e?kq.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=w_(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=w_(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):kq.create()}wm.create=(e,t)=>new wm({innerType:e,typeName:eT.ZodReadonly,...kp(t)});let wy={object:kQ.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eT||(eT={}));let wv=(e,t={message:`Input not instance of ${e.name}`})=>wg(t=>t instanceof e,t),wb=kL.create,wx=kB.create,wk=wc.create,ww=kz.create,wT=k$.create,wZ=kU.create,wE=kV.create,wA=kW.create,wS=kK.create,wO=kq.create,wI=kG.create,wC=kH.create,wN=kY.create,wM=kJ.create,wP=kQ.create,wj=kQ.strictCreate,wR=k0.create,wD=k2.create,wL=k5.create,wF=k9.create,wB=k3.create,wz=k8.create,w$=k6.create,wU=k7.create,wV=we.create,wW=wt.create,wK=wi.create,wq=wa.create,wG=wn.create,wH=ws.create,wY=wo.create,wJ=wd.create,wX=ws.createWithPreprocess,wQ=wf.create,w0=()=>wb().optional(),w1=()=>wx().optional(),w2=()=>wT().optional(),w4={string:e=>kL.create({...e,coerce:!0}),number:e=>kB.create({...e,coerce:!0}),boolean:e=>k$.create({...e,coerce:!0}),bigint:e=>kz.create({...e,coerce:!0}),date:e=>kU.create({...e,coerce:!0})},w5=ka;e.s(["BRAND",0,wh,"NEVER",0,w5,"Schema",()=>kf,"ZodAny",()=>kq,"ZodArray",()=>kJ,"ZodBigInt",()=>kz,"ZodBoolean",()=>k$,"ZodBranded",()=>wp,"ZodCatch",()=>wl,"ZodDate",()=>kU,"ZodDefault",()=>wu,"ZodDiscriminatedUnion",()=>k2,"ZodEffects",()=>ws,"ZodEnum",()=>wi,"ZodFirstPartyTypeKind",()=>eT,"ZodFunction",()=>k7,"ZodIntersection",()=>k5,"ZodLazy",()=>we,"ZodLiteral",()=>wt,"ZodMap",()=>k8,"ZodNaN",()=>wc,"ZodNativeEnum",()=>wa,"ZodNever",()=>kH,"ZodNull",()=>kK,"ZodNullable",()=>wd,"ZodNumber",()=>kB,"ZodObject",()=>kQ,"ZodOptional",()=>wo,"ZodPipeline",()=>wf,"ZodPromise",()=>wn,"ZodReadonly",()=>wm,"ZodRecord",()=>k3,"ZodSchema",()=>kf,"ZodSet",()=>k6,"ZodString",()=>kL,"ZodSymbol",()=>kV,"ZodTransformer",()=>ws,"ZodTuple",()=>k9,"ZodType",()=>kf,"ZodUndefined",()=>kW,"ZodUnion",()=>k0,"ZodUnknown",()=>kG,"ZodVoid",()=>kY,"any",()=>wO,"array",()=>wM,"bigint",()=>ww,"boolean",()=>wT,"coerce",0,w4,"custom",()=>wg,"date",()=>wZ,"datetimeRegex",()=>kP,"discriminatedUnion",()=>wD,"effect",()=>wH,"enum",()=>wK,"function",()=>wU,"instanceof",()=>wv,"intersection",()=>wL,"late",0,wy,"lazy",()=>wV,"literal",()=>wW,"map",()=>wz,"nan",()=>wk,"nativeEnum",()=>wq,"never",()=>wC,"null",()=>wS,"nullable",()=>wJ,"number",()=>wx,"object",()=>wP,"oboolean",()=>w2,"onumber",()=>w1,"optional",()=>wY,"ostring",()=>w0,"pipeline",()=>wQ,"preprocess",()=>wX,"promise",()=>wG,"record",()=>wB,"set",()=>w$,"strictObject",()=>wj,"string",()=>wb,"symbol",()=>wE,"transformer",()=>wH,"tuple",()=>wF,"undefined",()=>wA,"union",()=>wR,"unknown",()=>wI,"void",()=>wN],986653),e.i(986653),e.i(667852),e.s(["BRAND",0,wh,"DIRTY",0,kn,"EMPTY_PATH",0,kt,"INVALID",0,ka,"NEVER",0,w5,"OK",0,ks,"ParseStatus",()=>ki,"Schema",()=>kf,"ZodAny",()=>kq,"ZodArray",()=>kJ,"ZodBigInt",()=>kz,"ZodBoolean",()=>k$,"ZodBranded",()=>wp,"ZodCatch",()=>wl,"ZodDate",()=>kU,"ZodDefault",()=>wu,"ZodDiscriminatedUnion",()=>k2,"ZodEffects",()=>ws,"ZodEnum",()=>wi,"ZodError",()=>x9,"ZodFirstPartyTypeKind",()=>eT,"ZodFunction",()=>k7,"ZodIntersection",()=>k5,"ZodIssueCode",0,x4,"ZodLazy",()=>we,"ZodLiteral",()=>wt,"ZodMap",()=>k8,"ZodNaN",()=>wc,"ZodNativeEnum",()=>wa,"ZodNever",()=>kH,"ZodNull",()=>kK,"ZodNullable",()=>wd,"ZodNumber",()=>kB,"ZodObject",()=>kQ,"ZodOptional",()=>wo,"ZodParsedType",0,x1,"ZodPipeline",()=>wf,"ZodPromise",()=>wn,"ZodReadonly",()=>wm,"ZodRecord",()=>k3,"ZodSchema",()=>kf,"ZodSet",()=>k6,"ZodString",()=>kL,"ZodSymbol",()=>kV,"ZodTransformer",()=>ws,"ZodTuple",()=>k9,"ZodType",()=>kf,"ZodUndefined",()=>kW,"ZodUnion",()=>k0,"ZodUnknown",()=>kG,"ZodVoid",()=>kY,"addIssueToContext",()=>kr,"any",()=>wO,"array",()=>wM,"bigint",()=>ww,"boolean",()=>wT,"coerce",0,w4,"custom",()=>wg,"date",()=>wZ,"datetimeRegex",()=>kP,"defaultErrorMap",0,x3,"discriminatedUnion",()=>wD,"effect",()=>wH,"enum",()=>wK,"function",()=>wU,"getErrorMap",()=>x7,"getParsedType",0,x2,"instanceof",()=>wv,"intersection",()=>wL,"isAborted",0,ko,"isAsync",0,kl,"isDirty",0,kd,"isValid",0,ku,"late",0,wy,"lazy",()=>wV,"literal",()=>wW,"makeIssue",0,ke,"map",()=>wz,"nan",()=>wk,"nativeEnum",()=>wq,"never",()=>wC,"null",()=>wS,"nullable",()=>wJ,"number",()=>wx,"object",()=>wP,"objectUtil",()=>ek,"oboolean",()=>w2,"onumber",()=>w1,"optional",()=>wY,"ostring",()=>w0,"pipeline",()=>wQ,"preprocess",()=>wX,"promise",()=>wG,"quotelessJson",0,x5,"record",()=>wB,"set",()=>w$,"setErrorMap",()=>x6,"strictObject",()=>wj,"string",()=>wb,"symbol",()=>wE,"transformer",()=>wH,"tuple",()=>wF,"undefined",()=>wA,"union",()=>wR,"unknown",()=>wI,"util",()=>ex,"void",()=>wN],788532);var w9=e.i(788532),w9=w9;let w3=w9.object({radius:w9.number().min(0).optional()}),w8={fisheye(e,t={}){let{radius:r=2.5}=w3.parse(t),i=tE(e),{width:a,height:n}=i.bitmap;return i.scan((t,s)=>{let o=t/a,d=s/n,u=Math.sqrt(Math.pow(o-.5,2)+Math.pow(d-.5,2)),l=2*Math.pow(u,r),c=Math.round(((o-.5)/u*l+.5)*a),h=Math.round(((d-.5)/u*l+.5)*n),p=i.getPixelColor(c,h);e.setPixelColor(p,t,s)}),e.setPixelColor(i.getPixelColor(a/2,n/2),a/2,n/2),e}};e.s([],906557),e.i(906557),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(eZ||(eZ={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(eE||(eE={}));let w6=eZ.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),w7=e=>{switch(typeof e){case"undefined":return w6.undefined;case"string":return w6.string;case"number":return Number.isNaN(e)?w6.nan:w6.number;case"boolean":return w6.boolean;case"function":return w6.function;case"bigint":return w6.bigint;case"symbol":return w6.symbol;case"object":if(Array.isArray(e))return w6.array;if(null===e)return w6.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return w6.promise;if("undefined"!=typeof Map&&e instanceof Map)return w6.map;if("undefined"!=typeof Set&&e instanceof Set)return w6.set;if("undefined"!=typeof Date&&e instanceof Date)return w6.date;return w6.object;default:return w6.unknown}};e.s(["ZodParsedType",0,w6,"getParsedType",0,w7,"objectUtil",()=>eE,"util",()=>eZ],701524);let Te=eZ.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Tt=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Tr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof Tr))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,eZ.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Tr.create=e=>new Tr(e),e.s(["ZodError",()=>Tr,"ZodIssueCode",0,Te,"quotelessJson",0,Tt],854323);let Ti=(e,t)=>{let r;switch(e.code){case Te.invalid_type:r=e.received===w6.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Te.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,eZ.jsonStringifyReplacer)}`;break;case Te.unrecognized_keys:r=`Unrecognized key(s) in object: ${eZ.joinValues(e.keys,", ")}`;break;case Te.invalid_union:r="Invalid input";break;case Te.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${eZ.joinValues(e.options)}`;break;case Te.invalid_enum_value:r=`Invalid enum value. Expected ${eZ.joinValues(e.options)}, received '${e.received}'`;break;case Te.invalid_arguments:r="Invalid function arguments";break;case Te.invalid_return_type:r="Invalid function return type";break;case Te.invalid_date:r="Invalid date";break;case Te.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:eZ.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Te.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Te.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Te.custom:r="Invalid input";break;case Te.invalid_intersection_types:r="Intersection results could not be merged";break;case Te.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Te.not_finite:r="Number must be finite";break;default:r=t.defaultError,eZ.assertNever(e)}return{message:r}},Ta=Ti;function Tn(e){Ta=e}function Ts(){return Ta}e.s(["getErrorMap",()=>Ts,"setErrorMap",()=>Tn],892593),e.i(892593),e.s(["defaultErrorMap",0,Ti,"getErrorMap",()=>Ts,"setErrorMap",()=>Tn],418540),e.i(418540);let To=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},Td=[];function Tu(e,t){let r=Ts(),i=To({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ti?void 0:Ti].filter(e=>!!e)});e.common.issues.push(i)}class Tl{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return Tc;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return Tl.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return Tc;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let Tc=Object.freeze({status:"aborted"}),Th=e=>({status:"dirty",value:e}),Tp=e=>({status:"valid",value:e}),Tf=e=>"aborted"===e.status,Tm=e=>"dirty"===e.status,T_=e=>"valid"===e.status,Tg=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,Th,"EMPTY_PATH",0,Td,"INVALID",0,Tc,"OK",0,Tp,"ParseStatus",()=>Tl,"addIssueToContext",()=>Tu,"isAborted",0,Tf,"isAsync",0,Tg,"isDirty",0,Tm,"isValid",0,T_,"makeIssue",0,To],902460),e.i(902460),e.s([],250545),e.i(250545),e.i(701524),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(eA||(eA={}));class Ty{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let Tv=(e,t)=>{if(T_(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new Tr(e.common.issues);return this._error=t,this._error}}};function Tb(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class Tx{get description(){return this._def.description}_getType(e){return w7(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:w7(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Tl,ctx:{common:e.parent.common,data:e.data,parsedType:w7(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(Tg(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:w7(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Tv(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:w7(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return T_(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>T_(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:w7(e)},i=this._parse({data:e,path:r.path,parent:r});return Tv(r,await (Tg(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:Te.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new Zp({schema:this,typeName:eS.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Zf.create(this,this._def)}nullable(){return Zm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return T5.create(this)}promise(){return Zh.create(this,this._def)}or(e){return T8.create([this,e],this._def)}and(e){return Zt.create(this,e,this._def)}transform(e){return new Zp({...Tb(this._def),schema:this,typeName:eS.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new Z_({...Tb(this._def),innerType:this,defaultValue:t,typeName:eS.ZodDefault})}brand(){return new Zb({typeName:eS.ZodBranded,type:this,...Tb(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new Zg({...Tb(this._def),innerType:this,catchValue:t,typeName:eS.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return Zx.create(this,e)}readonly(){return Zk.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let Tk=/^c[^\s-]{8,}$/i,Tw=/^[0-9a-z]+$/,TT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,TZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TE=/^[a-z0-9_-]{21}$/i,TA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,TS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,TO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,TI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",TC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,TM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,TP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Tj=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TR=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,TD="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",TL=RegExp(`^${TD}$`);function TF(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function TB(e){return RegExp(`^${TF(e)}$`)}function Tz(e){let t=`${TD}T${TF(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function T$(e,t){return!!(("v4"===t||!t)&&TC.test(e)||("v6"===t||!t)&&TM.test(e))}function TU(e,t){if(!TA.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function TV(e,t){return!!(("v4"===t||!t)&&TN.test(e)||("v6"===t||!t)&&TP.test(e))}class TW extends Tx{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==w6.string){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.string,received:t.parsedType}),Tc}let r=new Tl;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(Tu(t=this._getOrReturnCtx(e,t),{code:Te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(Tu(t=this._getOrReturnCtx(e,t),{code:Te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?Tu(t,{code:Te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&Tu(t,{code:Te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)TO.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"email",code:Te.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)c||(c=RegExp(TI,"u")),c.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:Te.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)TZ.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:Te.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)TE.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:Te.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)Tk.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:Te.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)Tw.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:Te.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)TT.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:Te.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{Tu(t=this._getOrReturnCtx(e,t),{validation:"url",code:Te.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"regex",code:Te.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(Tu(t=this._getOrReturnCtx(e,t),{code:Te.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(Tu(t=this._getOrReturnCtx(e,t),{code:Te.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(Tu(t=this._getOrReturnCtx(e,t),{code:Te.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?Tz(i).test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{code:Te.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?TL.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{code:Te.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?TB(i).test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{code:Te.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?TS.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"duration",code:Te.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?T$(e.data,i.version)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"ip",code:Te.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?TU(e.data,i.alg)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:Te.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?TV(e.data,i.version)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:Te.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?Tj.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"base64",code:Te.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?TR.test(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:Te.invalid_string,message:i.message}),r.dirty()):eZ.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:Te.invalid_string,...eA.errToObj(r)})}_addCheck(e){return new TW({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...eA.errToObj(e)})}url(e){return this._addCheck({kind:"url",...eA.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...eA.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...eA.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...eA.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...eA.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...eA.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...eA.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...eA.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...eA.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...eA.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...eA.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...eA.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...eA.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...eA.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...eA.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...eA.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...eA.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...eA.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...eA.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...eA.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...eA.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...eA.errToObj(t)})}nonempty(e){return this.min(1,eA.errToObj(e))}trim(){return new TW({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new TW({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new TW({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function TK(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}TW.create=e=>new TW({checks:[],typeName:eS.ZodString,coerce:e?.coerce??!1,...Tb(e)});class Tq extends Tx{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==w6.number){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.number,received:t.parsedType}),Tc}let r=new Tl;for(let i of this._def.checks)"int"===i.kind?eZ.isInteger(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{code:Te.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(Tu(t=this._getOrReturnCtx(e,t),{code:Te.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(Tu(t=this._getOrReturnCtx(e,t),{code:Te.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==TK(e.data,i.value)&&(Tu(t=this._getOrReturnCtx(e,t),{code:Te.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(Tu(t=this._getOrReturnCtx(e,t),{code:Te.not_finite,message:i.message}),r.dirty()):eZ.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,eA.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eA.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eA.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eA.toString(t))}setLimit(e,t,r,i){return new Tq({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eA.toString(i)}]})}_addCheck(e){return new Tq({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:eA.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:eA.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:eA.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:eA.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:eA.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eA.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:eA.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:eA.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:eA.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&eZ.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}Tq.create=e=>new Tq({checks:[],typeName:eS.ZodNumber,coerce:e?.coerce||!1,...Tb(e)});class TG extends Tx{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==w6.bigint)return this._getInvalidInput(e);let r=new Tl;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(Tu(t=this._getOrReturnCtx(e,t),{code:Te.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(Tu(t=this._getOrReturnCtx(e,t),{code:Te.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(Tu(t=this._getOrReturnCtx(e,t),{code:Te.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):eZ.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.bigint,received:t.parsedType}),Tc}gte(e,t){return this.setLimit("min",e,!0,eA.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eA.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eA.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eA.toString(t))}setLimit(e,t,r,i){return new TG({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eA.toString(i)}]})}_addCheck(e){return new TG({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:eA.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:eA.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:eA.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:eA.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eA.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}TG.create=e=>new TG({checks:[],typeName:eS.ZodBigInt,coerce:e?.coerce??!1,...Tb(e)});class TH extends Tx{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==w6.boolean){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.boolean,received:t.parsedType}),Tc}return Tp(e.data)}}TH.create=e=>new TH({typeName:eS.ZodBoolean,coerce:e?.coerce||!1,...Tb(e)});class TY extends Tx{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==w6.date){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.date,received:t.parsedType}),Tc}if(Number.isNaN(e.data.getTime()))return Tu(this._getOrReturnCtx(e),{code:Te.invalid_date}),Tc;let r=new Tl;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(Tu(t=this._getOrReturnCtx(e,t),{code:Te.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(Tu(t=this._getOrReturnCtx(e,t),{code:Te.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):eZ.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new TY({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:eA.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:eA.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}TY.create=e=>new TY({checks:[],coerce:e?.coerce||!1,typeName:eS.ZodDate,...Tb(e)});class TJ extends Tx{_parse(e){if(this._getType(e)!==w6.symbol){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.symbol,received:t.parsedType}),Tc}return Tp(e.data)}}TJ.create=e=>new TJ({typeName:eS.ZodSymbol,...Tb(e)});class TX extends Tx{_parse(e){if(this._getType(e)!==w6.undefined){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.undefined,received:t.parsedType}),Tc}return Tp(e.data)}}TX.create=e=>new TX({typeName:eS.ZodUndefined,...Tb(e)});class TQ extends Tx{_parse(e){if(this._getType(e)!==w6.null){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.null,received:t.parsedType}),Tc}return Tp(e.data)}}TQ.create=e=>new TQ({typeName:eS.ZodNull,...Tb(e)});class T0 extends Tx{constructor(){super(...arguments),this._any=!0}_parse(e){return Tp(e.data)}}T0.create=e=>new T0({typeName:eS.ZodAny,...Tb(e)});class T1 extends Tx{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Tp(e.data)}}T1.create=e=>new T1({typeName:eS.ZodUnknown,...Tb(e)});class T2 extends Tx{_parse(e){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.never,received:t.parsedType}),Tc}}T2.create=e=>new T2({typeName:eS.ZodNever,...Tb(e)});class T4 extends Tx{_parse(e){if(this._getType(e)!==w6.undefined){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.void,received:t.parsedType}),Tc}return Tp(e.data)}}T4.create=e=>new T4({typeName:eS.ZodVoid,...Tb(e)});class T5 extends Tx{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==w6.array)return Tu(t,{code:Te.invalid_type,expected:w6.array,received:t.parsedType}),Tc;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(Tu(t,{code:e?Te.too_big:Te.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(Tu(t,{code:Te.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(Tu(t,{code:Te.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new Ty(t,e,t.path,r)))).then(e=>Tl.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new Ty(t,e,t.path,r)));return Tl.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new T5({...this._def,minLength:{value:e,message:eA.toString(t)}})}max(e,t){return new T5({...this._def,maxLength:{value:e,message:eA.toString(t)}})}length(e,t){return new T5({...this._def,exactLength:{value:e,message:eA.toString(t)}})}nonempty(e){return this.min(1,e)}}function T9(e){if(e instanceof T3){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=Zf.create(T9(i))}return new T3({...e._def,shape:()=>t})}if(e instanceof T5)return new T5({...e._def,type:T9(e.element)});if(e instanceof Zf)return Zf.create(T9(e.unwrap()));if(e instanceof Zm)return Zm.create(T9(e.unwrap()));if(e instanceof Zr)return Zr.create(e.items.map(e=>T9(e)));else return e}T5.create=(e,t)=>new T5({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eS.ZodArray,...Tb(t)});class T3 extends Tx{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=eZ.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==w6.object){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.object,received:t.parsedType}),Tc}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof T2&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new Ty(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof T2){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(Tu(r,{code:Te.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new Ty(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>Tl.mergeObjectSync(t,e)):Tl.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return eA.errToObj,new T3({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:eA.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new T3({...this._def,unknownKeys:"strip"})}passthrough(){return new T3({...this._def,unknownKeys:"passthrough"})}extend(e){return new T3({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new T3({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:eS.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new T3({...this._def,catchall:e})}pick(e){let t={};for(let r of eZ.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new T3({...this._def,shape:()=>t})}omit(e){let t={};for(let r of eZ.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new T3({...this._def,shape:()=>t})}deepPartial(){return T9(this)}partial(e){let t={};for(let r of eZ.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new T3({...this._def,shape:()=>t})}required(e){let t={};for(let r of eZ.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof Zf;)e=e._def.innerType;t[r]=e}return new T3({...this._def,shape:()=>t})}keyof(){return Zu(eZ.objectKeys(this.shape))}}T3.create=(e,t)=>new T3({shape:()=>e,unknownKeys:"strip",catchall:T2.create(),typeName:eS.ZodObject,...Tb(t)}),T3.strictCreate=(e,t)=>new T3({shape:()=>e,unknownKeys:"strict",catchall:T2.create(),typeName:eS.ZodObject,...Tb(t)}),T3.lazycreate=(e,t)=>new T3({shape:e,unknownKeys:"strip",catchall:T2.create(),typeName:eS.ZodObject,...Tb(t)});class T8 extends Tx{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new Tr(e.ctx.common.issues));return Tu(t,{code:Te.invalid_union,unionErrors:r}),Tc}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new Tr(e));return Tu(t,{code:Te.invalid_union,unionErrors:a}),Tc}}get options(){return this._def.options}}T8.create=(e,t)=>new T8({options:e,typeName:eS.ZodUnion,...Tb(t)});let T6=e=>{if(e instanceof Zo)return T6(e.schema);if(e instanceof Zp)return T6(e.innerType());if(e instanceof Zd)return[e.value];if(e instanceof Zl)return e.options;if(e instanceof Zc)return eZ.objectValues(e.enum);else if(e instanceof Z_)return T6(e._def.innerType);else if(e instanceof TX)return[void 0];else if(e instanceof TQ)return[null];else if(e instanceof Zf)return[void 0,...T6(e.unwrap())];else if(e instanceof Zm)return[null,...T6(e.unwrap())];else if(e instanceof Zb)return T6(e.unwrap());else if(e instanceof Zk)return T6(e.unwrap());else if(e instanceof Zg)return T6(e._def.innerType);else return[]};class T7 extends Tx{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==w6.object)return Tu(t,{code:Te.invalid_type,expected:w6.object,received:t.parsedType}),Tc;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(Tu(t,{code:Te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Tc)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=T6(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new T7({typeName:eS.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Tb(r)})}}function Ze(e,t){let r=w7(e),i=w7(t);if(e===t)return{valid:!0,data:e};if(r===w6.object&&i===w6.object){let r=eZ.objectKeys(t),i=eZ.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=Ze(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===w6.array&&i===w6.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=Ze(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===w6.date&&i===w6.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class Zt extends Tx{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(Tf(e)||Tf(i))return Tc;let a=Ze(e.value,i.value);return a.valid?((Tm(e)||Tm(i))&&t.dirty(),{status:t.value,value:a.data}):(Tu(r,{code:Te.invalid_intersection_types}),Tc)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zt.create=(e,t,r)=>new Zt({left:e,right:t,typeName:eS.ZodIntersection,...Tb(r)});class Zr extends Tx{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==w6.array)return Tu(r,{code:Te.invalid_type,expected:w6.array,received:r.parsedType}),Tc;if(r.data.length<this._def.items.length)return Tu(r,{code:Te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Tc;!this._def.rest&&r.data.length>this._def.items.length&&(Tu(r,{code:Te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new Ty(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>Tl.mergeArray(t,e)):Tl.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Zr({...this._def,rest:e})}}Zr.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zr({items:e,typeName:eS.ZodTuple,rest:null,...Tb(t)})};class Zi extends Tx{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==w6.object)return Tu(r,{code:Te.invalid_type,expected:w6.object,received:r.parsedType}),Tc;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new Ty(r,e,r.path,e)),value:n._parse(new Ty(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?Tl.mergeObjectAsync(t,i):Tl.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new Zi(t instanceof Tx?{keyType:e,valueType:t,typeName:eS.ZodRecord,...Tb(r)}:{keyType:TW.create(),valueType:e,typeName:eS.ZodRecord,...Tb(t)})}}class Za extends Tx{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==w6.map)return Tu(r,{code:Te.invalid_type,expected:w6.map,received:r.parsedType}),Tc;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new Ty(r,e,r.path,[n,"key"])),value:a._parse(new Ty(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return Tc;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return Tc;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}Za.create=(e,t,r)=>new Za({valueType:t,keyType:e,typeName:eS.ZodMap,...Tb(r)});class Zn extends Tx{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==w6.set)return Tu(r,{code:Te.invalid_type,expected:w6.set,received:r.parsedType}),Tc;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(Tu(r,{code:Te.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(Tu(r,{code:Te.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return Tc;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new Ty(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new Zn({...this._def,minSize:{value:e,message:eA.toString(t)}})}max(e,t){return new Zn({...this._def,maxSize:{value:e,message:eA.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Zn.create=(e,t)=>new Zn({valueType:e,minSize:null,maxSize:null,typeName:eS.ZodSet,...Tb(t)});class Zs extends Tx{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==w6.function)return Tu(t,{code:Te.invalid_type,expected:w6.function,received:t.parsedType}),Tc;function r(e,r){return To({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ts(),Ti].filter(e=>!!e),issueData:{code:Te.invalid_arguments,argumentsError:r}})}function i(e,r){return To({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ts(),Ti].filter(e=>!!e),issueData:{code:Te.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof Zh){let e=this;return Tp(async function(...t){let s=new Tr([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return Tp(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new Tr([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new Tr([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Zs({...this._def,args:Zr.create(e).rest(T1.create())})}returns(e){return new Zs({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Zs({args:e||Zr.create([]).rest(T1.create()),returns:t||T1.create(),typeName:eS.ZodFunction,...Tb(r)})}}class Zo extends Tx{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Zo.create=(e,t)=>new Zo({getter:e,typeName:eS.ZodLazy,...Tb(t)});class Zd extends Tx{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return Tu(t,{received:t.data,code:Te.invalid_literal,expected:this._def.value}),Tc}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Zu(e,t){return new Zl({values:e,typeName:eS.ZodEnum,...Tb(t)})}Zd.create=(e,t)=>new Zd({value:e,typeName:eS.ZodLiteral,...Tb(t)});class Zl extends Tx{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return Tu(t,{expected:eZ.joinValues(r),received:t.parsedType,code:Te.invalid_type}),Tc}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return Tu(t,{received:t.data,code:Te.invalid_enum_value,options:r}),Tc}return Tp(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Zl.create(e,{...this._def,...t})}exclude(e,t=this._def){return Zl.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}Zl.create=Zu;class Zc extends Tx{_parse(e){let t=eZ.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==w6.string&&r.parsedType!==w6.number){let e=eZ.objectValues(t);return Tu(r,{expected:eZ.joinValues(e),received:r.parsedType,code:Te.invalid_type}),Tc}if(this._cache||(this._cache=new Set(eZ.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=eZ.objectValues(t);return Tu(r,{received:r.data,code:Te.invalid_enum_value,options:e}),Tc}return Tp(e.data)}get enum(){return this._def.values}}Zc.create=(e,t)=>new Zc({values:e,typeName:eS.ZodNativeEnum,...Tb(t)});class Zh extends Tx{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==w6.promise&&!1===t.common.async?(Tu(t,{code:Te.invalid_type,expected:w6.promise,received:t.parsedType}),Tc):Tp((t.parsedType===w6.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Zh.create=(e,t)=>new Zh({type:e,typeName:eS.ZodPromise,...Tb(t)});class Zp extends Tx{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eS.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{Tu(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return Tc;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?Tc:"dirty"===i.status||"dirty"===t.value?Th(i.value):i});{if("aborted"===t.value)return Tc;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?Tc:"dirty"===i.status||"dirty"===t.value?Th(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?Tc:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?Tc:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>T_(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):Tc);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!T_(e))return Tc;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}eZ.assertNever(i)}}Zp.create=(e,t,r)=>new Zp({schema:e,typeName:eS.ZodEffects,effect:t,...Tb(r)}),Zp.createWithPreprocess=(e,t,r)=>new Zp({schema:t,effect:{type:"preprocess",transform:e},typeName:eS.ZodEffects,...Tb(r)});class Zf extends Tx{_parse(e){return this._getType(e)===w6.undefined?Tp(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zf.create=(e,t)=>new Zf({innerType:e,typeName:eS.ZodOptional,...Tb(t)});class Zm extends Tx{_parse(e){return this._getType(e)===w6.null?Tp(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zm.create=(e,t)=>new Zm({innerType:e,typeName:eS.ZodNullable,...Tb(t)});class Z_ extends Tx{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===w6.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Z_.create=(e,t)=>new Z_({innerType:e,typeName:eS.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Tb(t)});class Zg extends Tx{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Tg(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Tr(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new Tr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Zg.create=(e,t)=>new Zg({innerType:e,typeName:eS.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Tb(t)});class Zy extends Tx{_parse(e){if(this._getType(e)!==w6.nan){let t=this._getOrReturnCtx(e);return Tu(t,{code:Te.invalid_type,expected:w6.nan,received:t.parsedType}),Tc}return{status:"valid",value:e.data}}}Zy.create=e=>new Zy({typeName:eS.ZodNaN,...Tb(e)});let Zv=Symbol("zod_brand");class Zb extends Tx{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Zx extends Tx{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Tc:"dirty"===e.status?(t.dirty(),Th(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Tc:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new Zx({in:e,out:t,typeName:eS.ZodPipeline})}}class Zk extends Tx{_parse(e){let t=this._def.innerType._parse(e),r=e=>(T_(e)&&(e.value=Object.freeze(e.value)),e);return Tg(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function Zw(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function ZT(e,t={},r){return e?T0.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=Zw(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=Zw(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):T0.create()}Zk.create=(e,t)=>new Zk({innerType:e,typeName:eS.ZodReadonly,...Tb(t)});let ZZ={object:T3.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eS||(eS={}));let ZE=(e,t={message:`Input not instance of ${e.name}`})=>ZT(t=>t instanceof e,t),ZA=TW.create,ZS=Tq.create,ZO=Zy.create,ZI=TG.create,ZC=TH.create,ZN=TY.create,ZM=TJ.create,ZP=TX.create,Zj=TQ.create,ZR=T0.create,ZD=T1.create,ZL=T2.create,ZF=T4.create,ZB=T5.create,Zz=T3.create,Z$=T3.strictCreate,ZU=T8.create,ZV=T7.create,ZW=Zt.create,ZK=Zr.create,Zq=Zi.create,ZG=Za.create,ZH=Zn.create,ZY=Zs.create,ZJ=Zo.create,ZX=Zd.create,ZQ=Zl.create,Z0=Zc.create,Z1=Zh.create,Z2=Zp.create,Z4=Zf.create,Z5=Zm.create,Z9=Zp.createWithPreprocess,Z3=Zx.create,Z8=()=>ZA().optional(),Z6=()=>ZS().optional(),Z7=()=>ZC().optional(),Ee={string:e=>TW.create({...e,coerce:!0}),number:e=>Tq.create({...e,coerce:!0}),boolean:e=>TH.create({...e,coerce:!0}),bigint:e=>TG.create({...e,coerce:!0}),date:e=>TY.create({...e,coerce:!0})},Et=Tc;e.s(["BRAND",0,Zv,"NEVER",0,Et,"Schema",()=>Tx,"ZodAny",()=>T0,"ZodArray",()=>T5,"ZodBigInt",()=>TG,"ZodBoolean",()=>TH,"ZodBranded",()=>Zb,"ZodCatch",()=>Zg,"ZodDate",()=>TY,"ZodDefault",()=>Z_,"ZodDiscriminatedUnion",()=>T7,"ZodEffects",()=>Zp,"ZodEnum",()=>Zl,"ZodFirstPartyTypeKind",()=>eS,"ZodFunction",()=>Zs,"ZodIntersection",()=>Zt,"ZodLazy",()=>Zo,"ZodLiteral",()=>Zd,"ZodMap",()=>Za,"ZodNaN",()=>Zy,"ZodNativeEnum",()=>Zc,"ZodNever",()=>T2,"ZodNull",()=>TQ,"ZodNullable",()=>Zm,"ZodNumber",()=>Tq,"ZodObject",()=>T3,"ZodOptional",()=>Zf,"ZodPipeline",()=>Zx,"ZodPromise",()=>Zh,"ZodReadonly",()=>Zk,"ZodRecord",()=>Zi,"ZodSchema",()=>Tx,"ZodSet",()=>Zn,"ZodString",()=>TW,"ZodSymbol",()=>TJ,"ZodTransformer",()=>Zp,"ZodTuple",()=>Zr,"ZodType",()=>Tx,"ZodUndefined",()=>TX,"ZodUnion",()=>T8,"ZodUnknown",()=>T1,"ZodVoid",()=>T4,"any",()=>ZR,"array",()=>ZB,"bigint",()=>ZI,"boolean",()=>ZC,"coerce",0,Ee,"custom",()=>ZT,"date",()=>ZN,"datetimeRegex",()=>Tz,"discriminatedUnion",()=>ZV,"effect",()=>Z2,"enum",()=>ZQ,"function",()=>ZY,"instanceof",()=>ZE,"intersection",()=>ZW,"late",0,ZZ,"lazy",()=>ZJ,"literal",()=>ZX,"map",()=>ZG,"nan",()=>ZO,"nativeEnum",()=>Z0,"never",()=>ZL,"null",()=>Zj,"nullable",()=>Z5,"number",()=>ZS,"object",()=>Zz,"oboolean",()=>Z7,"onumber",()=>Z6,"optional",()=>Z4,"ostring",()=>Z8,"pipeline",()=>Z3,"preprocess",()=>Z9,"promise",()=>Z1,"record",()=>Zq,"set",()=>ZH,"strictObject",()=>Z$,"string",()=>ZA,"symbol",()=>ZM,"transformer",()=>Z2,"tuple",()=>ZK,"undefined",()=>ZP,"union",()=>ZU,"unknown",()=>ZD,"void",()=>ZF],689587),e.i(689587),e.i(854323),e.s(["BRAND",0,Zv,"DIRTY",0,Th,"EMPTY_PATH",0,Td,"INVALID",0,Tc,"NEVER",0,Et,"OK",0,Tp,"ParseStatus",()=>Tl,"Schema",()=>Tx,"ZodAny",()=>T0,"ZodArray",()=>T5,"ZodBigInt",()=>TG,"ZodBoolean",()=>TH,"ZodBranded",()=>Zb,"ZodCatch",()=>Zg,"ZodDate",()=>TY,"ZodDefault",()=>Z_,"ZodDiscriminatedUnion",()=>T7,"ZodEffects",()=>Zp,"ZodEnum",()=>Zl,"ZodError",()=>Tr,"ZodFirstPartyTypeKind",()=>eS,"ZodFunction",()=>Zs,"ZodIntersection",()=>Zt,"ZodIssueCode",0,Te,"ZodLazy",()=>Zo,"ZodLiteral",()=>Zd,"ZodMap",()=>Za,"ZodNaN",()=>Zy,"ZodNativeEnum",()=>Zc,"ZodNever",()=>T2,"ZodNull",()=>TQ,"ZodNullable",()=>Zm,"ZodNumber",()=>Tq,"ZodObject",()=>T3,"ZodOptional",()=>Zf,"ZodParsedType",0,w6,"ZodPipeline",()=>Zx,"ZodPromise",()=>Zh,"ZodReadonly",()=>Zk,"ZodRecord",()=>Zi,"ZodSchema",()=>Tx,"ZodSet",()=>Zn,"ZodString",()=>TW,"ZodSymbol",()=>TJ,"ZodTransformer",()=>Zp,"ZodTuple",()=>Zr,"ZodType",()=>Tx,"ZodUndefined",()=>TX,"ZodUnion",()=>T8,"ZodUnknown",()=>T1,"ZodVoid",()=>T4,"addIssueToContext",()=>Tu,"any",()=>ZR,"array",()=>ZB,"bigint",()=>ZI,"boolean",()=>ZC,"coerce",0,Ee,"custom",()=>ZT,"date",()=>ZN,"datetimeRegex",()=>Tz,"defaultErrorMap",0,Ti,"discriminatedUnion",()=>ZV,"effect",()=>Z2,"enum",()=>ZQ,"function",()=>ZY,"getErrorMap",()=>Ts,"getParsedType",0,w7,"instanceof",()=>ZE,"intersection",()=>ZW,"isAborted",0,Tf,"isAsync",0,Tg,"isDirty",0,Tm,"isValid",0,T_,"late",0,ZZ,"lazy",()=>ZJ,"literal",()=>ZX,"makeIssue",0,To,"map",()=>ZG,"nan",()=>ZO,"nativeEnum",()=>Z0,"never",()=>ZL,"null",()=>Zj,"nullable",()=>Z5,"number",()=>ZS,"object",()=>Zz,"objectUtil",()=>eE,"oboolean",()=>Z7,"onumber",()=>Z6,"optional",()=>Z4,"ostring",()=>Z8,"pipeline",()=>Z3,"preprocess",()=>Z9,"promise",()=>Z1,"quotelessJson",0,Tt,"record",()=>Zq,"set",()=>ZH,"setErrorMap",()=>Tn,"strictObject",()=>Z$,"string",()=>ZA,"symbol",()=>ZM,"transformer",()=>Z2,"tuple",()=>ZK,"undefined",()=>ZP,"union",()=>ZU,"unknown",()=>ZD,"util",()=>eZ,"void",()=>ZF],574198);var Er=e.i(574198),Er=Er;let Ei=Er.object({horizontal:Er.boolean().optional(),vertical:Er.boolean().optional()}),Ea={flip(e,t){let{horizontal:r,vertical:i}=Ei.parse(t),a=Buffer.alloc(e.bitmap.data.length);return e.scan((t,n,s)=>{let o=r?e.bitmap.width-1-t:t,d=i?e.bitmap.height-1-n:n,u=e.bitmap.width*d+o<<2,l=e.bitmap.data.readUInt32BE(s);a.writeUInt32BE(l,u)}),e.bitmap.data=Buffer.from(a),e}};var En=e.i(795497);class Es{size;smallerSize;constructor(e,t){this.size=e||32,this.smallerSize=t||8,Eu(this.size)}distance(e,t){let r=0;for(let i=0;i<e.length;i++)e[i]!==t[i]&&r++;return r/e.length}getHash(e){e=pT.resize(tE(e),{w:this.size,h:this.size}),e=lK.greyscale(e);let t=[];for(let r=0;r<e.bitmap.width;r++){let i=[];for(let t=0;t<e.bitmap.height;t++)i[t]=Eo(e.getPixelColor(r,t)).b;t[r]=i}let r=El(t,this.size),i=0;for(let e=0;e<this.smallerSize;e++)for(let t=0;t<this.smallerSize;t++)i+=r[e][t];let a=i/(this.smallerSize*this.smallerSize),n="";for(let e=0;e<this.smallerSize;e++)for(let t=0;t<this.smallerSize;t++)n+=r[e][t]>a?"1":"0";return n}}function Eo(e){let t=255&e,r=255&(e>>>=8),i=255&(e>>>=8);return{r:255&(e>>>=8),g:i,b:r,a:t}}let Ed=[];function Eu(e){for(let t=1;t<e;t++)Ed[t]=1;Ed[0]=1/Math.sqrt(2)}function El(e,t){let r=t,i=[];for(let t=0;t<r;t++){let a=[];for(let n=0;n<r;n++){let s=0;for(let i=0;i<r;i++)for(let a=0;a<r;a++)s+=Math.cos((2*i+1)/(2*r)*t*Math.PI)*Math.cos((2*a+1)/(2*r)*n*Math.PI)*e[i][a];s*=Ed[t]*Ed[n]/4,a[n]=s,i[t]=a}}return i}let Ec=Es,Eh="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",Ep=[NaN,NaN];for(let e=2;e<65;e++){let t=(0,En.default)(En.default.BIN,Eh.slice(0,e))(Array(65).join("1"));Ep.push(t.length)}let Ef={pHash:e=>new Ec().getHash(e),hash(e,t=64){if(t<2||t>64)throw Error("base must be a number between 2 and 64");let r=Eh.slice(0,t),i=this.pHash(e),a=Ep[t];return(0,En.default)(En.default.BIN,r)(i).padStart(a,"0")},distanceFromHash(e,t){let r=new Ec,i=r.getHash(e);return r.distance(i,t)}};function Em(e,t){let r=new Ec,i=r.getHash(e),a=r.getHash(t);return r.distance(i,a)}function E_(e,t){return new Ec().distance(e,t)}e.s([],900957),e.i(900957),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(eO||(eO={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(eI||(eI={}));let Eg=eO.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ey=e=>{switch(typeof e){case"undefined":return Eg.undefined;case"string":return Eg.string;case"number":return Number.isNaN(e)?Eg.nan:Eg.number;case"boolean":return Eg.boolean;case"function":return Eg.function;case"bigint":return Eg.bigint;case"symbol":return Eg.symbol;case"object":if(Array.isArray(e))return Eg.array;if(null===e)return Eg.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return Eg.promise;if("undefined"!=typeof Map&&e instanceof Map)return Eg.map;if("undefined"!=typeof Set&&e instanceof Set)return Eg.set;if("undefined"!=typeof Date&&e instanceof Date)return Eg.date;return Eg.object;default:return Eg.unknown}};e.s(["ZodParsedType",0,Eg,"getParsedType",0,Ey,"objectUtil",()=>eI,"util",()=>eO],693110);let Ev=eO.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Eb=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ex extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof Ex))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,eO.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Ex.create=e=>new Ex(e),e.s(["ZodError",()=>Ex,"ZodIssueCode",0,Ev,"quotelessJson",0,Eb],821153);let Ek=(e,t)=>{let r;switch(e.code){case Ev.invalid_type:r=e.received===Eg.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Ev.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,eO.jsonStringifyReplacer)}`;break;case Ev.unrecognized_keys:r=`Unrecognized key(s) in object: ${eO.joinValues(e.keys,", ")}`;break;case Ev.invalid_union:r="Invalid input";break;case Ev.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${eO.joinValues(e.options)}`;break;case Ev.invalid_enum_value:r=`Invalid enum value. Expected ${eO.joinValues(e.options)}, received '${e.received}'`;break;case Ev.invalid_arguments:r="Invalid function arguments";break;case Ev.invalid_return_type:r="Invalid function return type";break;case Ev.invalid_date:r="Invalid date";break;case Ev.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:eO.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Ev.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Ev.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Ev.custom:r="Invalid input";break;case Ev.invalid_intersection_types:r="Intersection results could not be merged";break;case Ev.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ev.not_finite:r="Number must be finite";break;default:r=t.defaultError,eO.assertNever(e)}return{message:r}},Ew=Ek;function ET(e){Ew=e}function EZ(){return Ew}e.s(["getErrorMap",()=>EZ,"setErrorMap",()=>ET],848096),e.i(848096),e.s(["defaultErrorMap",0,Ek,"getErrorMap",()=>EZ,"setErrorMap",()=>ET],689350),e.i(689350);let EE=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},EA=[];function ES(e,t){let r=EZ(),i=EE({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ek?void 0:Ek].filter(e=>!!e)});e.common.issues.push(i)}class EO{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return EI;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return EO.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return EI;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let EI=Object.freeze({status:"aborted"}),EC=e=>({status:"dirty",value:e}),EN=e=>({status:"valid",value:e}),EM=e=>"aborted"===e.status,EP=e=>"dirty"===e.status,Ej=e=>"valid"===e.status,ER=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,EC,"EMPTY_PATH",0,EA,"INVALID",0,EI,"OK",0,EN,"ParseStatus",()=>EO,"addIssueToContext",()=>ES,"isAborted",0,EM,"isAsync",0,ER,"isDirty",0,EP,"isValid",0,Ej,"makeIssue",0,EE],844210),e.i(844210),e.s([],270336),e.i(270336),e.i(693110),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(eC||(eC={}));class ED{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let EL=(e,t)=>{if(Ej(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new Ex(e.common.issues);return this._error=t,this._error}}};function EF(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class EB{get description(){return this._def.description}_getType(e){return Ey(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ey(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new EO,ctx:{common:e.parent.common,data:e.data,parsedType:Ey(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ER(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ey(e)},i=this._parseSync({data:e,path:r.path,parent:r});return EL(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ey(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return Ej(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>Ej(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ey(e)},i=this._parse({data:e,path:r.path,parent:r});return EL(r,await (ER(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:Ev.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new AN({schema:this,typeName:eN.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return AM.create(this,this._def)}nullable(){return AP.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ap.create(this)}promise(){return AC.create(this,this._def)}or(e){return A_.create([this,e],this._def)}and(e){return Ab.create(this,e,this._def)}transform(e){return new AN({...EF(this._def),schema:this,typeName:eN.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new Aj({...EF(this._def),innerType:this,defaultValue:t,typeName:eN.ZodDefault})}brand(){return new AF({typeName:eN.ZodBranded,type:this,...EF(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new AR({...EF(this._def),innerType:this,catchValue:t,typeName:eN.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return AB.create(this,e)}readonly(){return Az.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let Ez=/^c[^\s-]{8,}$/i,E$=/^[0-9a-z]+$/,EU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,EV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,EW=/^[a-z0-9_-]{21}$/i,EK=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Eq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,EG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,EH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",EY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,EJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,EX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,EQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,E0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,E1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,E2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",E4=RegExp(`^${E2}$`);function E5(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function E9(e){return RegExp(`^${E5(e)}$`)}function E3(e){let t=`${E2}T${E5(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function E8(e,t){return!!(("v4"===t||!t)&&EY.test(e)||("v6"===t||!t)&&EX.test(e))}function E6(e,t){if(!EK.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function E7(e,t){return!!(("v4"===t||!t)&&EJ.test(e)||("v6"===t||!t)&&EQ.test(e))}class Ae extends EB{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Eg.string){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.string,received:t.parsedType}),EI}let r=new EO;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(ES(t=this._getOrReturnCtx(e,t),{code:Ev.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(ES(t=this._getOrReturnCtx(e,t),{code:Ev.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?ES(t,{code:Ev.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&ES(t,{code:Ev.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)EG.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{validation:"email",code:Ev.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)h||(h=RegExp(EH,"u")),h.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:Ev.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)EV.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:Ev.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)EW.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:Ev.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)Ez.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:Ev.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)E$.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:Ev.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)EU.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:Ev.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{ES(t=this._getOrReturnCtx(e,t),{validation:"url",code:Ev.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{validation:"regex",code:Ev.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(ES(t=this._getOrReturnCtx(e,t),{code:Ev.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(ES(t=this._getOrReturnCtx(e,t),{code:Ev.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(ES(t=this._getOrReturnCtx(e,t),{code:Ev.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?E3(i).test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{code:Ev.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?E4.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{code:Ev.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?E9(i).test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{code:Ev.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?Eq.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{validation:"duration",code:Ev.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?E8(e.data,i.version)||(ES(t=this._getOrReturnCtx(e,t),{validation:"ip",code:Ev.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?E6(e.data,i.alg)||(ES(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:Ev.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?E7(e.data,i.version)||(ES(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:Ev.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?E0.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{validation:"base64",code:Ev.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?E1.test(e.data)||(ES(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:Ev.invalid_string,message:i.message}),r.dirty()):eO.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:Ev.invalid_string,...eC.errToObj(r)})}_addCheck(e){return new Ae({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...eC.errToObj(e)})}url(e){return this._addCheck({kind:"url",...eC.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...eC.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...eC.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...eC.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...eC.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...eC.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...eC.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...eC.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...eC.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...eC.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...eC.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...eC.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...eC.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...eC.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...eC.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...eC.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...eC.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...eC.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...eC.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...eC.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...eC.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...eC.errToObj(t)})}nonempty(e){return this.min(1,eC.errToObj(e))}trim(){return new Ae({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ae({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ae({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function At(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}Ae.create=e=>new Ae({checks:[],typeName:eN.ZodString,coerce:e?.coerce??!1,...EF(e)});class Ar extends EB{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Eg.number){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.number,received:t.parsedType}),EI}let r=new EO;for(let i of this._def.checks)"int"===i.kind?eO.isInteger(e.data)||(ES(t=this._getOrReturnCtx(e,t),{code:Ev.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(ES(t=this._getOrReturnCtx(e,t),{code:Ev.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(ES(t=this._getOrReturnCtx(e,t),{code:Ev.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==At(e.data,i.value)&&(ES(t=this._getOrReturnCtx(e,t),{code:Ev.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(ES(t=this._getOrReturnCtx(e,t),{code:Ev.not_finite,message:i.message}),r.dirty()):eO.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,eC.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eC.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eC.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eC.toString(t))}setLimit(e,t,r,i){return new Ar({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eC.toString(i)}]})}_addCheck(e){return new Ar({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:eC.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:eC.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:eC.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:eC.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:eC.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eC.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:eC.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:eC.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:eC.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&eO.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}Ar.create=e=>new Ar({checks:[],typeName:eN.ZodNumber,coerce:e?.coerce||!1,...EF(e)});class Ai extends EB{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Eg.bigint)return this._getInvalidInput(e);let r=new EO;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(ES(t=this._getOrReturnCtx(e,t),{code:Ev.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(ES(t=this._getOrReturnCtx(e,t),{code:Ev.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(ES(t=this._getOrReturnCtx(e,t),{code:Ev.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):eO.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.bigint,received:t.parsedType}),EI}gte(e,t){return this.setLimit("min",e,!0,eC.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eC.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eC.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eC.toString(t))}setLimit(e,t,r,i){return new Ai({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eC.toString(i)}]})}_addCheck(e){return new Ai({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:eC.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:eC.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:eC.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:eC.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eC.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Ai.create=e=>new Ai({checks:[],typeName:eN.ZodBigInt,coerce:e?.coerce??!1,...EF(e)});class Aa extends EB{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Eg.boolean){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.boolean,received:t.parsedType}),EI}return EN(e.data)}}Aa.create=e=>new Aa({typeName:eN.ZodBoolean,coerce:e?.coerce||!1,...EF(e)});class An extends EB{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Eg.date){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.date,received:t.parsedType}),EI}if(Number.isNaN(e.data.getTime()))return ES(this._getOrReturnCtx(e),{code:Ev.invalid_date}),EI;let r=new EO;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(ES(t=this._getOrReturnCtx(e,t),{code:Ev.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(ES(t=this._getOrReturnCtx(e,t),{code:Ev.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):eO.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new An({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:eC.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:eC.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}An.create=e=>new An({checks:[],coerce:e?.coerce||!1,typeName:eN.ZodDate,...EF(e)});class As extends EB{_parse(e){if(this._getType(e)!==Eg.symbol){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.symbol,received:t.parsedType}),EI}return EN(e.data)}}As.create=e=>new As({typeName:eN.ZodSymbol,...EF(e)});class Ao extends EB{_parse(e){if(this._getType(e)!==Eg.undefined){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.undefined,received:t.parsedType}),EI}return EN(e.data)}}Ao.create=e=>new Ao({typeName:eN.ZodUndefined,...EF(e)});class Ad extends EB{_parse(e){if(this._getType(e)!==Eg.null){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.null,received:t.parsedType}),EI}return EN(e.data)}}Ad.create=e=>new Ad({typeName:eN.ZodNull,...EF(e)});class Au extends EB{constructor(){super(...arguments),this._any=!0}_parse(e){return EN(e.data)}}Au.create=e=>new Au({typeName:eN.ZodAny,...EF(e)});class Al extends EB{constructor(){super(...arguments),this._unknown=!0}_parse(e){return EN(e.data)}}Al.create=e=>new Al({typeName:eN.ZodUnknown,...EF(e)});class Ac extends EB{_parse(e){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.never,received:t.parsedType}),EI}}Ac.create=e=>new Ac({typeName:eN.ZodNever,...EF(e)});class Ah extends EB{_parse(e){if(this._getType(e)!==Eg.undefined){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.void,received:t.parsedType}),EI}return EN(e.data)}}Ah.create=e=>new Ah({typeName:eN.ZodVoid,...EF(e)});class Ap extends EB{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==Eg.array)return ES(t,{code:Ev.invalid_type,expected:Eg.array,received:t.parsedType}),EI;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(ES(t,{code:e?Ev.too_big:Ev.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(ES(t,{code:Ev.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(ES(t,{code:Ev.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new ED(t,e,t.path,r)))).then(e=>EO.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new ED(t,e,t.path,r)));return EO.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new Ap({...this._def,minLength:{value:e,message:eC.toString(t)}})}max(e,t){return new Ap({...this._def,maxLength:{value:e,message:eC.toString(t)}})}length(e,t){return new Ap({...this._def,exactLength:{value:e,message:eC.toString(t)}})}nonempty(e){return this.min(1,e)}}function Af(e){if(e instanceof Am){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=AM.create(Af(i))}return new Am({...e._def,shape:()=>t})}if(e instanceof Ap)return new Ap({...e._def,type:Af(e.element)});if(e instanceof AM)return AM.create(Af(e.unwrap()));if(e instanceof AP)return AP.create(Af(e.unwrap()));if(e instanceof Ax)return Ax.create(e.items.map(e=>Af(e)));else return e}Ap.create=(e,t)=>new Ap({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eN.ZodArray,...EF(t)});class Am extends EB{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=eO.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Eg.object){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.object,received:t.parsedType}),EI}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof Ac&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new ED(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof Ac){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(ES(r,{code:Ev.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new ED(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>EO.mergeObjectSync(t,e)):EO.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return eC.errToObj,new Am({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:eC.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Am({...this._def,unknownKeys:"strip"})}passthrough(){return new Am({...this._def,unknownKeys:"passthrough"})}extend(e){return new Am({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Am({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:eN.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Am({...this._def,catchall:e})}pick(e){let t={};for(let r of eO.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Am({...this._def,shape:()=>t})}omit(e){let t={};for(let r of eO.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Am({...this._def,shape:()=>t})}deepPartial(){return Af(this)}partial(e){let t={};for(let r of eO.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new Am({...this._def,shape:()=>t})}required(e){let t={};for(let r of eO.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof AM;)e=e._def.innerType;t[r]=e}return new Am({...this._def,shape:()=>t})}keyof(){return AS(eO.objectKeys(this.shape))}}Am.create=(e,t)=>new Am({shape:()=>e,unknownKeys:"strip",catchall:Ac.create(),typeName:eN.ZodObject,...EF(t)}),Am.strictCreate=(e,t)=>new Am({shape:()=>e,unknownKeys:"strict",catchall:Ac.create(),typeName:eN.ZodObject,...EF(t)}),Am.lazycreate=(e,t)=>new Am({shape:e,unknownKeys:"strip",catchall:Ac.create(),typeName:eN.ZodObject,...EF(t)});class A_ extends EB{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new Ex(e.ctx.common.issues));return ES(t,{code:Ev.invalid_union,unionErrors:r}),EI}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new Ex(e));return ES(t,{code:Ev.invalid_union,unionErrors:a}),EI}}get options(){return this._def.options}}A_.create=(e,t)=>new A_({options:e,typeName:eN.ZodUnion,...EF(t)});let Ag=e=>{if(e instanceof AE)return Ag(e.schema);if(e instanceof AN)return Ag(e.innerType());if(e instanceof AA)return[e.value];if(e instanceof AO)return e.options;if(e instanceof AI)return eO.objectValues(e.enum);else if(e instanceof Aj)return Ag(e._def.innerType);else if(e instanceof Ao)return[void 0];else if(e instanceof Ad)return[null];else if(e instanceof AM)return[void 0,...Ag(e.unwrap())];else if(e instanceof AP)return[null,...Ag(e.unwrap())];else if(e instanceof AF)return Ag(e.unwrap());else if(e instanceof Az)return Ag(e.unwrap());else if(e instanceof AR)return Ag(e._def.innerType);else return[]};class Ay extends EB{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==Eg.object)return ES(t,{code:Ev.invalid_type,expected:Eg.object,received:t.parsedType}),EI;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(ES(t,{code:Ev.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),EI)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=Ag(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new Ay({typeName:eN.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...EF(r)})}}function Av(e,t){let r=Ey(e),i=Ey(t);if(e===t)return{valid:!0,data:e};if(r===Eg.object&&i===Eg.object){let r=eO.objectKeys(t),i=eO.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=Av(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===Eg.array&&i===Eg.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=Av(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===Eg.date&&i===Eg.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class Ab extends EB{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(EM(e)||EM(i))return EI;let a=Av(e.value,i.value);return a.valid?((EP(e)||EP(i))&&t.dirty(),{status:t.value,value:a.data}):(ES(r,{code:Ev.invalid_intersection_types}),EI)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ab.create=(e,t,r)=>new Ab({left:e,right:t,typeName:eN.ZodIntersection,...EF(r)});class Ax extends EB{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Eg.array)return ES(r,{code:Ev.invalid_type,expected:Eg.array,received:r.parsedType}),EI;if(r.data.length<this._def.items.length)return ES(r,{code:Ev.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),EI;!this._def.rest&&r.data.length>this._def.items.length&&(ES(r,{code:Ev.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new ED(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>EO.mergeArray(t,e)):EO.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Ax({...this._def,rest:e})}}Ax.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ax({items:e,typeName:eN.ZodTuple,rest:null,...EF(t)})};class Ak extends EB{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Eg.object)return ES(r,{code:Ev.invalid_type,expected:Eg.object,received:r.parsedType}),EI;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new ED(r,e,r.path,e)),value:n._parse(new ED(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?EO.mergeObjectAsync(t,i):EO.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new Ak(t instanceof EB?{keyType:e,valueType:t,typeName:eN.ZodRecord,...EF(r)}:{keyType:Ae.create(),valueType:e,typeName:eN.ZodRecord,...EF(t)})}}class Aw extends EB{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Eg.map)return ES(r,{code:Ev.invalid_type,expected:Eg.map,received:r.parsedType}),EI;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new ED(r,e,r.path,[n,"key"])),value:a._parse(new ED(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return EI;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return EI;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}Aw.create=(e,t,r)=>new Aw({valueType:t,keyType:e,typeName:eN.ZodMap,...EF(r)});class AT extends EB{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Eg.set)return ES(r,{code:Ev.invalid_type,expected:Eg.set,received:r.parsedType}),EI;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(ES(r,{code:Ev.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(ES(r,{code:Ev.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return EI;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new ED(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new AT({...this._def,minSize:{value:e,message:eC.toString(t)}})}max(e,t){return new AT({...this._def,maxSize:{value:e,message:eC.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}AT.create=(e,t)=>new AT({valueType:e,minSize:null,maxSize:null,typeName:eN.ZodSet,...EF(t)});class AZ extends EB{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==Eg.function)return ES(t,{code:Ev.invalid_type,expected:Eg.function,received:t.parsedType}),EI;function r(e,r){return EE({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,EZ(),Ek].filter(e=>!!e),issueData:{code:Ev.invalid_arguments,argumentsError:r}})}function i(e,r){return EE({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,EZ(),Ek].filter(e=>!!e),issueData:{code:Ev.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof AC){let e=this;return EN(async function(...t){let s=new Ex([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return EN(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new Ex([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new Ex([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new AZ({...this._def,args:Ax.create(e).rest(Al.create())})}returns(e){return new AZ({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new AZ({args:e||Ax.create([]).rest(Al.create()),returns:t||Al.create(),typeName:eN.ZodFunction,...EF(r)})}}class AE extends EB{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}AE.create=(e,t)=>new AE({getter:e,typeName:eN.ZodLazy,...EF(t)});class AA extends EB{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return ES(t,{received:t.data,code:Ev.invalid_literal,expected:this._def.value}),EI}return{status:"valid",value:e.data}}get value(){return this._def.value}}function AS(e,t){return new AO({values:e,typeName:eN.ZodEnum,...EF(t)})}AA.create=(e,t)=>new AA({value:e,typeName:eN.ZodLiteral,...EF(t)});class AO extends EB{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return ES(t,{expected:eO.joinValues(r),received:t.parsedType,code:Ev.invalid_type}),EI}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return ES(t,{received:t.data,code:Ev.invalid_enum_value,options:r}),EI}return EN(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return AO.create(e,{...this._def,...t})}exclude(e,t=this._def){return AO.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}AO.create=AS;class AI extends EB{_parse(e){let t=eO.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Eg.string&&r.parsedType!==Eg.number){let e=eO.objectValues(t);return ES(r,{expected:eO.joinValues(e),received:r.parsedType,code:Ev.invalid_type}),EI}if(this._cache||(this._cache=new Set(eO.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=eO.objectValues(t);return ES(r,{received:r.data,code:Ev.invalid_enum_value,options:e}),EI}return EN(e.data)}get enum(){return this._def.values}}AI.create=(e,t)=>new AI({values:e,typeName:eN.ZodNativeEnum,...EF(t)});class AC extends EB{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==Eg.promise&&!1===t.common.async?(ES(t,{code:Ev.invalid_type,expected:Eg.promise,received:t.parsedType}),EI):EN((t.parsedType===Eg.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}AC.create=(e,t)=>new AC({type:e,typeName:eN.ZodPromise,...EF(t)});class AN extends EB{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eN.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{ES(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return EI;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?EI:"dirty"===i.status||"dirty"===t.value?EC(i.value):i});{if("aborted"===t.value)return EI;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?EI:"dirty"===i.status||"dirty"===t.value?EC(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?EI:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?EI:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>Ej(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):EI);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ej(e))return EI;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}eO.assertNever(i)}}AN.create=(e,t,r)=>new AN({schema:e,typeName:eN.ZodEffects,effect:t,...EF(r)}),AN.createWithPreprocess=(e,t,r)=>new AN({schema:t,effect:{type:"preprocess",transform:e},typeName:eN.ZodEffects,...EF(r)});class AM extends EB{_parse(e){return this._getType(e)===Eg.undefined?EN(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}AM.create=(e,t)=>new AM({innerType:e,typeName:eN.ZodOptional,...EF(t)});class AP extends EB{_parse(e){return this._getType(e)===Eg.null?EN(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}AP.create=(e,t)=>new AP({innerType:e,typeName:eN.ZodNullable,...EF(t)});class Aj extends EB{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===Eg.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Aj.create=(e,t)=>new Aj({innerType:e,typeName:eN.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...EF(t)});class AR extends EB{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ER(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Ex(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new Ex(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}AR.create=(e,t)=>new AR({innerType:e,typeName:eN.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...EF(t)});class AD extends EB{_parse(e){if(this._getType(e)!==Eg.nan){let t=this._getOrReturnCtx(e);return ES(t,{code:Ev.invalid_type,expected:Eg.nan,received:t.parsedType}),EI}return{status:"valid",value:e.data}}}AD.create=e=>new AD({typeName:eN.ZodNaN,...EF(e)});let AL=Symbol("zod_brand");class AF extends EB{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class AB extends EB{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?EI:"dirty"===e.status?(t.dirty(),EC(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?EI:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new AB({in:e,out:t,typeName:eN.ZodPipeline})}}class Az extends EB{_parse(e){let t=this._def.innerType._parse(e),r=e=>(Ej(e)&&(e.value=Object.freeze(e.value)),e);return ER(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function A$(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function AU(e,t={},r){return e?Au.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=A$(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=A$(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):Au.create()}Az.create=(e,t)=>new Az({innerType:e,typeName:eN.ZodReadonly,...EF(t)});let AV={object:Am.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eN||(eN={}));let AW=(e,t={message:`Input not instance of ${e.name}`})=>AU(t=>t instanceof e,t),AK=Ae.create,Aq=Ar.create,AG=AD.create,AH=Ai.create,AY=Aa.create,AJ=An.create,AX=As.create,AQ=Ao.create,A0=Ad.create,A1=Au.create,A2=Al.create,A4=Ac.create,A5=Ah.create,A9=Ap.create,A3=Am.create,A8=Am.strictCreate,A6=A_.create,A7=Ay.create,Se=Ab.create,St=Ax.create,Sr=Ak.create,Si=Aw.create,Sa=AT.create,Sn=AZ.create,Ss=AE.create,So=AA.create,Sd=AO.create,Su=AI.create,Sl=AC.create,Sc=AN.create,Sh=AM.create,Sp=AP.create,Sf=AN.createWithPreprocess,Sm=AB.create,S_=()=>AK().optional(),Sg=()=>Aq().optional(),Sy=()=>AY().optional(),Sv={string:e=>Ae.create({...e,coerce:!0}),number:e=>Ar.create({...e,coerce:!0}),boolean:e=>Aa.create({...e,coerce:!0}),bigint:e=>Ai.create({...e,coerce:!0}),date:e=>An.create({...e,coerce:!0})},Sb=EI;e.s(["BRAND",0,AL,"NEVER",0,Sb,"Schema",()=>EB,"ZodAny",()=>Au,"ZodArray",()=>Ap,"ZodBigInt",()=>Ai,"ZodBoolean",()=>Aa,"ZodBranded",()=>AF,"ZodCatch",()=>AR,"ZodDate",()=>An,"ZodDefault",()=>Aj,"ZodDiscriminatedUnion",()=>Ay,"ZodEffects",()=>AN,"ZodEnum",()=>AO,"ZodFirstPartyTypeKind",()=>eN,"ZodFunction",()=>AZ,"ZodIntersection",()=>Ab,"ZodLazy",()=>AE,"ZodLiteral",()=>AA,"ZodMap",()=>Aw,"ZodNaN",()=>AD,"ZodNativeEnum",()=>AI,"ZodNever",()=>Ac,"ZodNull",()=>Ad,"ZodNullable",()=>AP,"ZodNumber",()=>Ar,"ZodObject",()=>Am,"ZodOptional",()=>AM,"ZodPipeline",()=>AB,"ZodPromise",()=>AC,"ZodReadonly",()=>Az,"ZodRecord",()=>Ak,"ZodSchema",()=>EB,"ZodSet",()=>AT,"ZodString",()=>Ae,"ZodSymbol",()=>As,"ZodTransformer",()=>AN,"ZodTuple",()=>Ax,"ZodType",()=>EB,"ZodUndefined",()=>Ao,"ZodUnion",()=>A_,"ZodUnknown",()=>Al,"ZodVoid",()=>Ah,"any",()=>A1,"array",()=>A9,"bigint",()=>AH,"boolean",()=>AY,"coerce",0,Sv,"custom",()=>AU,"date",()=>AJ,"datetimeRegex",()=>E3,"discriminatedUnion",()=>A7,"effect",()=>Sc,"enum",()=>Sd,"function",()=>Sn,"instanceof",()=>AW,"intersection",()=>Se,"late",0,AV,"lazy",()=>Ss,"literal",()=>So,"map",()=>Si,"nan",()=>AG,"nativeEnum",()=>Su,"never",()=>A4,"null",()=>A0,"nullable",()=>Sp,"number",()=>Aq,"object",()=>A3,"oboolean",()=>Sy,"onumber",()=>Sg,"optional",()=>Sh,"ostring",()=>S_,"pipeline",()=>Sm,"preprocess",()=>Sf,"promise",()=>Sl,"record",()=>Sr,"set",()=>Sa,"strictObject",()=>A8,"string",()=>AK,"symbol",()=>AX,"transformer",()=>Sc,"tuple",()=>St,"undefined",()=>AQ,"union",()=>A6,"unknown",()=>A2,"void",()=>A5],480564),e.i(480564),e.i(821153),e.s(["BRAND",0,AL,"DIRTY",0,EC,"EMPTY_PATH",0,EA,"INVALID",0,EI,"NEVER",0,Sb,"OK",0,EN,"ParseStatus",()=>EO,"Schema",()=>EB,"ZodAny",()=>Au,"ZodArray",()=>Ap,"ZodBigInt",()=>Ai,"ZodBoolean",()=>Aa,"ZodBranded",()=>AF,"ZodCatch",()=>AR,"ZodDate",()=>An,"ZodDefault",()=>Aj,"ZodDiscriminatedUnion",()=>Ay,"ZodEffects",()=>AN,"ZodEnum",()=>AO,"ZodError",()=>Ex,"ZodFirstPartyTypeKind",()=>eN,"ZodFunction",()=>AZ,"ZodIntersection",()=>Ab,"ZodIssueCode",0,Ev,"ZodLazy",()=>AE,"ZodLiteral",()=>AA,"ZodMap",()=>Aw,"ZodNaN",()=>AD,"ZodNativeEnum",()=>AI,"ZodNever",()=>Ac,"ZodNull",()=>Ad,"ZodNullable",()=>AP,"ZodNumber",()=>Ar,"ZodObject",()=>Am,"ZodOptional",()=>AM,"ZodParsedType",0,Eg,"ZodPipeline",()=>AB,"ZodPromise",()=>AC,"ZodReadonly",()=>Az,"ZodRecord",()=>Ak,"ZodSchema",()=>EB,"ZodSet",()=>AT,"ZodString",()=>Ae,"ZodSymbol",()=>As,"ZodTransformer",()=>AN,"ZodTuple",()=>Ax,"ZodType",()=>EB,"ZodUndefined",()=>Ao,"ZodUnion",()=>A_,"ZodUnknown",()=>Al,"ZodVoid",()=>Ah,"addIssueToContext",()=>ES,"any",()=>A1,"array",()=>A9,"bigint",()=>AH,"boolean",()=>AY,"coerce",0,Sv,"custom",()=>AU,"date",()=>AJ,"datetimeRegex",()=>E3,"defaultErrorMap",0,Ek,"discriminatedUnion",()=>A7,"effect",()=>Sc,"enum",()=>Sd,"function",()=>Sn,"getErrorMap",()=>EZ,"getParsedType",0,Ey,"instanceof",()=>AW,"intersection",()=>Se,"isAborted",0,EM,"isAsync",0,ER,"isDirty",0,EP,"isValid",0,Ej,"late",0,AV,"lazy",()=>Ss,"literal",()=>So,"makeIssue",0,EE,"map",()=>Si,"nan",()=>AG,"nativeEnum",()=>Su,"never",()=>A4,"null",()=>A0,"nullable",()=>Sp,"number",()=>Aq,"object",()=>A3,"objectUtil",()=>eI,"oboolean",()=>Sy,"onumber",()=>Sg,"optional",()=>Sh,"ostring",()=>S_,"pipeline",()=>Sm,"preprocess",()=>Sf,"promise",()=>Sl,"quotelessJson",0,Eb,"record",()=>Sr,"set",()=>Sa,"setErrorMap",()=>ET,"strictObject",()=>A8,"string",()=>AK,"symbol",()=>AX,"transformer",()=>Sc,"tuple",()=>St,"undefined",()=>AQ,"union",()=>A6,"unknown",()=>A2,"util",()=>eO,"void",()=>A5],691080);var Sx=e.i(691080),Sx=Sx;let Sk=Sx.object({src:i1,x:Sx.number().optional(),y:Sx.number().optional()}),Sw=Sx.union([i1,Sk]),ST={mask(e,t){let r,i,a;Sw.parse(t),"bitmap"in t?(r=t,i=0,a=0):(r=t.src,i=t.x??0,a=t.y??0),i=Math.round(i),a=Math.round(a);let n=e.bitmap.width,s=e.bitmap.height;return r.scan(function(t,o,d){let u=i+t,l=a+o;if(u>=0&&l>=0&&u<n&&l<s){let t=e.getPixelIndex(u,l),{data:i}=r.bitmap,a=(i[d+0]+i[d+1]+i[d+2])/3;e.bitmap.data[t+3]*=a/255}}),e}};e.s([],199355),e.i(199355),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(eM||(eM={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(eP||(eP={}));let SZ=eM.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),SE=e=>{switch(typeof e){case"undefined":return SZ.undefined;case"string":return SZ.string;case"number":return Number.isNaN(e)?SZ.nan:SZ.number;case"boolean":return SZ.boolean;case"function":return SZ.function;case"bigint":return SZ.bigint;case"symbol":return SZ.symbol;case"object":if(Array.isArray(e))return SZ.array;if(null===e)return SZ.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return SZ.promise;if("undefined"!=typeof Map&&e instanceof Map)return SZ.map;if("undefined"!=typeof Set&&e instanceof Set)return SZ.set;if("undefined"!=typeof Date&&e instanceof Date)return SZ.date;return SZ.object;default:return SZ.unknown}};e.s(["ZodParsedType",0,SZ,"getParsedType",0,SE,"objectUtil",()=>eP,"util",()=>eM],887961);let SA=eM.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),SS=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class SO extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof SO))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,eM.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}SO.create=e=>new SO(e),e.s(["ZodError",()=>SO,"ZodIssueCode",0,SA,"quotelessJson",0,SS],573993);let SI=(e,t)=>{let r;switch(e.code){case SA.invalid_type:r=e.received===SZ.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case SA.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,eM.jsonStringifyReplacer)}`;break;case SA.unrecognized_keys:r=`Unrecognized key(s) in object: ${eM.joinValues(e.keys,", ")}`;break;case SA.invalid_union:r="Invalid input";break;case SA.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${eM.joinValues(e.options)}`;break;case SA.invalid_enum_value:r=`Invalid enum value. Expected ${eM.joinValues(e.options)}, received '${e.received}'`;break;case SA.invalid_arguments:r="Invalid function arguments";break;case SA.invalid_return_type:r="Invalid function return type";break;case SA.invalid_date:r="Invalid date";break;case SA.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:eM.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case SA.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case SA.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case SA.custom:r="Invalid input";break;case SA.invalid_intersection_types:r="Intersection results could not be merged";break;case SA.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case SA.not_finite:r="Number must be finite";break;default:r=t.defaultError,eM.assertNever(e)}return{message:r}},SC=SI;function SN(e){SC=e}function SM(){return SC}e.s(["getErrorMap",()=>SM,"setErrorMap",()=>SN],817446),e.i(817446),e.s(["defaultErrorMap",0,SI,"getErrorMap",()=>SM,"setErrorMap",()=>SN],165178),e.i(165178);let SP=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},Sj=[];function SR(e,t){let r=SM(),i=SP({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===SI?void 0:SI].filter(e=>!!e)});e.common.issues.push(i)}class SD{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return SL;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return SD.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return SL;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let SL=Object.freeze({status:"aborted"}),SF=e=>({status:"dirty",value:e}),SB=e=>({status:"valid",value:e}),Sz=e=>"aborted"===e.status,S$=e=>"dirty"===e.status,SU=e=>"valid"===e.status,SV=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,SF,"EMPTY_PATH",0,Sj,"INVALID",0,SL,"OK",0,SB,"ParseStatus",()=>SD,"addIssueToContext",()=>SR,"isAborted",0,Sz,"isAsync",0,SV,"isDirty",0,S$,"isValid",0,SU,"makeIssue",0,SP],435853),e.i(435853),e.s([],530834),e.i(530834),e.i(887961),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(ej||(ej={}));class SW{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let SK=(e,t)=>{if(SU(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new SO(e.common.issues);return this._error=t,this._error}}};function Sq(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class SG{get description(){return this._def.description}_getType(e){return SE(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:SE(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new SD,ctx:{common:e.parent.common,data:e.data,parsedType:SE(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(SV(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:SE(e)},i=this._parseSync({data:e,path:r.path,parent:r});return SK(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:SE(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return SU(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>SU(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:SE(e)},i=this._parse({data:e,path:r.path,parent:r});return SK(r,await (SV(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:SA.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new OB({schema:this,typeName:eR.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Oz.create(this,this._def)}nullable(){return O$.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ox.create(this)}promise(){return OF.create(this,this._def)}or(e){return OT.create([this,e],this._def)}and(e){return OS.create(this,e,this._def)}transform(e){return new OB({...Sq(this._def),schema:this,typeName:eR.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new OU({...Sq(this._def),innerType:this,defaultValue:t,typeName:eR.ZodDefault})}brand(){return new Oq({typeName:eR.ZodBranded,type:this,...Sq(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new OV({...Sq(this._def),innerType:this,catchValue:t,typeName:eR.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return OG.create(this,e)}readonly(){return OH.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let SH=/^c[^\s-]{8,}$/i,SY=/^[0-9a-z]+$/,SJ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,SX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SQ=/^[a-z0-9_-]{21}$/i,S0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,S1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,S2=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,S4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",S5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,S9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,S3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,S8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,S6=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,S7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Oe="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ot=RegExp(`^${Oe}$`);function Or(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Oi(e){return RegExp(`^${Or(e)}$`)}function Oa(e){let t=`${Oe}T${Or(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function On(e,t){return!!(("v4"===t||!t)&&S5.test(e)||("v6"===t||!t)&&S3.test(e))}function Os(e,t){if(!S0.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function Oo(e,t){return!!(("v4"===t||!t)&&S9.test(e)||("v6"===t||!t)&&S8.test(e))}class Od extends SG{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==SZ.string){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.string,received:t.parsedType}),SL}let r=new SD;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(SR(t=this._getOrReturnCtx(e,t),{code:SA.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(SR(t=this._getOrReturnCtx(e,t),{code:SA.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?SR(t,{code:SA.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&SR(t,{code:SA.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)S2.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{validation:"email",code:SA.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)p||(p=RegExp(S4,"u")),p.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:SA.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)SX.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:SA.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)SQ.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:SA.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)SH.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:SA.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)SY.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:SA.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)SJ.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:SA.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{SR(t=this._getOrReturnCtx(e,t),{validation:"url",code:SA.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{validation:"regex",code:SA.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(SR(t=this._getOrReturnCtx(e,t),{code:SA.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(SR(t=this._getOrReturnCtx(e,t),{code:SA.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(SR(t=this._getOrReturnCtx(e,t),{code:SA.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?Oa(i).test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{code:SA.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?Ot.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{code:SA.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?Oi(i).test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{code:SA.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?S1.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{validation:"duration",code:SA.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?On(e.data,i.version)||(SR(t=this._getOrReturnCtx(e,t),{validation:"ip",code:SA.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?Os(e.data,i.alg)||(SR(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:SA.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?Oo(e.data,i.version)||(SR(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:SA.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?S6.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{validation:"base64",code:SA.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?S7.test(e.data)||(SR(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:SA.invalid_string,message:i.message}),r.dirty()):eM.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:SA.invalid_string,...ej.errToObj(r)})}_addCheck(e){return new Od({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ej.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ej.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ej.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ej.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ej.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ej.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ej.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ej.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ej.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ej.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ej.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ej.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ej.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...ej.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...ej.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ej.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ej.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...ej.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ej.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ej.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ej.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ej.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ej.errToObj(t)})}nonempty(e){return this.min(1,ej.errToObj(e))}trim(){return new Od({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Od({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Od({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ou(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}Od.create=e=>new Od({checks:[],typeName:eR.ZodString,coerce:e?.coerce??!1,...Sq(e)});class Ol extends SG{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==SZ.number){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.number,received:t.parsedType}),SL}let r=new SD;for(let i of this._def.checks)"int"===i.kind?eM.isInteger(e.data)||(SR(t=this._getOrReturnCtx(e,t),{code:SA.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(SR(t=this._getOrReturnCtx(e,t),{code:SA.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(SR(t=this._getOrReturnCtx(e,t),{code:SA.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==Ou(e.data,i.value)&&(SR(t=this._getOrReturnCtx(e,t),{code:SA.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(SR(t=this._getOrReturnCtx(e,t),{code:SA.not_finite,message:i.message}),r.dirty()):eM.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ej.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ej.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ej.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ej.toString(t))}setLimit(e,t,r,i){return new Ol({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ej.toString(i)}]})}_addCheck(e){return new Ol({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ej.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ej.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ej.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ej.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ej.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ej.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ej.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ej.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ej.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&eM.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}Ol.create=e=>new Ol({checks:[],typeName:eR.ZodNumber,coerce:e?.coerce||!1,...Sq(e)});class Oc extends SG{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==SZ.bigint)return this._getInvalidInput(e);let r=new SD;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(SR(t=this._getOrReturnCtx(e,t),{code:SA.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(SR(t=this._getOrReturnCtx(e,t),{code:SA.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(SR(t=this._getOrReturnCtx(e,t),{code:SA.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):eM.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.bigint,received:t.parsedType}),SL}gte(e,t){return this.setLimit("min",e,!0,ej.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ej.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ej.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ej.toString(t))}setLimit(e,t,r,i){return new Oc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ej.toString(i)}]})}_addCheck(e){return new Oc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ej.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ej.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ej.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ej.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ej.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Oc.create=e=>new Oc({checks:[],typeName:eR.ZodBigInt,coerce:e?.coerce??!1,...Sq(e)});class Oh extends SG{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==SZ.boolean){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.boolean,received:t.parsedType}),SL}return SB(e.data)}}Oh.create=e=>new Oh({typeName:eR.ZodBoolean,coerce:e?.coerce||!1,...Sq(e)});class Op extends SG{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==SZ.date){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.date,received:t.parsedType}),SL}if(Number.isNaN(e.data.getTime()))return SR(this._getOrReturnCtx(e),{code:SA.invalid_date}),SL;let r=new SD;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(SR(t=this._getOrReturnCtx(e,t),{code:SA.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(SR(t=this._getOrReturnCtx(e,t),{code:SA.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):eM.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Op({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ej.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ej.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Op.create=e=>new Op({checks:[],coerce:e?.coerce||!1,typeName:eR.ZodDate,...Sq(e)});class Of extends SG{_parse(e){if(this._getType(e)!==SZ.symbol){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.symbol,received:t.parsedType}),SL}return SB(e.data)}}Of.create=e=>new Of({typeName:eR.ZodSymbol,...Sq(e)});class Om extends SG{_parse(e){if(this._getType(e)!==SZ.undefined){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.undefined,received:t.parsedType}),SL}return SB(e.data)}}Om.create=e=>new Om({typeName:eR.ZodUndefined,...Sq(e)});class O_ extends SG{_parse(e){if(this._getType(e)!==SZ.null){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.null,received:t.parsedType}),SL}return SB(e.data)}}O_.create=e=>new O_({typeName:eR.ZodNull,...Sq(e)});class Og extends SG{constructor(){super(...arguments),this._any=!0}_parse(e){return SB(e.data)}}Og.create=e=>new Og({typeName:eR.ZodAny,...Sq(e)});class Oy extends SG{constructor(){super(...arguments),this._unknown=!0}_parse(e){return SB(e.data)}}Oy.create=e=>new Oy({typeName:eR.ZodUnknown,...Sq(e)});class Ov extends SG{_parse(e){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.never,received:t.parsedType}),SL}}Ov.create=e=>new Ov({typeName:eR.ZodNever,...Sq(e)});class Ob extends SG{_parse(e){if(this._getType(e)!==SZ.undefined){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.void,received:t.parsedType}),SL}return SB(e.data)}}Ob.create=e=>new Ob({typeName:eR.ZodVoid,...Sq(e)});class Ox extends SG{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==SZ.array)return SR(t,{code:SA.invalid_type,expected:SZ.array,received:t.parsedType}),SL;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(SR(t,{code:e?SA.too_big:SA.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(SR(t,{code:SA.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(SR(t,{code:SA.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new SW(t,e,t.path,r)))).then(e=>SD.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new SW(t,e,t.path,r)));return SD.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new Ox({...this._def,minLength:{value:e,message:ej.toString(t)}})}max(e,t){return new Ox({...this._def,maxLength:{value:e,message:ej.toString(t)}})}length(e,t){return new Ox({...this._def,exactLength:{value:e,message:ej.toString(t)}})}nonempty(e){return this.min(1,e)}}function Ok(e){if(e instanceof Ow){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=Oz.create(Ok(i))}return new Ow({...e._def,shape:()=>t})}if(e instanceof Ox)return new Ox({...e._def,type:Ok(e.element)});if(e instanceof Oz)return Oz.create(Ok(e.unwrap()));if(e instanceof O$)return O$.create(Ok(e.unwrap()));if(e instanceof OO)return OO.create(e.items.map(e=>Ok(e)));else return e}Ox.create=(e,t)=>new Ox({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eR.ZodArray,...Sq(t)});class Ow extends SG{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=eM.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==SZ.object){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.object,received:t.parsedType}),SL}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof Ov&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new SW(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof Ov){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(SR(r,{code:SA.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new SW(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>SD.mergeObjectSync(t,e)):SD.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return ej.errToObj,new Ow({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:ej.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Ow({...this._def,unknownKeys:"strip"})}passthrough(){return new Ow({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ow({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ow({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:eR.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ow({...this._def,catchall:e})}pick(e){let t={};for(let r of eM.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Ow({...this._def,shape:()=>t})}omit(e){let t={};for(let r of eM.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Ow({...this._def,shape:()=>t})}deepPartial(){return Ok(this)}partial(e){let t={};for(let r of eM.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new Ow({...this._def,shape:()=>t})}required(e){let t={};for(let r of eM.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof Oz;)e=e._def.innerType;t[r]=e}return new Ow({...this._def,shape:()=>t})}keyof(){return OR(eM.objectKeys(this.shape))}}Ow.create=(e,t)=>new Ow({shape:()=>e,unknownKeys:"strip",catchall:Ov.create(),typeName:eR.ZodObject,...Sq(t)}),Ow.strictCreate=(e,t)=>new Ow({shape:()=>e,unknownKeys:"strict",catchall:Ov.create(),typeName:eR.ZodObject,...Sq(t)}),Ow.lazycreate=(e,t)=>new Ow({shape:e,unknownKeys:"strip",catchall:Ov.create(),typeName:eR.ZodObject,...Sq(t)});class OT extends SG{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new SO(e.ctx.common.issues));return SR(t,{code:SA.invalid_union,unionErrors:r}),SL}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new SO(e));return SR(t,{code:SA.invalid_union,unionErrors:a}),SL}}get options(){return this._def.options}}OT.create=(e,t)=>new OT({options:e,typeName:eR.ZodUnion,...Sq(t)});let OZ=e=>{if(e instanceof OP)return OZ(e.schema);if(e instanceof OB)return OZ(e.innerType());if(e instanceof Oj)return[e.value];if(e instanceof OD)return e.options;if(e instanceof OL)return eM.objectValues(e.enum);else if(e instanceof OU)return OZ(e._def.innerType);else if(e instanceof Om)return[void 0];else if(e instanceof O_)return[null];else if(e instanceof Oz)return[void 0,...OZ(e.unwrap())];else if(e instanceof O$)return[null,...OZ(e.unwrap())];else if(e instanceof Oq)return OZ(e.unwrap());else if(e instanceof OH)return OZ(e.unwrap());else if(e instanceof OV)return OZ(e._def.innerType);else return[]};class OE extends SG{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==SZ.object)return SR(t,{code:SA.invalid_type,expected:SZ.object,received:t.parsedType}),SL;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(SR(t,{code:SA.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),SL)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=OZ(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new OE({typeName:eR.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Sq(r)})}}function OA(e,t){let r=SE(e),i=SE(t);if(e===t)return{valid:!0,data:e};if(r===SZ.object&&i===SZ.object){let r=eM.objectKeys(t),i=eM.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=OA(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===SZ.array&&i===SZ.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=OA(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===SZ.date&&i===SZ.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class OS extends SG{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(Sz(e)||Sz(i))return SL;let a=OA(e.value,i.value);return a.valid?((S$(e)||S$(i))&&t.dirty(),{status:t.value,value:a.data}):(SR(r,{code:SA.invalid_intersection_types}),SL)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}OS.create=(e,t,r)=>new OS({left:e,right:t,typeName:eR.ZodIntersection,...Sq(r)});class OO extends SG{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==SZ.array)return SR(r,{code:SA.invalid_type,expected:SZ.array,received:r.parsedType}),SL;if(r.data.length<this._def.items.length)return SR(r,{code:SA.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),SL;!this._def.rest&&r.data.length>this._def.items.length&&(SR(r,{code:SA.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new SW(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>SD.mergeArray(t,e)):SD.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new OO({...this._def,rest:e})}}OO.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new OO({items:e,typeName:eR.ZodTuple,rest:null,...Sq(t)})};class OI extends SG{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==SZ.object)return SR(r,{code:SA.invalid_type,expected:SZ.object,received:r.parsedType}),SL;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new SW(r,e,r.path,e)),value:n._parse(new SW(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?SD.mergeObjectAsync(t,i):SD.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new OI(t instanceof SG?{keyType:e,valueType:t,typeName:eR.ZodRecord,...Sq(r)}:{keyType:Od.create(),valueType:e,typeName:eR.ZodRecord,...Sq(t)})}}class OC extends SG{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==SZ.map)return SR(r,{code:SA.invalid_type,expected:SZ.map,received:r.parsedType}),SL;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new SW(r,e,r.path,[n,"key"])),value:a._parse(new SW(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return SL;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return SL;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}OC.create=(e,t,r)=>new OC({valueType:t,keyType:e,typeName:eR.ZodMap,...Sq(r)});class ON extends SG{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==SZ.set)return SR(r,{code:SA.invalid_type,expected:SZ.set,received:r.parsedType}),SL;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(SR(r,{code:SA.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(SR(r,{code:SA.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return SL;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new SW(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new ON({...this._def,minSize:{value:e,message:ej.toString(t)}})}max(e,t){return new ON({...this._def,maxSize:{value:e,message:ej.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ON.create=(e,t)=>new ON({valueType:e,minSize:null,maxSize:null,typeName:eR.ZodSet,...Sq(t)});class OM extends SG{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==SZ.function)return SR(t,{code:SA.invalid_type,expected:SZ.function,received:t.parsedType}),SL;function r(e,r){return SP({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,SM(),SI].filter(e=>!!e),issueData:{code:SA.invalid_arguments,argumentsError:r}})}function i(e,r){return SP({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,SM(),SI].filter(e=>!!e),issueData:{code:SA.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof OF){let e=this;return SB(async function(...t){let s=new SO([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return SB(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new SO([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new SO([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new OM({...this._def,args:OO.create(e).rest(Oy.create())})}returns(e){return new OM({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new OM({args:e||OO.create([]).rest(Oy.create()),returns:t||Oy.create(),typeName:eR.ZodFunction,...Sq(r)})}}class OP extends SG{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}OP.create=(e,t)=>new OP({getter:e,typeName:eR.ZodLazy,...Sq(t)});class Oj extends SG{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return SR(t,{received:t.data,code:SA.invalid_literal,expected:this._def.value}),SL}return{status:"valid",value:e.data}}get value(){return this._def.value}}function OR(e,t){return new OD({values:e,typeName:eR.ZodEnum,...Sq(t)})}Oj.create=(e,t)=>new Oj({value:e,typeName:eR.ZodLiteral,...Sq(t)});class OD extends SG{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return SR(t,{expected:eM.joinValues(r),received:t.parsedType,code:SA.invalid_type}),SL}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return SR(t,{received:t.data,code:SA.invalid_enum_value,options:r}),SL}return SB(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return OD.create(e,{...this._def,...t})}exclude(e,t=this._def){return OD.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}OD.create=OR;class OL extends SG{_parse(e){let t=eM.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==SZ.string&&r.parsedType!==SZ.number){let e=eM.objectValues(t);return SR(r,{expected:eM.joinValues(e),received:r.parsedType,code:SA.invalid_type}),SL}if(this._cache||(this._cache=new Set(eM.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=eM.objectValues(t);return SR(r,{received:r.data,code:SA.invalid_enum_value,options:e}),SL}return SB(e.data)}get enum(){return this._def.values}}OL.create=(e,t)=>new OL({values:e,typeName:eR.ZodNativeEnum,...Sq(t)});class OF extends SG{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==SZ.promise&&!1===t.common.async?(SR(t,{code:SA.invalid_type,expected:SZ.promise,received:t.parsedType}),SL):SB((t.parsedType===SZ.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}OF.create=(e,t)=>new OF({type:e,typeName:eR.ZodPromise,...Sq(t)});class OB extends SG{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eR.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{SR(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return SL;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?SL:"dirty"===i.status||"dirty"===t.value?SF(i.value):i});{if("aborted"===t.value)return SL;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?SL:"dirty"===i.status||"dirty"===t.value?SF(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?SL:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?SL:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>SU(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):SL);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!SU(e))return SL;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}eM.assertNever(i)}}OB.create=(e,t,r)=>new OB({schema:e,typeName:eR.ZodEffects,effect:t,...Sq(r)}),OB.createWithPreprocess=(e,t,r)=>new OB({schema:t,effect:{type:"preprocess",transform:e},typeName:eR.ZodEffects,...Sq(r)});class Oz extends SG{_parse(e){return this._getType(e)===SZ.undefined?SB(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Oz.create=(e,t)=>new Oz({innerType:e,typeName:eR.ZodOptional,...Sq(t)});class O$ extends SG{_parse(e){return this._getType(e)===SZ.null?SB(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}O$.create=(e,t)=>new O$({innerType:e,typeName:eR.ZodNullable,...Sq(t)});class OU extends SG{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===SZ.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}OU.create=(e,t)=>new OU({innerType:e,typeName:eR.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Sq(t)});class OV extends SG{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return SV(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new SO(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new SO(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}OV.create=(e,t)=>new OV({innerType:e,typeName:eR.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Sq(t)});class OW extends SG{_parse(e){if(this._getType(e)!==SZ.nan){let t=this._getOrReturnCtx(e);return SR(t,{code:SA.invalid_type,expected:SZ.nan,received:t.parsedType}),SL}return{status:"valid",value:e.data}}}OW.create=e=>new OW({typeName:eR.ZodNaN,...Sq(e)});let OK=Symbol("zod_brand");class Oq extends SG{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class OG extends SG{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?SL:"dirty"===e.status?(t.dirty(),SF(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?SL:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new OG({in:e,out:t,typeName:eR.ZodPipeline})}}class OH extends SG{_parse(e){let t=this._def.innerType._parse(e),r=e=>(SU(e)&&(e.value=Object.freeze(e.value)),e);return SV(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function OY(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function OJ(e,t={},r){return e?Og.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=OY(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=OY(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):Og.create()}OH.create=(e,t)=>new OH({innerType:e,typeName:eR.ZodReadonly,...Sq(t)});let OX={object:Ow.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eR||(eR={}));let OQ=(e,t={message:`Input not instance of ${e.name}`})=>OJ(t=>t instanceof e,t),O0=Od.create,O1=Ol.create,O2=OW.create,O4=Oc.create,O5=Oh.create,O9=Op.create,O3=Of.create,O8=Om.create,O6=O_.create,O7=Og.create,Ie=Oy.create,It=Ov.create,Ir=Ob.create,Ii=Ox.create,Ia=Ow.create,In=Ow.strictCreate,Is=OT.create,Io=OE.create,Id=OS.create,Iu=OO.create,Il=OI.create,Ic=OC.create,Ih=ON.create,Ip=OM.create,If=OP.create,Im=Oj.create,I_=OD.create,Ig=OL.create,Iy=OF.create,Iv=OB.create,Ib=Oz.create,Ix=O$.create,Ik=OB.createWithPreprocess,Iw=OG.create,IT=()=>O0().optional(),IZ=()=>O1().optional(),IE=()=>O5().optional(),IA={string:e=>Od.create({...e,coerce:!0}),number:e=>Ol.create({...e,coerce:!0}),boolean:e=>Oh.create({...e,coerce:!0}),bigint:e=>Oc.create({...e,coerce:!0}),date:e=>Op.create({...e,coerce:!0})},IS=SL;e.s(["BRAND",0,OK,"NEVER",0,IS,"Schema",()=>SG,"ZodAny",()=>Og,"ZodArray",()=>Ox,"ZodBigInt",()=>Oc,"ZodBoolean",()=>Oh,"ZodBranded",()=>Oq,"ZodCatch",()=>OV,"ZodDate",()=>Op,"ZodDefault",()=>OU,"ZodDiscriminatedUnion",()=>OE,"ZodEffects",()=>OB,"ZodEnum",()=>OD,"ZodFirstPartyTypeKind",()=>eR,"ZodFunction",()=>OM,"ZodIntersection",()=>OS,"ZodLazy",()=>OP,"ZodLiteral",()=>Oj,"ZodMap",()=>OC,"ZodNaN",()=>OW,"ZodNativeEnum",()=>OL,"ZodNever",()=>Ov,"ZodNull",()=>O_,"ZodNullable",()=>O$,"ZodNumber",()=>Ol,"ZodObject",()=>Ow,"ZodOptional",()=>Oz,"ZodPipeline",()=>OG,"ZodPromise",()=>OF,"ZodReadonly",()=>OH,"ZodRecord",()=>OI,"ZodSchema",()=>SG,"ZodSet",()=>ON,"ZodString",()=>Od,"ZodSymbol",()=>Of,"ZodTransformer",()=>OB,"ZodTuple",()=>OO,"ZodType",()=>SG,"ZodUndefined",()=>Om,"ZodUnion",()=>OT,"ZodUnknown",()=>Oy,"ZodVoid",()=>Ob,"any",()=>O7,"array",()=>Ii,"bigint",()=>O4,"boolean",()=>O5,"coerce",0,IA,"custom",()=>OJ,"date",()=>O9,"datetimeRegex",()=>Oa,"discriminatedUnion",()=>Io,"effect",()=>Iv,"enum",()=>I_,"function",()=>Ip,"instanceof",()=>OQ,"intersection",()=>Id,"late",0,OX,"lazy",()=>If,"literal",()=>Im,"map",()=>Ic,"nan",()=>O2,"nativeEnum",()=>Ig,"never",()=>It,"null",()=>O6,"nullable",()=>Ix,"number",()=>O1,"object",()=>Ia,"oboolean",()=>IE,"onumber",()=>IZ,"optional",()=>Ib,"ostring",()=>IT,"pipeline",()=>Iw,"preprocess",()=>Ik,"promise",()=>Iy,"record",()=>Il,"set",()=>Ih,"strictObject",()=>In,"string",()=>O0,"symbol",()=>O3,"transformer",()=>Iv,"tuple",()=>Iu,"undefined",()=>O8,"union",()=>Is,"unknown",()=>Ie,"void",()=>Ir],383514),e.i(383514),e.i(573993),e.s(["BRAND",0,OK,"DIRTY",0,SF,"EMPTY_PATH",0,Sj,"INVALID",0,SL,"NEVER",0,IS,"OK",0,SB,"ParseStatus",()=>SD,"Schema",()=>SG,"ZodAny",()=>Og,"ZodArray",()=>Ox,"ZodBigInt",()=>Oc,"ZodBoolean",()=>Oh,"ZodBranded",()=>Oq,"ZodCatch",()=>OV,"ZodDate",()=>Op,"ZodDefault",()=>OU,"ZodDiscriminatedUnion",()=>OE,"ZodEffects",()=>OB,"ZodEnum",()=>OD,"ZodError",()=>SO,"ZodFirstPartyTypeKind",()=>eR,"ZodFunction",()=>OM,"ZodIntersection",()=>OS,"ZodIssueCode",0,SA,"ZodLazy",()=>OP,"ZodLiteral",()=>Oj,"ZodMap",()=>OC,"ZodNaN",()=>OW,"ZodNativeEnum",()=>OL,"ZodNever",()=>Ov,"ZodNull",()=>O_,"ZodNullable",()=>O$,"ZodNumber",()=>Ol,"ZodObject",()=>Ow,"ZodOptional",()=>Oz,"ZodParsedType",0,SZ,"ZodPipeline",()=>OG,"ZodPromise",()=>OF,"ZodReadonly",()=>OH,"ZodRecord",()=>OI,"ZodSchema",()=>SG,"ZodSet",()=>ON,"ZodString",()=>Od,"ZodSymbol",()=>Of,"ZodTransformer",()=>OB,"ZodTuple",()=>OO,"ZodType",()=>SG,"ZodUndefined",()=>Om,"ZodUnion",()=>OT,"ZodUnknown",()=>Oy,"ZodVoid",()=>Ob,"addIssueToContext",()=>SR,"any",()=>O7,"array",()=>Ii,"bigint",()=>O4,"boolean",()=>O5,"coerce",0,IA,"custom",()=>OJ,"date",()=>O9,"datetimeRegex",()=>Oa,"defaultErrorMap",0,SI,"discriminatedUnion",()=>Io,"effect",()=>Iv,"enum",()=>I_,"function",()=>Ip,"getErrorMap",()=>SM,"getParsedType",0,SE,"instanceof",()=>OQ,"intersection",()=>Id,"isAborted",0,Sz,"isAsync",0,SV,"isDirty",0,S$,"isValid",0,SU,"late",0,OX,"lazy",()=>If,"literal",()=>Im,"makeIssue",0,SP,"map",()=>Ic,"nan",()=>O2,"nativeEnum",()=>Ig,"never",()=>It,"null",()=>O6,"nullable",()=>Ix,"number",()=>O1,"object",()=>Ia,"objectUtil",()=>eP,"oboolean",()=>IE,"onumber",()=>IZ,"optional",()=>Ib,"ostring",()=>IT,"pipeline",()=>Iw,"preprocess",()=>Ik,"promise",()=>Iy,"quotelessJson",0,SS,"record",()=>Il,"set",()=>Ih,"setErrorMap",()=>SN,"strictObject",()=>In,"string",()=>O0,"symbol",()=>O3,"transformer",()=>Iv,"tuple",()=>Iu,"undefined",()=>O8,"union",()=>Is,"unknown",()=>Ie,"util",()=>eM,"void",()=>Ir],88045);var IO=e.i(88045),IO=IO;function II(e,t){let r=0;for(let i=0;i<t.length;i++){let a=t[i],n=e.chars[a];if(n){let s=e.kernings[a],o=t[i+1],d=s&&o&&s[o]&&s[o]||0;r+=(n.xadvance||0)+d}}return r}function IC(e,t,r){let i=t.replace(/[\r\n]+/g," \n").split(" "),a=[],n=[],s=0;return i.forEach(t=>{if(II(e,t+(i.length>1?" ":""))>r){let i=t[Symbol.iterator](),s="";for(let t of i){let i=II(e,[...n,s+t].join(" "));i<r?s+=t:i>r?(a.push([...n,s]),n=[],s=t):(a.push([...n,s+t]),n=[],s="")}return}let o=II(e,[...n,t].join(" "));o<=r&&!t.includes("\n")?(o>s&&(s=o),n.push(t)):(a.push(n),n=[t.replace("\n","")])}),a.push(n),{lines:a,longestLine:s}}function IN(e,t,r){let{lines:i}=IC(e,t,r);return i.length*e.common.lineHeight}let IM=IO.object({x:IO.number(),y:IO.number(),text:IO.union([IO.union([IO.string(),IO.number()]),IO.object({text:IO.union([IO.string(),IO.number()]),alignmentX:IO.nativeEnum(J).optional(),alignmentY:IO.nativeEnum(X).optional()})]),maxWidth:IO.number().optional(),maxHeight:IO.number().optional(),cb:IO.function(IO.tuple([IO.object({x:IO.number(),y:IO.number()})])).optional()});function IP(e,t,r,i){return i===J.LEFT?0:i===J.CENTER?(r-II(e,t))/2:r-II(e,t)}function Ij(e,t,r,i,a){if(a.width>0&&a.height>0){let n=t.pages[a.page];n&&(e=n7.blit(e,{src:n,x:r+a.xoffset,y:i+a.yoffset,srcX:a.x,srcY:a.y,srcW:a.width,srcH:a.height}))}return e}function IR(e,t,r,i,a,n){for(let s=0;s<a.length;s++){let o,d=a[s];o=t.chars[d]?d:/\s/.test(d)?"":"?";let u=t.chars[o]||{xadvance:void 0},l=t.kernings[o];Ij(e,t,r,i,u);let c=a[s+1];r+=(l&&c&&l[c]&&l[c]||0)+(u.xadvance||n)}}let ID={print(e,{font:t,...r}){let i,a,{x:n,y:s,text:o,maxWidth:d=1/0,maxHeight:u=1/0,cb:l=()=>{}}=IM.parse(r);"object"==typeof o&&null!==o.text&&void 0!==o.text?(i=o.alignmentX||J.LEFT,a=o.alignmentY||X.TOP,{text:o}=o):(i=J.LEFT,a=X.TOP,o=o.toString()),"number"==typeof o&&(o=o.toString()),u!==1/0&&a===X.BOTTOM?s+=u-IN(t,o,d):u!==1/0&&a===X.MIDDLE&&(s+=u/2-IN(t,o,d)/2);let c=Object.entries(t.chars).find(e=>e[1].xadvance)?.[1].xadvance;if("number"!=typeof c)throw Error("Could not find default character width");let{lines:h,longestLine:p}=IC(t,o,d);return h.forEach(r=>{let a=r.join(" "),o=IP(t,a,d,i);IR(e,t,n+o,s,a,c),s+=t.common.lineHeight}),l.bind(e)({x:n+p,y:s}),e}};e.s([],199332),e.i(199332),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(eD||(eD={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(eL||(eL={}));let IL=eD.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),IF=e=>{switch(typeof e){case"undefined":return IL.undefined;case"string":return IL.string;case"number":return Number.isNaN(e)?IL.nan:IL.number;case"boolean":return IL.boolean;case"function":return IL.function;case"bigint":return IL.bigint;case"symbol":return IL.symbol;case"object":if(Array.isArray(e))return IL.array;if(null===e)return IL.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return IL.promise;if("undefined"!=typeof Map&&e instanceof Map)return IL.map;if("undefined"!=typeof Set&&e instanceof Set)return IL.set;if("undefined"!=typeof Date&&e instanceof Date)return IL.date;return IL.object;default:return IL.unknown}};e.s(["ZodParsedType",0,IL,"getParsedType",0,IF,"objectUtil",()=>eL,"util",()=>eD],308892);let IB=eD.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Iz=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class I$ extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof I$))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,eD.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}I$.create=e=>new I$(e),e.s(["ZodError",()=>I$,"ZodIssueCode",0,IB,"quotelessJson",0,Iz],940130);let IU=(e,t)=>{let r;switch(e.code){case IB.invalid_type:r=e.received===IL.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case IB.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,eD.jsonStringifyReplacer)}`;break;case IB.unrecognized_keys:r=`Unrecognized key(s) in object: ${eD.joinValues(e.keys,", ")}`;break;case IB.invalid_union:r="Invalid input";break;case IB.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${eD.joinValues(e.options)}`;break;case IB.invalid_enum_value:r=`Invalid enum value. Expected ${eD.joinValues(e.options)}, received '${e.received}'`;break;case IB.invalid_arguments:r="Invalid function arguments";break;case IB.invalid_return_type:r="Invalid function return type";break;case IB.invalid_date:r="Invalid date";break;case IB.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:eD.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case IB.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case IB.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case IB.custom:r="Invalid input";break;case IB.invalid_intersection_types:r="Intersection results could not be merged";break;case IB.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case IB.not_finite:r="Number must be finite";break;default:r=t.defaultError,eD.assertNever(e)}return{message:r}},IV=IU;function IW(e){IV=e}function IK(){return IV}e.s(["getErrorMap",()=>IK,"setErrorMap",()=>IW],807801),e.i(807801),e.s(["defaultErrorMap",0,IU,"getErrorMap",()=>IK,"setErrorMap",()=>IW],450977),e.i(450977);let Iq=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},IG=[];function IH(e,t){let r=IK(),i=Iq({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===IU?void 0:IU].filter(e=>!!e)});e.common.issues.push(i)}class IY{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return IJ;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return IY.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return IJ;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let IJ=Object.freeze({status:"aborted"}),IX=e=>({status:"dirty",value:e}),IQ=e=>({status:"valid",value:e}),I0=e=>"aborted"===e.status,I1=e=>"dirty"===e.status,I2=e=>"valid"===e.status,I4=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,IX,"EMPTY_PATH",0,IG,"INVALID",0,IJ,"OK",0,IQ,"ParseStatus",()=>IY,"addIssueToContext",()=>IH,"isAborted",0,I0,"isAsync",0,I4,"isDirty",0,I1,"isValid",0,I2,"makeIssue",0,Iq],691145),e.i(691145),e.s([],429259),e.i(429259),e.i(308892),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(eF||(eF={}));class I5{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let I9=(e,t)=>{if(I2(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new I$(e.common.issues);return this._error=t,this._error}}};function I3(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class I8{get description(){return this._def.description}_getType(e){return IF(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:IF(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new IY,ctx:{common:e.parent.common,data:e.data,parsedType:IF(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(I4(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:IF(e)},i=this._parseSync({data:e,path:r.path,parent:r});return I9(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:IF(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return I2(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>I2(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:IF(e)},i=this._parse({data:e,path:r.path,parent:r});return I9(r,await (I4(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:IB.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new CQ({schema:this,typeName:eB.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return C0.create(this,this._def)}nullable(){return C1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return CP.create(this)}promise(){return CX.create(this,this._def)}or(e){return CD.create([this,e],this._def)}and(e){return Cz.create(this,e,this._def)}transform(e){return new CQ({...I3(this._def),schema:this,typeName:eB.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new C2({...I3(this._def),innerType:this,defaultValue:t,typeName:eB.ZodDefault})}brand(){return new C3({typeName:eB.ZodBranded,type:this,...I3(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new C4({...I3(this._def),innerType:this,catchValue:t,typeName:eB.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return C8.create(this,e)}readonly(){return C6.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let I6=/^c[^\s-]{8,}$/i,I7=/^[0-9a-z]+$/,Ce=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ct=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Cr=/^[a-z0-9_-]{21}$/i,Ci=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ca=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Cn=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Cs="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Co=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Cd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Cu=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Cl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Cc=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ch=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Cp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Cf=RegExp(`^${Cp}$`);function Cm(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function C_(e){return RegExp(`^${Cm(e)}$`)}function Cg(e){let t=`${Cp}T${Cm(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function Cy(e,t){return!!(("v4"===t||!t)&&Co.test(e)||("v6"===t||!t)&&Cu.test(e))}function Cv(e,t){if(!Ci.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function Cb(e,t){return!!(("v4"===t||!t)&&Cd.test(e)||("v6"===t||!t)&&Cl.test(e))}class Cx extends I8{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==IL.string){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.string,received:t.parsedType}),IJ}let r=new IY;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(IH(t=this._getOrReturnCtx(e,t),{code:IB.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(IH(t=this._getOrReturnCtx(e,t),{code:IB.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?IH(t,{code:IB.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&IH(t,{code:IB.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)Cn.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{validation:"email",code:IB.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)f||(f=RegExp(Cs,"u")),f.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:IB.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)Ct.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:IB.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)Cr.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:IB.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)I6.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:IB.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)I7.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:IB.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)Ce.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:IB.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{IH(t=this._getOrReturnCtx(e,t),{validation:"url",code:IB.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{validation:"regex",code:IB.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(IH(t=this._getOrReturnCtx(e,t),{code:IB.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(IH(t=this._getOrReturnCtx(e,t),{code:IB.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(IH(t=this._getOrReturnCtx(e,t),{code:IB.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?Cg(i).test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{code:IB.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?Cf.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{code:IB.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?C_(i).test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{code:IB.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?Ca.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{validation:"duration",code:IB.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?Cy(e.data,i.version)||(IH(t=this._getOrReturnCtx(e,t),{validation:"ip",code:IB.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?Cv(e.data,i.alg)||(IH(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:IB.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?Cb(e.data,i.version)||(IH(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:IB.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?Cc.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{validation:"base64",code:IB.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?Ch.test(e.data)||(IH(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:IB.invalid_string,message:i.message}),r.dirty()):eD.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:IB.invalid_string,...eF.errToObj(r)})}_addCheck(e){return new Cx({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...eF.errToObj(e)})}url(e){return this._addCheck({kind:"url",...eF.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...eF.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...eF.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...eF.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...eF.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...eF.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...eF.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...eF.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...eF.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...eF.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...eF.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...eF.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...eF.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...eF.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...eF.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...eF.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...eF.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...eF.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...eF.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...eF.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...eF.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...eF.errToObj(t)})}nonempty(e){return this.min(1,eF.errToObj(e))}trim(){return new Cx({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Cx({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Cx({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ck(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}Cx.create=e=>new Cx({checks:[],typeName:eB.ZodString,coerce:e?.coerce??!1,...I3(e)});class Cw extends I8{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==IL.number){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.number,received:t.parsedType}),IJ}let r=new IY;for(let i of this._def.checks)"int"===i.kind?eD.isInteger(e.data)||(IH(t=this._getOrReturnCtx(e,t),{code:IB.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(IH(t=this._getOrReturnCtx(e,t),{code:IB.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(IH(t=this._getOrReturnCtx(e,t),{code:IB.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==Ck(e.data,i.value)&&(IH(t=this._getOrReturnCtx(e,t),{code:IB.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(IH(t=this._getOrReturnCtx(e,t),{code:IB.not_finite,message:i.message}),r.dirty()):eD.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,eF.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eF.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eF.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eF.toString(t))}setLimit(e,t,r,i){return new Cw({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eF.toString(i)}]})}_addCheck(e){return new Cw({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:eF.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:eF.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:eF.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:eF.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:eF.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eF.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:eF.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:eF.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:eF.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&eD.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}Cw.create=e=>new Cw({checks:[],typeName:eB.ZodNumber,coerce:e?.coerce||!1,...I3(e)});class CT extends I8{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==IL.bigint)return this._getInvalidInput(e);let r=new IY;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(IH(t=this._getOrReturnCtx(e,t),{code:IB.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(IH(t=this._getOrReturnCtx(e,t),{code:IB.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(IH(t=this._getOrReturnCtx(e,t),{code:IB.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):eD.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.bigint,received:t.parsedType}),IJ}gte(e,t){return this.setLimit("min",e,!0,eF.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eF.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eF.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eF.toString(t))}setLimit(e,t,r,i){return new CT({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eF.toString(i)}]})}_addCheck(e){return new CT({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:eF.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:eF.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:eF.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:eF.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eF.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}CT.create=e=>new CT({checks:[],typeName:eB.ZodBigInt,coerce:e?.coerce??!1,...I3(e)});class CZ extends I8{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==IL.boolean){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.boolean,received:t.parsedType}),IJ}return IQ(e.data)}}CZ.create=e=>new CZ({typeName:eB.ZodBoolean,coerce:e?.coerce||!1,...I3(e)});class CE extends I8{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==IL.date){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.date,received:t.parsedType}),IJ}if(Number.isNaN(e.data.getTime()))return IH(this._getOrReturnCtx(e),{code:IB.invalid_date}),IJ;let r=new IY;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(IH(t=this._getOrReturnCtx(e,t),{code:IB.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(IH(t=this._getOrReturnCtx(e,t),{code:IB.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):eD.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new CE({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:eF.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:eF.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}CE.create=e=>new CE({checks:[],coerce:e?.coerce||!1,typeName:eB.ZodDate,...I3(e)});class CA extends I8{_parse(e){if(this._getType(e)!==IL.symbol){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.symbol,received:t.parsedType}),IJ}return IQ(e.data)}}CA.create=e=>new CA({typeName:eB.ZodSymbol,...I3(e)});class CS extends I8{_parse(e){if(this._getType(e)!==IL.undefined){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.undefined,received:t.parsedType}),IJ}return IQ(e.data)}}CS.create=e=>new CS({typeName:eB.ZodUndefined,...I3(e)});class CO extends I8{_parse(e){if(this._getType(e)!==IL.null){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.null,received:t.parsedType}),IJ}return IQ(e.data)}}CO.create=e=>new CO({typeName:eB.ZodNull,...I3(e)});class CI extends I8{constructor(){super(...arguments),this._any=!0}_parse(e){return IQ(e.data)}}CI.create=e=>new CI({typeName:eB.ZodAny,...I3(e)});class CC extends I8{constructor(){super(...arguments),this._unknown=!0}_parse(e){return IQ(e.data)}}CC.create=e=>new CC({typeName:eB.ZodUnknown,...I3(e)});class CN extends I8{_parse(e){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.never,received:t.parsedType}),IJ}}CN.create=e=>new CN({typeName:eB.ZodNever,...I3(e)});class CM extends I8{_parse(e){if(this._getType(e)!==IL.undefined){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.void,received:t.parsedType}),IJ}return IQ(e.data)}}CM.create=e=>new CM({typeName:eB.ZodVoid,...I3(e)});class CP extends I8{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==IL.array)return IH(t,{code:IB.invalid_type,expected:IL.array,received:t.parsedType}),IJ;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(IH(t,{code:e?IB.too_big:IB.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(IH(t,{code:IB.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(IH(t,{code:IB.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new I5(t,e,t.path,r)))).then(e=>IY.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new I5(t,e,t.path,r)));return IY.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new CP({...this._def,minLength:{value:e,message:eF.toString(t)}})}max(e,t){return new CP({...this._def,maxLength:{value:e,message:eF.toString(t)}})}length(e,t){return new CP({...this._def,exactLength:{value:e,message:eF.toString(t)}})}nonempty(e){return this.min(1,e)}}function Cj(e){if(e instanceof CR){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=C0.create(Cj(i))}return new CR({...e._def,shape:()=>t})}if(e instanceof CP)return new CP({...e._def,type:Cj(e.element)});if(e instanceof C0)return C0.create(Cj(e.unwrap()));if(e instanceof C1)return C1.create(Cj(e.unwrap()));if(e instanceof C$)return C$.create(e.items.map(e=>Cj(e)));else return e}CP.create=(e,t)=>new CP({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eB.ZodArray,...I3(t)});class CR extends I8{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=eD.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==IL.object){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.object,received:t.parsedType}),IJ}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof CN&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new I5(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof CN){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(IH(r,{code:IB.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new I5(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>IY.mergeObjectSync(t,e)):IY.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return eF.errToObj,new CR({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:eF.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new CR({...this._def,unknownKeys:"strip"})}passthrough(){return new CR({...this._def,unknownKeys:"passthrough"})}extend(e){return new CR({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new CR({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:eB.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new CR({...this._def,catchall:e})}pick(e){let t={};for(let r of eD.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new CR({...this._def,shape:()=>t})}omit(e){let t={};for(let r of eD.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new CR({...this._def,shape:()=>t})}deepPartial(){return Cj(this)}partial(e){let t={};for(let r of eD.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new CR({...this._def,shape:()=>t})}required(e){let t={};for(let r of eD.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof C0;)e=e._def.innerType;t[r]=e}return new CR({...this._def,shape:()=>t})}keyof(){return CH(eD.objectKeys(this.shape))}}CR.create=(e,t)=>new CR({shape:()=>e,unknownKeys:"strip",catchall:CN.create(),typeName:eB.ZodObject,...I3(t)}),CR.strictCreate=(e,t)=>new CR({shape:()=>e,unknownKeys:"strict",catchall:CN.create(),typeName:eB.ZodObject,...I3(t)}),CR.lazycreate=(e,t)=>new CR({shape:e,unknownKeys:"strip",catchall:CN.create(),typeName:eB.ZodObject,...I3(t)});class CD extends I8{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new I$(e.ctx.common.issues));return IH(t,{code:IB.invalid_union,unionErrors:r}),IJ}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new I$(e));return IH(t,{code:IB.invalid_union,unionErrors:a}),IJ}}get options(){return this._def.options}}CD.create=(e,t)=>new CD({options:e,typeName:eB.ZodUnion,...I3(t)});let CL=e=>{if(e instanceof Cq)return CL(e.schema);if(e instanceof CQ)return CL(e.innerType());if(e instanceof CG)return[e.value];if(e instanceof CY)return e.options;if(e instanceof CJ)return eD.objectValues(e.enum);else if(e instanceof C2)return CL(e._def.innerType);else if(e instanceof CS)return[void 0];else if(e instanceof CO)return[null];else if(e instanceof C0)return[void 0,...CL(e.unwrap())];else if(e instanceof C1)return[null,...CL(e.unwrap())];else if(e instanceof C3)return CL(e.unwrap());else if(e instanceof C6)return CL(e.unwrap());else if(e instanceof C4)return CL(e._def.innerType);else return[]};class CF extends I8{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==IL.object)return IH(t,{code:IB.invalid_type,expected:IL.object,received:t.parsedType}),IJ;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(IH(t,{code:IB.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),IJ)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=CL(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new CF({typeName:eB.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...I3(r)})}}function CB(e,t){let r=IF(e),i=IF(t);if(e===t)return{valid:!0,data:e};if(r===IL.object&&i===IL.object){let r=eD.objectKeys(t),i=eD.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=CB(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===IL.array&&i===IL.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=CB(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===IL.date&&i===IL.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class Cz extends I8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(I0(e)||I0(i))return IJ;let a=CB(e.value,i.value);return a.valid?((I1(e)||I1(i))&&t.dirty(),{status:t.value,value:a.data}):(IH(r,{code:IB.invalid_intersection_types}),IJ)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Cz.create=(e,t,r)=>new Cz({left:e,right:t,typeName:eB.ZodIntersection,...I3(r)});class C$ extends I8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==IL.array)return IH(r,{code:IB.invalid_type,expected:IL.array,received:r.parsedType}),IJ;if(r.data.length<this._def.items.length)return IH(r,{code:IB.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),IJ;!this._def.rest&&r.data.length>this._def.items.length&&(IH(r,{code:IB.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new I5(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>IY.mergeArray(t,e)):IY.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new C$({...this._def,rest:e})}}C$.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new C$({items:e,typeName:eB.ZodTuple,rest:null,...I3(t)})};class CU extends I8{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==IL.object)return IH(r,{code:IB.invalid_type,expected:IL.object,received:r.parsedType}),IJ;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new I5(r,e,r.path,e)),value:n._parse(new I5(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?IY.mergeObjectAsync(t,i):IY.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new CU(t instanceof I8?{keyType:e,valueType:t,typeName:eB.ZodRecord,...I3(r)}:{keyType:Cx.create(),valueType:e,typeName:eB.ZodRecord,...I3(t)})}}class CV extends I8{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==IL.map)return IH(r,{code:IB.invalid_type,expected:IL.map,received:r.parsedType}),IJ;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new I5(r,e,r.path,[n,"key"])),value:a._parse(new I5(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return IJ;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return IJ;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}CV.create=(e,t,r)=>new CV({valueType:t,keyType:e,typeName:eB.ZodMap,...I3(r)});class CW extends I8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==IL.set)return IH(r,{code:IB.invalid_type,expected:IL.set,received:r.parsedType}),IJ;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(IH(r,{code:IB.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(IH(r,{code:IB.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return IJ;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new I5(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new CW({...this._def,minSize:{value:e,message:eF.toString(t)}})}max(e,t){return new CW({...this._def,maxSize:{value:e,message:eF.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}CW.create=(e,t)=>new CW({valueType:e,minSize:null,maxSize:null,typeName:eB.ZodSet,...I3(t)});class CK extends I8{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==IL.function)return IH(t,{code:IB.invalid_type,expected:IL.function,received:t.parsedType}),IJ;function r(e,r){return Iq({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,IK(),IU].filter(e=>!!e),issueData:{code:IB.invalid_arguments,argumentsError:r}})}function i(e,r){return Iq({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,IK(),IU].filter(e=>!!e),issueData:{code:IB.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof CX){let e=this;return IQ(async function(...t){let s=new I$([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return IQ(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new I$([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new I$([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new CK({...this._def,args:C$.create(e).rest(CC.create())})}returns(e){return new CK({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new CK({args:e||C$.create([]).rest(CC.create()),returns:t||CC.create(),typeName:eB.ZodFunction,...I3(r)})}}class Cq extends I8{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Cq.create=(e,t)=>new Cq({getter:e,typeName:eB.ZodLazy,...I3(t)});class CG extends I8{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return IH(t,{received:t.data,code:IB.invalid_literal,expected:this._def.value}),IJ}return{status:"valid",value:e.data}}get value(){return this._def.value}}function CH(e,t){return new CY({values:e,typeName:eB.ZodEnum,...I3(t)})}CG.create=(e,t)=>new CG({value:e,typeName:eB.ZodLiteral,...I3(t)});class CY extends I8{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return IH(t,{expected:eD.joinValues(r),received:t.parsedType,code:IB.invalid_type}),IJ}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return IH(t,{received:t.data,code:IB.invalid_enum_value,options:r}),IJ}return IQ(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return CY.create(e,{...this._def,...t})}exclude(e,t=this._def){return CY.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}CY.create=CH;class CJ extends I8{_parse(e){let t=eD.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==IL.string&&r.parsedType!==IL.number){let e=eD.objectValues(t);return IH(r,{expected:eD.joinValues(e),received:r.parsedType,code:IB.invalid_type}),IJ}if(this._cache||(this._cache=new Set(eD.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=eD.objectValues(t);return IH(r,{received:r.data,code:IB.invalid_enum_value,options:e}),IJ}return IQ(e.data)}get enum(){return this._def.values}}CJ.create=(e,t)=>new CJ({values:e,typeName:eB.ZodNativeEnum,...I3(t)});class CX extends I8{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==IL.promise&&!1===t.common.async?(IH(t,{code:IB.invalid_type,expected:IL.promise,received:t.parsedType}),IJ):IQ((t.parsedType===IL.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}CX.create=(e,t)=>new CX({type:e,typeName:eB.ZodPromise,...I3(t)});class CQ extends I8{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eB.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{IH(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return IJ;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?IJ:"dirty"===i.status||"dirty"===t.value?IX(i.value):i});{if("aborted"===t.value)return IJ;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?IJ:"dirty"===i.status||"dirty"===t.value?IX(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?IJ:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?IJ:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>I2(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):IJ);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!I2(e))return IJ;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}eD.assertNever(i)}}CQ.create=(e,t,r)=>new CQ({schema:e,typeName:eB.ZodEffects,effect:t,...I3(r)}),CQ.createWithPreprocess=(e,t,r)=>new CQ({schema:t,effect:{type:"preprocess",transform:e},typeName:eB.ZodEffects,...I3(r)});class C0 extends I8{_parse(e){return this._getType(e)===IL.undefined?IQ(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}C0.create=(e,t)=>new C0({innerType:e,typeName:eB.ZodOptional,...I3(t)});class C1 extends I8{_parse(e){return this._getType(e)===IL.null?IQ(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}C1.create=(e,t)=>new C1({innerType:e,typeName:eB.ZodNullable,...I3(t)});class C2 extends I8{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===IL.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}C2.create=(e,t)=>new C2({innerType:e,typeName:eB.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...I3(t)});class C4 extends I8{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return I4(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new I$(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new I$(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}C4.create=(e,t)=>new C4({innerType:e,typeName:eB.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...I3(t)});class C5 extends I8{_parse(e){if(this._getType(e)!==IL.nan){let t=this._getOrReturnCtx(e);return IH(t,{code:IB.invalid_type,expected:IL.nan,received:t.parsedType}),IJ}return{status:"valid",value:e.data}}}C5.create=e=>new C5({typeName:eB.ZodNaN,...I3(e)});let C9=Symbol("zod_brand");class C3 extends I8{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class C8 extends I8{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?IJ:"dirty"===e.status?(t.dirty(),IX(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?IJ:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new C8({in:e,out:t,typeName:eB.ZodPipeline})}}class C6 extends I8{_parse(e){let t=this._def.innerType._parse(e),r=e=>(I2(e)&&(e.value=Object.freeze(e.value)),e);return I4(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function C7(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function Ne(e,t={},r){return e?CI.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=C7(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=C7(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):CI.create()}C6.create=(e,t)=>new C6({innerType:e,typeName:eB.ZodReadonly,...I3(t)});let Nt={object:CR.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eB||(eB={}));let Nr=(e,t={message:`Input not instance of ${e.name}`})=>Ne(t=>t instanceof e,t),Ni=Cx.create,Na=Cw.create,Nn=C5.create,Ns=CT.create,No=CZ.create,Nd=CE.create,Nu=CA.create,Nl=CS.create,Nc=CO.create,Nh=CI.create,Np=CC.create,Nf=CN.create,Nm=CM.create,N_=CP.create,Ng=CR.create,Ny=CR.strictCreate,Nv=CD.create,Nb=CF.create,Nx=Cz.create,Nk=C$.create,Nw=CU.create,NT=CV.create,NZ=CW.create,NE=CK.create,NA=Cq.create,NS=CG.create,NO=CY.create,NI=CJ.create,NC=CX.create,NN=CQ.create,NM=C0.create,NP=C1.create,Nj=CQ.createWithPreprocess,NR=C8.create,ND=()=>Ni().optional(),NL=()=>Na().optional(),NF=()=>No().optional(),NB={string:e=>Cx.create({...e,coerce:!0}),number:e=>Cw.create({...e,coerce:!0}),boolean:e=>CZ.create({...e,coerce:!0}),bigint:e=>CT.create({...e,coerce:!0}),date:e=>CE.create({...e,coerce:!0})},Nz=IJ;e.s(["BRAND",0,C9,"NEVER",0,Nz,"Schema",()=>I8,"ZodAny",()=>CI,"ZodArray",()=>CP,"ZodBigInt",()=>CT,"ZodBoolean",()=>CZ,"ZodBranded",()=>C3,"ZodCatch",()=>C4,"ZodDate",()=>CE,"ZodDefault",()=>C2,"ZodDiscriminatedUnion",()=>CF,"ZodEffects",()=>CQ,"ZodEnum",()=>CY,"ZodFirstPartyTypeKind",()=>eB,"ZodFunction",()=>CK,"ZodIntersection",()=>Cz,"ZodLazy",()=>Cq,"ZodLiteral",()=>CG,"ZodMap",()=>CV,"ZodNaN",()=>C5,"ZodNativeEnum",()=>CJ,"ZodNever",()=>CN,"ZodNull",()=>CO,"ZodNullable",()=>C1,"ZodNumber",()=>Cw,"ZodObject",()=>CR,"ZodOptional",()=>C0,"ZodPipeline",()=>C8,"ZodPromise",()=>CX,"ZodReadonly",()=>C6,"ZodRecord",()=>CU,"ZodSchema",()=>I8,"ZodSet",()=>CW,"ZodString",()=>Cx,"ZodSymbol",()=>CA,"ZodTransformer",()=>CQ,"ZodTuple",()=>C$,"ZodType",()=>I8,"ZodUndefined",()=>CS,"ZodUnion",()=>CD,"ZodUnknown",()=>CC,"ZodVoid",()=>CM,"any",()=>Nh,"array",()=>N_,"bigint",()=>Ns,"boolean",()=>No,"coerce",0,NB,"custom",()=>Ne,"date",()=>Nd,"datetimeRegex",()=>Cg,"discriminatedUnion",()=>Nb,"effect",()=>NN,"enum",()=>NO,"function",()=>NE,"instanceof",()=>Nr,"intersection",()=>Nx,"late",0,Nt,"lazy",()=>NA,"literal",()=>NS,"map",()=>NT,"nan",()=>Nn,"nativeEnum",()=>NI,"never",()=>Nf,"null",()=>Nc,"nullable",()=>NP,"number",()=>Na,"object",()=>Ng,"oboolean",()=>NF,"onumber",()=>NL,"optional",()=>NM,"ostring",()=>ND,"pipeline",()=>NR,"preprocess",()=>Nj,"promise",()=>NC,"record",()=>Nw,"set",()=>NZ,"strictObject",()=>Ny,"string",()=>Ni,"symbol",()=>Nu,"transformer",()=>NN,"tuple",()=>Nk,"undefined",()=>Nl,"union",()=>Nv,"unknown",()=>Np,"void",()=>Nm],22183),e.i(22183),e.i(940130),e.s(["BRAND",0,C9,"DIRTY",0,IX,"EMPTY_PATH",0,IG,"INVALID",0,IJ,"NEVER",0,Nz,"OK",0,IQ,"ParseStatus",()=>IY,"Schema",()=>I8,"ZodAny",()=>CI,"ZodArray",()=>CP,"ZodBigInt",()=>CT,"ZodBoolean",()=>CZ,"ZodBranded",()=>C3,"ZodCatch",()=>C4,"ZodDate",()=>CE,"ZodDefault",()=>C2,"ZodDiscriminatedUnion",()=>CF,"ZodEffects",()=>CQ,"ZodEnum",()=>CY,"ZodError",()=>I$,"ZodFirstPartyTypeKind",()=>eB,"ZodFunction",()=>CK,"ZodIntersection",()=>Cz,"ZodIssueCode",0,IB,"ZodLazy",()=>Cq,"ZodLiteral",()=>CG,"ZodMap",()=>CV,"ZodNaN",()=>C5,"ZodNativeEnum",()=>CJ,"ZodNever",()=>CN,"ZodNull",()=>CO,"ZodNullable",()=>C1,"ZodNumber",()=>Cw,"ZodObject",()=>CR,"ZodOptional",()=>C0,"ZodParsedType",0,IL,"ZodPipeline",()=>C8,"ZodPromise",()=>CX,"ZodReadonly",()=>C6,"ZodRecord",()=>CU,"ZodSchema",()=>I8,"ZodSet",()=>CW,"ZodString",()=>Cx,"ZodSymbol",()=>CA,"ZodTransformer",()=>CQ,"ZodTuple",()=>C$,"ZodType",()=>I8,"ZodUndefined",()=>CS,"ZodUnion",()=>CD,"ZodUnknown",()=>CC,"ZodVoid",()=>CM,"addIssueToContext",()=>IH,"any",()=>Nh,"array",()=>N_,"bigint",()=>Ns,"boolean",()=>No,"coerce",0,NB,"custom",()=>Ne,"date",()=>Nd,"datetimeRegex",()=>Cg,"defaultErrorMap",0,IU,"discriminatedUnion",()=>Nb,"effect",()=>NN,"enum",()=>NO,"function",()=>NE,"getErrorMap",()=>IK,"getParsedType",0,IF,"instanceof",()=>Nr,"intersection",()=>Nx,"isAborted",0,I0,"isAsync",0,I4,"isDirty",0,I1,"isValid",0,I2,"late",0,Nt,"lazy",()=>NA,"literal",()=>NS,"makeIssue",0,Iq,"map",()=>NT,"nan",()=>Nn,"nativeEnum",()=>NI,"never",()=>Nf,"null",()=>Nc,"nullable",()=>NP,"number",()=>Na,"object",()=>Ng,"objectUtil",()=>eL,"oboolean",()=>NF,"onumber",()=>NL,"optional",()=>NM,"ostring",()=>ND,"pipeline",()=>NR,"preprocess",()=>Nj,"promise",()=>NC,"quotelessJson",0,Iz,"record",()=>Nw,"set",()=>NZ,"setErrorMap",()=>IW,"strictObject",()=>Ny,"string",()=>Ni,"symbol",()=>Nu,"transformer",()=>NN,"tuple",()=>Nk,"undefined",()=>Nl,"union",()=>Nv,"unknown",()=>Np,"util",()=>eD,"void",()=>Nm],677824);var N$=e.i(677824),N$=N$;let NU=N$.union([N$.number(),N$.object({deg:N$.number(),mode:N$.union([N$.boolean(),N$.nativeEnum(ee)]).optional()})]);function NV(e){return function(t,r){return r*e+t<<2}}function NW(e,t){let r;if(Math.abs(t)%90!=0)throw Error("Unsupported matrix rotation degree");let i=e.bitmap.width,a=e.bitmap.height;switch(t){case 90:case -270:r=90;break;case 180:case -180:r=180;break;case 270:case -90:r=-90;break;default:throw Error("Unsupported matrix rotation degree")}let n=180===r?i:a,s=180===r?a:i,o=Buffer.alloc(e.bitmap.data.length),d=NV(i),u=NV(n);for(let t=0;t<i;t++)for(let n=0;n<a;n++){let s,l=d(t,n),c=e.bitmap.data.readUInt32BE(l);switch(r){case 90:s=u(n,i-t-1);break;case -90:s=u(a-n-1,t);break;case 180:s=u(i-t-1,a-n-1);break;default:throw Error("Unsupported matrix rotation angle")}o.writeUInt32BE(c,s)}e.bitmap.data=o,e.bitmap.width=n,e.bitmap.height=s}function NK(e,t){return function(r,i){return{x:r+e,y:i+t}}}function Nq(e,t,r){let i=t*Math.PI/180,a=Math.cos(i),n=Math.sin(i),s=e.bitmap.width,o=e.bitmap.height;if(!0===r||"string"==typeof r){s=Math.ceil(Math.abs(e.bitmap.width*a)+Math.abs(e.bitmap.height*n))+1,o=Math.ceil(Math.abs(e.bitmap.width*n)+Math.abs(e.bitmap.height*a))+1,s%2!=0&&s++,o%2!=0&&o++;let t=tE(e);e.scan((t,r,i)=>{e.bitmap.data.writeUInt32BE(e.background,i)});let i=Math.max(s,o,e.bitmap.width,e.bitmap.height);e=ci(e=pT.resize(e,{h:i,w:i,mode:!0===r?void 0:r}),t,e.bitmap.width/2-t.bitmap.width/2,e.bitmap.height/2-t.bitmap.height/2)}let d=e.bitmap.width,u=e.bitmap.height,l=Buffer.alloc(e.bitmap.data.length),c=NK(-(d/2),-(u/2)),h=NK(d/2+.5,u/2+.5);for(let t=1;t<=u;t++)for(let r=1;r<=d;r++){let i=c(r,t),s=h(a*i.x-n*i.y,a*i.y+n*i.x),o=d*(t-1)+r-1<<2;if(s.x>=0&&s.x<d&&s.y>=0&&s.y<u){let t=d*(0|s.y)+s.x<<2,r=e.bitmap.data.readUInt32BE(t);l.writeUInt32BE(r,o)}else l.writeUInt32BE(e.background,o)}if(e.bitmap.data=l,!0===r||"string"==typeof r){let t=Math.max(d/2-s/2,0),r=Math.max(u/2-o/2,0);e=gF.crop(e,{x:t,y:r,w:s,h:o})}}let NG={rotate(e,t){let r=NU.parse(t),i="number"==typeof r?{deg:r}:r,{mode:a=!0}=i,{deg:n}=i;return(n%=360)%360==0||(n%90==0&&(a||e.bitmap.width===e.bitmap.height||n%180==0)?NW(e,n):Nq(e,n,a)),e}};e.s([],175054),e.i(175054),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(ez||(ez={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(e$||(e$={}));let NH=ez.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),NY=e=>{switch(typeof e){case"undefined":return NH.undefined;case"string":return NH.string;case"number":return Number.isNaN(e)?NH.nan:NH.number;case"boolean":return NH.boolean;case"function":return NH.function;case"bigint":return NH.bigint;case"symbol":return NH.symbol;case"object":if(Array.isArray(e))return NH.array;if(null===e)return NH.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return NH.promise;if("undefined"!=typeof Map&&e instanceof Map)return NH.map;if("undefined"!=typeof Set&&e instanceof Set)return NH.set;if("undefined"!=typeof Date&&e instanceof Date)return NH.date;return NH.object;default:return NH.unknown}};e.s(["ZodParsedType",0,NH,"getParsedType",0,NY,"objectUtil",()=>e$,"util",()=>ez],438819);let NJ=ez.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),NX=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class NQ extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof NQ))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ez.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}NQ.create=e=>new NQ(e),e.s(["ZodError",()=>NQ,"ZodIssueCode",0,NJ,"quotelessJson",0,NX],365784);let N0=(e,t)=>{let r;switch(e.code){case NJ.invalid_type:r=e.received===NH.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case NJ.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ez.jsonStringifyReplacer)}`;break;case NJ.unrecognized_keys:r=`Unrecognized key(s) in object: ${ez.joinValues(e.keys,", ")}`;break;case NJ.invalid_union:r="Invalid input";break;case NJ.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ez.joinValues(e.options)}`;break;case NJ.invalid_enum_value:r=`Invalid enum value. Expected ${ez.joinValues(e.options)}, received '${e.received}'`;break;case NJ.invalid_arguments:r="Invalid function arguments";break;case NJ.invalid_return_type:r="Invalid function return type";break;case NJ.invalid_date:r="Invalid date";break;case NJ.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ez.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case NJ.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case NJ.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case NJ.custom:r="Invalid input";break;case NJ.invalid_intersection_types:r="Intersection results could not be merged";break;case NJ.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case NJ.not_finite:r="Number must be finite";break;default:r=t.defaultError,ez.assertNever(e)}return{message:r}},N1=N0;function N2(e){N1=e}function N4(){return N1}e.s(["getErrorMap",()=>N4,"setErrorMap",()=>N2],145329),e.i(145329),e.s(["defaultErrorMap",0,N0,"getErrorMap",()=>N4,"setErrorMap",()=>N2],318386),e.i(318386);let N5=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},N9=[];function N3(e,t){let r=N4(),i=N5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===N0?void 0:N0].filter(e=>!!e)});e.common.issues.push(i)}class N8{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return N6;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return N8.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return N6;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let N6=Object.freeze({status:"aborted"}),N7=e=>({status:"dirty",value:e}),Me=e=>({status:"valid",value:e}),Mt=e=>"aborted"===e.status,Mr=e=>"dirty"===e.status,Mi=e=>"valid"===e.status,Ma=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,N7,"EMPTY_PATH",0,N9,"INVALID",0,N6,"OK",0,Me,"ParseStatus",()=>N8,"addIssueToContext",()=>N3,"isAborted",0,Mt,"isAsync",0,Ma,"isDirty",0,Mr,"isValid",0,Mi,"makeIssue",0,N5],680559),e.i(680559),e.s([],677157),e.i(677157),e.i(438819),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(eU||(eU={}));class Mn{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let Ms=(e,t)=>{if(Mi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new NQ(e.common.issues);return this._error=t,this._error}}};function Mo(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class Md{get description(){return this._def.description}_getType(e){return NY(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:NY(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new N8,ctx:{common:e.parent.common,data:e.data,parsedType:NY(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(Ma(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:NY(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Ms(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:NY(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return Mi(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>Mi(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:NY(e)},i=this._parse({data:e,path:r.path,parent:r});return Ms(r,await (Ma(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:NJ.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new Pe({schema:this,typeName:eV.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Pt.create(this,this._def)}nullable(){return Pr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return MW.create(this)}promise(){return M7.create(this,this._def)}or(e){return MG.create([this,e],this._def)}and(e){return MX.create(this,e,this._def)}transform(e){return new Pe({...Mo(this._def),schema:this,typeName:eV.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new Pi({...Mo(this._def),innerType:this,defaultValue:t,typeName:eV.ZodDefault})}brand(){return new Po({typeName:eV.ZodBranded,type:this,...Mo(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new Pa({...Mo(this._def),innerType:this,catchValue:t,typeName:eV.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return Pd.create(this,e)}readonly(){return Pu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let Mu=/^c[^\s-]{8,}$/i,Ml=/^[0-9a-z]+$/,Mc=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Mh=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Mp=/^[a-z0-9_-]{21}$/i,Mf=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Mm=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Mg="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",My=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Mv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Mb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Mx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Mk=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Mw=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,MT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",MZ=RegExp(`^${MT}$`);function ME(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function MA(e){return RegExp(`^${ME(e)}$`)}function MS(e){let t=`${MT}T${ME(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function MO(e,t){return!!(("v4"===t||!t)&&My.test(e)||("v6"===t||!t)&&Mb.test(e))}function MI(e,t){if(!Mf.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function MC(e,t){return!!(("v4"===t||!t)&&Mv.test(e)||("v6"===t||!t)&&Mx.test(e))}class MN extends Md{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==NH.string){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.string,received:t.parsedType}),N6}let r=new N8;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(N3(t=this._getOrReturnCtx(e,t),{code:NJ.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(N3(t=this._getOrReturnCtx(e,t),{code:NJ.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?N3(t,{code:NJ.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&N3(t,{code:NJ.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)M_.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{validation:"email",code:NJ.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)m||(m=RegExp(Mg,"u")),m.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:NJ.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)Mh.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:NJ.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)Mp.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:NJ.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)Mu.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:NJ.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)Ml.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:NJ.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)Mc.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:NJ.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{N3(t=this._getOrReturnCtx(e,t),{validation:"url",code:NJ.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{validation:"regex",code:NJ.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(N3(t=this._getOrReturnCtx(e,t),{code:NJ.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(N3(t=this._getOrReturnCtx(e,t),{code:NJ.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(N3(t=this._getOrReturnCtx(e,t),{code:NJ.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?MS(i).test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{code:NJ.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?MZ.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{code:NJ.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?MA(i).test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{code:NJ.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?Mm.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{validation:"duration",code:NJ.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?MO(e.data,i.version)||(N3(t=this._getOrReturnCtx(e,t),{validation:"ip",code:NJ.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?MI(e.data,i.alg)||(N3(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:NJ.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?MC(e.data,i.version)||(N3(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:NJ.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?Mk.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{validation:"base64",code:NJ.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?Mw.test(e.data)||(N3(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:NJ.invalid_string,message:i.message}),r.dirty()):ez.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:NJ.invalid_string,...eU.errToObj(r)})}_addCheck(e){return new MN({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...eU.errToObj(e)})}url(e){return this._addCheck({kind:"url",...eU.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...eU.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...eU.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...eU.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...eU.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...eU.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...eU.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...eU.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...eU.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...eU.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...eU.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...eU.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...eU.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...eU.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...eU.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...eU.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...eU.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...eU.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...eU.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...eU.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...eU.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...eU.errToObj(t)})}nonempty(e){return this.min(1,eU.errToObj(e))}trim(){return new MN({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new MN({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new MN({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function MM(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}MN.create=e=>new MN({checks:[],typeName:eV.ZodString,coerce:e?.coerce??!1,...Mo(e)});class MP extends Md{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==NH.number){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.number,received:t.parsedType}),N6}let r=new N8;for(let i of this._def.checks)"int"===i.kind?ez.isInteger(e.data)||(N3(t=this._getOrReturnCtx(e,t),{code:NJ.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(N3(t=this._getOrReturnCtx(e,t),{code:NJ.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(N3(t=this._getOrReturnCtx(e,t),{code:NJ.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==MM(e.data,i.value)&&(N3(t=this._getOrReturnCtx(e,t),{code:NJ.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(N3(t=this._getOrReturnCtx(e,t),{code:NJ.not_finite,message:i.message}),r.dirty()):ez.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,eU.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eU.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eU.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eU.toString(t))}setLimit(e,t,r,i){return new MP({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eU.toString(i)}]})}_addCheck(e){return new MP({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:eU.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:eU.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:eU.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:eU.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:eU.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eU.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:eU.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:eU.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:eU.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&ez.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}MP.create=e=>new MP({checks:[],typeName:eV.ZodNumber,coerce:e?.coerce||!1,...Mo(e)});class Mj extends Md{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==NH.bigint)return this._getInvalidInput(e);let r=new N8;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(N3(t=this._getOrReturnCtx(e,t),{code:NJ.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(N3(t=this._getOrReturnCtx(e,t),{code:NJ.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(N3(t=this._getOrReturnCtx(e,t),{code:NJ.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):ez.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.bigint,received:t.parsedType}),N6}gte(e,t){return this.setLimit("min",e,!0,eU.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eU.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eU.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eU.toString(t))}setLimit(e,t,r,i){return new Mj({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eU.toString(i)}]})}_addCheck(e){return new Mj({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:eU.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:eU.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:eU.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:eU.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eU.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Mj.create=e=>new Mj({checks:[],typeName:eV.ZodBigInt,coerce:e?.coerce??!1,...Mo(e)});class MR extends Md{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==NH.boolean){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.boolean,received:t.parsedType}),N6}return Me(e.data)}}MR.create=e=>new MR({typeName:eV.ZodBoolean,coerce:e?.coerce||!1,...Mo(e)});class MD extends Md{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==NH.date){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.date,received:t.parsedType}),N6}if(Number.isNaN(e.data.getTime()))return N3(this._getOrReturnCtx(e),{code:NJ.invalid_date}),N6;let r=new N8;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(N3(t=this._getOrReturnCtx(e,t),{code:NJ.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(N3(t=this._getOrReturnCtx(e,t),{code:NJ.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ez.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new MD({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:eU.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:eU.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}MD.create=e=>new MD({checks:[],coerce:e?.coerce||!1,typeName:eV.ZodDate,...Mo(e)});class ML extends Md{_parse(e){if(this._getType(e)!==NH.symbol){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.symbol,received:t.parsedType}),N6}return Me(e.data)}}ML.create=e=>new ML({typeName:eV.ZodSymbol,...Mo(e)});class MF extends Md{_parse(e){if(this._getType(e)!==NH.undefined){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.undefined,received:t.parsedType}),N6}return Me(e.data)}}MF.create=e=>new MF({typeName:eV.ZodUndefined,...Mo(e)});class MB extends Md{_parse(e){if(this._getType(e)!==NH.null){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.null,received:t.parsedType}),N6}return Me(e.data)}}MB.create=e=>new MB({typeName:eV.ZodNull,...Mo(e)});class Mz extends Md{constructor(){super(...arguments),this._any=!0}_parse(e){return Me(e.data)}}Mz.create=e=>new Mz({typeName:eV.ZodAny,...Mo(e)});class M$ extends Md{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Me(e.data)}}M$.create=e=>new M$({typeName:eV.ZodUnknown,...Mo(e)});class MU extends Md{_parse(e){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.never,received:t.parsedType}),N6}}MU.create=e=>new MU({typeName:eV.ZodNever,...Mo(e)});class MV extends Md{_parse(e){if(this._getType(e)!==NH.undefined){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.void,received:t.parsedType}),N6}return Me(e.data)}}MV.create=e=>new MV({typeName:eV.ZodVoid,...Mo(e)});class MW extends Md{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==NH.array)return N3(t,{code:NJ.invalid_type,expected:NH.array,received:t.parsedType}),N6;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(N3(t,{code:e?NJ.too_big:NJ.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(N3(t,{code:NJ.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(N3(t,{code:NJ.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new Mn(t,e,t.path,r)))).then(e=>N8.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new Mn(t,e,t.path,r)));return N8.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new MW({...this._def,minLength:{value:e,message:eU.toString(t)}})}max(e,t){return new MW({...this._def,maxLength:{value:e,message:eU.toString(t)}})}length(e,t){return new MW({...this._def,exactLength:{value:e,message:eU.toString(t)}})}nonempty(e){return this.min(1,e)}}function MK(e){if(e instanceof Mq){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=Pt.create(MK(i))}return new Mq({...e._def,shape:()=>t})}if(e instanceof MW)return new MW({...e._def,type:MK(e.element)});if(e instanceof Pt)return Pt.create(MK(e.unwrap()));if(e instanceof Pr)return Pr.create(MK(e.unwrap()));if(e instanceof MQ)return MQ.create(e.items.map(e=>MK(e)));else return e}MW.create=(e,t)=>new MW({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eV.ZodArray,...Mo(t)});class Mq extends Md{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=ez.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==NH.object){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.object,received:t.parsedType}),N6}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof MU&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new Mn(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof MU){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(N3(r,{code:NJ.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new Mn(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>N8.mergeObjectSync(t,e)):N8.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return eU.errToObj,new Mq({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:eU.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Mq({...this._def,unknownKeys:"strip"})}passthrough(){return new Mq({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mq({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mq({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:eV.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Mq({...this._def,catchall:e})}pick(e){let t={};for(let r of ez.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Mq({...this._def,shape:()=>t})}omit(e){let t={};for(let r of ez.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Mq({...this._def,shape:()=>t})}deepPartial(){return MK(this)}partial(e){let t={};for(let r of ez.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new Mq({...this._def,shape:()=>t})}required(e){let t={};for(let r of ez.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof Pt;)e=e._def.innerType;t[r]=e}return new Mq({...this._def,shape:()=>t})}keyof(){return M3(ez.objectKeys(this.shape))}}Mq.create=(e,t)=>new Mq({shape:()=>e,unknownKeys:"strip",catchall:MU.create(),typeName:eV.ZodObject,...Mo(t)}),Mq.strictCreate=(e,t)=>new Mq({shape:()=>e,unknownKeys:"strict",catchall:MU.create(),typeName:eV.ZodObject,...Mo(t)}),Mq.lazycreate=(e,t)=>new Mq({shape:e,unknownKeys:"strip",catchall:MU.create(),typeName:eV.ZodObject,...Mo(t)});class MG extends Md{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new NQ(e.ctx.common.issues));return N3(t,{code:NJ.invalid_union,unionErrors:r}),N6}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new NQ(e));return N3(t,{code:NJ.invalid_union,unionErrors:a}),N6}}get options(){return this._def.options}}MG.create=(e,t)=>new MG({options:e,typeName:eV.ZodUnion,...Mo(t)});let MH=e=>{if(e instanceof M5)return MH(e.schema);if(e instanceof Pe)return MH(e.innerType());if(e instanceof M9)return[e.value];if(e instanceof M8)return e.options;if(e instanceof M6)return ez.objectValues(e.enum);else if(e instanceof Pi)return MH(e._def.innerType);else if(e instanceof MF)return[void 0];else if(e instanceof MB)return[null];else if(e instanceof Pt)return[void 0,...MH(e.unwrap())];else if(e instanceof Pr)return[null,...MH(e.unwrap())];else if(e instanceof Po)return MH(e.unwrap());else if(e instanceof Pu)return MH(e.unwrap());else if(e instanceof Pa)return MH(e._def.innerType);else return[]};class MY extends Md{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==NH.object)return N3(t,{code:NJ.invalid_type,expected:NH.object,received:t.parsedType}),N6;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(N3(t,{code:NJ.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),N6)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=MH(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new MY({typeName:eV.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Mo(r)})}}function MJ(e,t){let r=NY(e),i=NY(t);if(e===t)return{valid:!0,data:e};if(r===NH.object&&i===NH.object){let r=ez.objectKeys(t),i=ez.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=MJ(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===NH.array&&i===NH.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=MJ(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===NH.date&&i===NH.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class MX extends Md{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(Mt(e)||Mt(i))return N6;let a=MJ(e.value,i.value);return a.valid?((Mr(e)||Mr(i))&&t.dirty(),{status:t.value,value:a.data}):(N3(r,{code:NJ.invalid_intersection_types}),N6)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}MX.create=(e,t,r)=>new MX({left:e,right:t,typeName:eV.ZodIntersection,...Mo(r)});class MQ extends Md{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==NH.array)return N3(r,{code:NJ.invalid_type,expected:NH.array,received:r.parsedType}),N6;if(r.data.length<this._def.items.length)return N3(r,{code:NJ.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),N6;!this._def.rest&&r.data.length>this._def.items.length&&(N3(r,{code:NJ.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new Mn(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>N8.mergeArray(t,e)):N8.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new MQ({...this._def,rest:e})}}MQ.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new MQ({items:e,typeName:eV.ZodTuple,rest:null,...Mo(t)})};class M0 extends Md{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==NH.object)return N3(r,{code:NJ.invalid_type,expected:NH.object,received:r.parsedType}),N6;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new Mn(r,e,r.path,e)),value:n._parse(new Mn(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?N8.mergeObjectAsync(t,i):N8.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new M0(t instanceof Md?{keyType:e,valueType:t,typeName:eV.ZodRecord,...Mo(r)}:{keyType:MN.create(),valueType:e,typeName:eV.ZodRecord,...Mo(t)})}}class M1 extends Md{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==NH.map)return N3(r,{code:NJ.invalid_type,expected:NH.map,received:r.parsedType}),N6;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new Mn(r,e,r.path,[n,"key"])),value:a._parse(new Mn(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return N6;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return N6;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}M1.create=(e,t,r)=>new M1({valueType:t,keyType:e,typeName:eV.ZodMap,...Mo(r)});class M2 extends Md{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==NH.set)return N3(r,{code:NJ.invalid_type,expected:NH.set,received:r.parsedType}),N6;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(N3(r,{code:NJ.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(N3(r,{code:NJ.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return N6;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new Mn(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new M2({...this._def,minSize:{value:e,message:eU.toString(t)}})}max(e,t){return new M2({...this._def,maxSize:{value:e,message:eU.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}M2.create=(e,t)=>new M2({valueType:e,minSize:null,maxSize:null,typeName:eV.ZodSet,...Mo(t)});class M4 extends Md{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==NH.function)return N3(t,{code:NJ.invalid_type,expected:NH.function,received:t.parsedType}),N6;function r(e,r){return N5({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,N4(),N0].filter(e=>!!e),issueData:{code:NJ.invalid_arguments,argumentsError:r}})}function i(e,r){return N5({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,N4(),N0].filter(e=>!!e),issueData:{code:NJ.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof M7){let e=this;return Me(async function(...t){let s=new NQ([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return Me(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new NQ([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new NQ([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new M4({...this._def,args:MQ.create(e).rest(M$.create())})}returns(e){return new M4({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new M4({args:e||MQ.create([]).rest(M$.create()),returns:t||M$.create(),typeName:eV.ZodFunction,...Mo(r)})}}class M5 extends Md{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}M5.create=(e,t)=>new M5({getter:e,typeName:eV.ZodLazy,...Mo(t)});class M9 extends Md{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return N3(t,{received:t.data,code:NJ.invalid_literal,expected:this._def.value}),N6}return{status:"valid",value:e.data}}get value(){return this._def.value}}function M3(e,t){return new M8({values:e,typeName:eV.ZodEnum,...Mo(t)})}M9.create=(e,t)=>new M9({value:e,typeName:eV.ZodLiteral,...Mo(t)});class M8 extends Md{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return N3(t,{expected:ez.joinValues(r),received:t.parsedType,code:NJ.invalid_type}),N6}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return N3(t,{received:t.data,code:NJ.invalid_enum_value,options:r}),N6}return Me(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return M8.create(e,{...this._def,...t})}exclude(e,t=this._def){return M8.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}M8.create=M3;class M6 extends Md{_parse(e){let t=ez.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==NH.string&&r.parsedType!==NH.number){let e=ez.objectValues(t);return N3(r,{expected:ez.joinValues(e),received:r.parsedType,code:NJ.invalid_type}),N6}if(this._cache||(this._cache=new Set(ez.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=ez.objectValues(t);return N3(r,{received:r.data,code:NJ.invalid_enum_value,options:e}),N6}return Me(e.data)}get enum(){return this._def.values}}M6.create=(e,t)=>new M6({values:e,typeName:eV.ZodNativeEnum,...Mo(t)});class M7 extends Md{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==NH.promise&&!1===t.common.async?(N3(t,{code:NJ.invalid_type,expected:NH.promise,received:t.parsedType}),N6):Me((t.parsedType===NH.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}M7.create=(e,t)=>new M7({type:e,typeName:eV.ZodPromise,...Mo(t)});class Pe extends Md{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eV.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{N3(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return N6;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?N6:"dirty"===i.status||"dirty"===t.value?N7(i.value):i});{if("aborted"===t.value)return N6;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?N6:"dirty"===i.status||"dirty"===t.value?N7(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?N6:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?N6:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>Mi(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):N6);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Mi(e))return N6;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}ez.assertNever(i)}}Pe.create=(e,t,r)=>new Pe({schema:e,typeName:eV.ZodEffects,effect:t,...Mo(r)}),Pe.createWithPreprocess=(e,t,r)=>new Pe({schema:t,effect:{type:"preprocess",transform:e},typeName:eV.ZodEffects,...Mo(r)});class Pt extends Md{_parse(e){return this._getType(e)===NH.undefined?Me(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pt.create=(e,t)=>new Pt({innerType:e,typeName:eV.ZodOptional,...Mo(t)});class Pr extends Md{_parse(e){return this._getType(e)===NH.null?Me(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pr.create=(e,t)=>new Pr({innerType:e,typeName:eV.ZodNullable,...Mo(t)});class Pi extends Md{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===NH.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Pi.create=(e,t)=>new Pi({innerType:e,typeName:eV.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Mo(t)});class Pa extends Md{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ma(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new NQ(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new NQ(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Pa.create=(e,t)=>new Pa({innerType:e,typeName:eV.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Mo(t)});class Pn extends Md{_parse(e){if(this._getType(e)!==NH.nan){let t=this._getOrReturnCtx(e);return N3(t,{code:NJ.invalid_type,expected:NH.nan,received:t.parsedType}),N6}return{status:"valid",value:e.data}}}Pn.create=e=>new Pn({typeName:eV.ZodNaN,...Mo(e)});let Ps=Symbol("zod_brand");class Po extends Md{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Pd extends Md{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?N6:"dirty"===e.status?(t.dirty(),N7(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?N6:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new Pd({in:e,out:t,typeName:eV.ZodPipeline})}}class Pu extends Md{_parse(e){let t=this._def.innerType._parse(e),r=e=>(Mi(e)&&(e.value=Object.freeze(e.value)),e);return Ma(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function Pl(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function Pc(e,t={},r){return e?Mz.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=Pl(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=Pl(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):Mz.create()}Pu.create=(e,t)=>new Pu({innerType:e,typeName:eV.ZodReadonly,...Mo(t)});let Ph={object:Mq.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eV||(eV={}));let Pp=(e,t={message:`Input not instance of ${e.name}`})=>Pc(t=>t instanceof e,t),Pf=MN.create,Pm=MP.create,P_=Pn.create,Pg=Mj.create,Py=MR.create,Pv=MD.create,Pb=ML.create,Px=MF.create,Pk=MB.create,Pw=Mz.create,PT=M$.create,PZ=MU.create,PE=MV.create,PA=MW.create,PS=Mq.create,PO=Mq.strictCreate,PI=MG.create,PC=MY.create,PN=MX.create,PM=MQ.create,PP=M0.create,Pj=M1.create,PR=M2.create,PD=M4.create,PL=M5.create,PF=M9.create,PB=M8.create,Pz=M6.create,P$=M7.create,PU=Pe.create,PV=Pt.create,PW=Pr.create,PK=Pe.createWithPreprocess,Pq=Pd.create,PG=()=>Pf().optional(),PH=()=>Pm().optional(),PY=()=>Py().optional(),PJ={string:e=>MN.create({...e,coerce:!0}),number:e=>MP.create({...e,coerce:!0}),boolean:e=>MR.create({...e,coerce:!0}),bigint:e=>Mj.create({...e,coerce:!0}),date:e=>MD.create({...e,coerce:!0})},PX=N6;e.s(["BRAND",0,Ps,"NEVER",0,PX,"Schema",()=>Md,"ZodAny",()=>Mz,"ZodArray",()=>MW,"ZodBigInt",()=>Mj,"ZodBoolean",()=>MR,"ZodBranded",()=>Po,"ZodCatch",()=>Pa,"ZodDate",()=>MD,"ZodDefault",()=>Pi,"ZodDiscriminatedUnion",()=>MY,"ZodEffects",()=>Pe,"ZodEnum",()=>M8,"ZodFirstPartyTypeKind",()=>eV,"ZodFunction",()=>M4,"ZodIntersection",()=>MX,"ZodLazy",()=>M5,"ZodLiteral",()=>M9,"ZodMap",()=>M1,"ZodNaN",()=>Pn,"ZodNativeEnum",()=>M6,"ZodNever",()=>MU,"ZodNull",()=>MB,"ZodNullable",()=>Pr,"ZodNumber",()=>MP,"ZodObject",()=>Mq,"ZodOptional",()=>Pt,"ZodPipeline",()=>Pd,"ZodPromise",()=>M7,"ZodReadonly",()=>Pu,"ZodRecord",()=>M0,"ZodSchema",()=>Md,"ZodSet",()=>M2,"ZodString",()=>MN,"ZodSymbol",()=>ML,"ZodTransformer",()=>Pe,"ZodTuple",()=>MQ,"ZodType",()=>Md,"ZodUndefined",()=>MF,"ZodUnion",()=>MG,"ZodUnknown",()=>M$,"ZodVoid",()=>MV,"any",()=>Pw,"array",()=>PA,"bigint",()=>Pg,"boolean",()=>Py,"coerce",0,PJ,"custom",()=>Pc,"date",()=>Pv,"datetimeRegex",()=>MS,"discriminatedUnion",()=>PC,"effect",()=>PU,"enum",()=>PB,"function",()=>PD,"instanceof",()=>Pp,"intersection",()=>PN,"late",0,Ph,"lazy",()=>PL,"literal",()=>PF,"map",()=>Pj,"nan",()=>P_,"nativeEnum",()=>Pz,"never",()=>PZ,"null",()=>Pk,"nullable",()=>PW,"number",()=>Pm,"object",()=>PS,"oboolean",()=>PY,"onumber",()=>PH,"optional",()=>PV,"ostring",()=>PG,"pipeline",()=>Pq,"preprocess",()=>PK,"promise",()=>P$,"record",()=>PP,"set",()=>PR,"strictObject",()=>PO,"string",()=>Pf,"symbol",()=>Pb,"transformer",()=>PU,"tuple",()=>PM,"undefined",()=>Px,"union",()=>PI,"unknown",()=>PT,"void",()=>PE],829765),e.i(829765),e.i(365784),e.s(["BRAND",0,Ps,"DIRTY",0,N7,"EMPTY_PATH",0,N9,"INVALID",0,N6,"NEVER",0,PX,"OK",0,Me,"ParseStatus",()=>N8,"Schema",()=>Md,"ZodAny",()=>Mz,"ZodArray",()=>MW,"ZodBigInt",()=>Mj,"ZodBoolean",()=>MR,"ZodBranded",()=>Po,"ZodCatch",()=>Pa,"ZodDate",()=>MD,"ZodDefault",()=>Pi,"ZodDiscriminatedUnion",()=>MY,"ZodEffects",()=>Pe,"ZodEnum",()=>M8,"ZodError",()=>NQ,"ZodFirstPartyTypeKind",()=>eV,"ZodFunction",()=>M4,"ZodIntersection",()=>MX,"ZodIssueCode",0,NJ,"ZodLazy",()=>M5,"ZodLiteral",()=>M9,"ZodMap",()=>M1,"ZodNaN",()=>Pn,"ZodNativeEnum",()=>M6,"ZodNever",()=>MU,"ZodNull",()=>MB,"ZodNullable",()=>Pr,"ZodNumber",()=>MP,"ZodObject",()=>Mq,"ZodOptional",()=>Pt,"ZodParsedType",0,NH,"ZodPipeline",()=>Pd,"ZodPromise",()=>M7,"ZodReadonly",()=>Pu,"ZodRecord",()=>M0,"ZodSchema",()=>Md,"ZodSet",()=>M2,"ZodString",()=>MN,"ZodSymbol",()=>ML,"ZodTransformer",()=>Pe,"ZodTuple",()=>MQ,"ZodType",()=>Md,"ZodUndefined",()=>MF,"ZodUnion",()=>MG,"ZodUnknown",()=>M$,"ZodVoid",()=>MV,"addIssueToContext",()=>N3,"any",()=>Pw,"array",()=>PA,"bigint",()=>Pg,"boolean",()=>Py,"coerce",0,PJ,"custom",()=>Pc,"date",()=>Pv,"datetimeRegex",()=>MS,"defaultErrorMap",0,N0,"discriminatedUnion",()=>PC,"effect",()=>PU,"enum",()=>PB,"function",()=>PD,"getErrorMap",()=>N4,"getParsedType",0,NY,"instanceof",()=>Pp,"intersection",()=>PN,"isAborted",0,Mt,"isAsync",0,Ma,"isDirty",0,Mr,"isValid",0,Mi,"late",0,Ph,"lazy",()=>PL,"literal",()=>PF,"makeIssue",0,N5,"map",()=>Pj,"nan",()=>P_,"nativeEnum",()=>Pz,"never",()=>PZ,"null",()=>Pk,"nullable",()=>PW,"number",()=>Pm,"object",()=>PS,"objectUtil",()=>e$,"oboolean",()=>PY,"onumber",()=>PH,"optional",()=>PV,"ostring",()=>PG,"pipeline",()=>Pq,"preprocess",()=>PK,"promise",()=>P$,"quotelessJson",0,NX,"record",()=>PP,"set",()=>PR,"setErrorMap",()=>N2,"strictObject",()=>PO,"string",()=>Pf,"symbol",()=>Pb,"transformer",()=>PU,"tuple",()=>PM,"undefined",()=>Px,"union",()=>PI,"unknown",()=>PT,"util",()=>ez,"void",()=>PE],411929);var PQ=e.i(411929),PQ=PQ;let P0=PQ.object({max:PQ.number().min(0).max(255),replace:PQ.number().min(0).max(255).optional(),autoGreyscale:PQ.boolean().optional()}),P1={threshold(e,t){let{max:r,replace:i=255,autoGreyscale:a=!0}=P0.parse(t);return r=tN(r),i=tN(i),a&&lK.greyscale(e),e.scan((t,a,n)=>{let s=e.bitmap.data[n]<r?e.bitmap.data[n]:i;e.bitmap.data[n]=s,e.bitmap.data[n+1]=s,e.bitmap.data[n+2]=s}),e}};var P2=Object.defineProperty,P4=(e,t,r)=>t in e?P2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P5=(e,t)=>{for(var r in t)P2(e,r,{get:t[r],enumerable:!0})},P9=(e,t,r)=>(P4(e,"symbol"!=typeof t?t+"":t,r),r);P5({},{bt709:()=>P3});var P3={};P5(P3,{Y:()=>P8,x:()=>P6,y:()=>P7});var P8=((g=P8||{})[g.RED=.2126]="RED",g[g.GREEN=.7152]="GREEN",g[g.BLUE=.0722]="BLUE",g[g.WHITE=1]="WHITE",g),P6=((y=P6||{})[y.RED=.64]="RED",y[y.GREEN=.3]="GREEN",y[y.BLUE=.15]="BLUE",y[y.WHITE=.3127]="WHITE",y),P7=((v=P7||{})[v.RED=.33]="RED",v[v.GREEN=.6]="GREEN",v[v.BLUE=.06]="BLUE",v[v.WHITE=.329]="WHITE",v);function je(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}function jt(e,t,r){return e=je(e/255),{x:.4124*e+.3576*(t=je(t/255))+.1805*(r=je(r/255)),y:.2126*e+.7152*t+.0722*r,z:.0193*e+.1192*t+.9505*r}}P5({},{lab2rgb:()=>jT,lab2xyz:()=>jx,rgb2hsl:()=>jl,rgb2lab:()=>j_,rgb2xyz:()=>jt,xyz2lab:()=>jm,xyz2rgb:()=>jw});var jr={};function ji(e){return Math.PI/180*e}function ja(e,t,r){let i=e;return i<t&&(i=t),i<r&&(i=r),i}function jn(e,t,r){let i=e;return i>t&&(i=t),i>r&&(i=r),i}function js(e,t,r){return e>r&&(e=r),e<t&&(e=t),0|e}function jo(e){return(e=Math.round(e))>255?e=255:e<0&&(e=0),e}function jd(e){return e>255?e=255:e<0&&(e=0),e}function ju(e,t){let r,i=typeof e[0];if("number"===i||"string"===i){let i=Object.create(null);for(let t=0,r=e.length;t<r;t++){let r=e[t];i[r]||0===i[r]||(i[r]=t)}r=e.sort((e,r)=>t(e,r)||i[e]-i[r])}else{let i=e.slice(0);r=e.sort((e,r)=>t(e,r)||i.indexOf(e)-i.indexOf(r))}return r}function jl(e,t,r){let i=jn(e,t,r),a=ja(e,t,r),n=a-i,s=(i+a)/510,o=0;s>0&&s<1&&(o=n/(s<.5?a+i:510-a-i));let d=0;return n>0&&(d=(a===e?(t-r)/n:a===t?2+(r-e)/n:4+(e-t)/n)*60)<0&&(d+=360),{h:d,s:o,l:s}}P5(jr,{degrees2radians:()=>ji,inRange0to255:()=>jd,inRange0to255Rounded:()=>jo,intInRange:()=>js,max3:()=>ja,min3:()=>jn,stableSort:()=>ju});var jc=.95047,jh=1,jp=1.08883;function jf(e){return e>.008856?e**(1/3):7.787*e+16/116}function jm(e,t,r){if(e=jf(e/jc),t=jf(t/jh),r=jf(r/jp),116*t-16<0)throw Error("xxx");return{L:Math.max(0,116*t-16),a:500*(e-t),b:200*(t-r)}}function j_(e,t,r){let i=jt(e,t,r);return jm(i.x,i.y,i.z)}var jg=.95047,jy=1,jv=1.08883;function jb(e){return e>.206893034?e**3:(e-16/116)/7.787}function jx(e,t,r){let i=(e+16)/116,a=t/500+i,n=i-r/200;return{x:jg*jb(a),y:jy*jb(i),z:jv*jb(n)}}function jk(e){return e>.0031308?1.055*e**(1/2.4)-.055:12.92*e}function jw(e,t,r){let i=jk(3.2406*e+-1.5372*t+-.4986*r),a=jk(-.9689*e+1.8758*t+.0415*r),n=jk(.0557*e+-.204*t+1.057*r);return{r:jo(255*i),g:jo(255*a),b:jo(255*n)}}function jT(e,t,r){let i=jx(e,t,r);return jw(i.x,i.y,i.z)}P5({},{AbstractDistanceCalculator:()=>jZ,AbstractEuclidean:()=>jN,AbstractManhattan:()=>jR,CIE94GraphicArts:()=>jS,CIE94Textiles:()=>jA,CIEDE2000:()=>jI,CMetric:()=>jC,Euclidean:()=>jM,EuclideanBT709:()=>jP,EuclideanBT709NoAlpha:()=>jj,Manhattan:()=>jD,ManhattanBT709:()=>jF,ManhattanNommyde:()=>jL,PNGQuant:()=>jB});var jZ=class{constructor(){P9(this,"_maxDistance"),P9(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(e,t,r,i){this._whitePoint={r:e>0?255/e:0,g:t>0?255/t:0,b:r>0?255/r:0,a:i>0?255/i:0},this._maxDistance=this.calculateRaw(e,t,r,i,0,0,0,0)}calculateNormalized(e,t){return this.calculateRaw(e.r,e.g,e.b,e.a,t.r,t.g,t.b,t.a)/this._maxDistance}},jE=class extends jZ{calculateRaw(e,t,r,i,a,n,s,o){let d=j_(jd(e*this._whitePoint.r),jd(t*this._whitePoint.g),jd(r*this._whitePoint.b)),u=j_(jd(a*this._whitePoint.r),jd(n*this._whitePoint.g),jd(s*this._whitePoint.b)),l=d.L-u.L,c=d.a-u.a,h=d.b-u.b,p=Math.sqrt(d.a*d.a+d.b*d.b),f=p-Math.sqrt(u.a*u.a+u.b*u.b),m=c*c+h*h-f*f;m=m<0?0:Math.sqrt(m);let _=(o-i)*this._whitePoint.a*this._kA;return Math.sqrt((l/this._Kl)**2+(f/(1+this._K1*p))**2+(m/(1+this._K2*p))**2+_**2)}},jA=class extends jE{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},jS=class extends jE{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},jO=class extends jZ{_setDefaults(){}static _calculatehp(e,t){let r=Math.atan2(e,t);return r>=0?r:r+jO._deg360InRad}static _calculateRT(e,t){let r=t**7,i=2*Math.sqrt(r/(r+jO._pow25to7));return-Math.sin(2*(jO._deg30InRad*Math.exp(-(((e-jO._deg275InRad)/jO._deg25InRad)**2))))*i}static _calculateT(e){return 1-.17*Math.cos(e-jO._deg30InRad)+.24*Math.cos(2*e)+.32*Math.cos(3*e+jO._deg6InRad)-.2*Math.cos(4*e-jO._deg63InRad)}static _calculate_ahp(e,t,r,i){let a=r+i;return 0===e?a:t<=jO._deg180InRad?a/2:a<jO._deg360InRad?(a+jO._deg360InRad)/2:(a-jO._deg360InRad)/2}static _calculate_dHp(e,t,r,i){let a;return a=0===e?0:t<=jO._deg180InRad?r-i:r<=i?r-i+jO._deg360InRad:r-i-jO._deg360InRad,2*Math.sqrt(e)*Math.sin(a/2)}calculateRaw(e,t,r,i,a,n,s,o){let d=j_(jd(e*this._whitePoint.r),jd(t*this._whitePoint.g),jd(r*this._whitePoint.b)),u=j_(jd(a*this._whitePoint.r),jd(n*this._whitePoint.g),jd(s*this._whitePoint.b)),l=(o-i)*this._whitePoint.a*jO._kA;return Math.sqrt(this.calculateRawInLab(d,u)+l*l)}calculateRawInLab(e,t){let r=e.L,i=e.a,a=e.b,n=t.L,s=t.a,o=t.b,d=((Math.sqrt(i*i+a*a)+Math.sqrt(s*s+o*o))/2)**7,u=.5*(1-Math.sqrt(d/(d+jO._pow25to7))),l=(1+u)*i,c=(1+u)*s,h=Math.sqrt(l*l+a*a),p=Math.sqrt(c*c+o*o),f=h*p,m=jO._calculatehp(a,l),_=jO._calculatehp(o,c),g=Math.abs(m-_),y=n-r,v=p-h,b=jO._calculate_dHp(f,g,_,m),x=jO._calculate_ahp(f,g,m,_),k=jO._calculateT(x),w=(h+p)/2,T=((r+n)/2-50)**2,Z=1+.015*T/Math.sqrt(20+T),E=1+.045*w,A=1+.015*k*w,S=jO._calculateRT(x,w),O=v/E,I=b/A;return(y/Z)**2+O**2+I**2+S*O*I}},jI=jO;P9(jI,"_kA",25/255),P9(jI,"_pow25to7",0x16bcc41e9),P9(jI,"_deg360InRad",ji(360)),P9(jI,"_deg180InRad",ji(180)),P9(jI,"_deg30InRad",ji(30)),P9(jI,"_deg6InRad",ji(6)),P9(jI,"_deg63InRad",ji(63)),P9(jI,"_deg275InRad",ji(275)),P9(jI,"_deg25InRad",ji(25));var jC=class extends jZ{calculateRaw(e,t,r,i,a,n,s,o){let d=(e+a)/2*this._whitePoint.r,u=(e-a)*this._whitePoint.r,l=(t-n)*this._whitePoint.g,c=(r-s)*this._whitePoint.b,h=((512+d)*u*u>>8)+4*l*l+((767-d)*c*c>>8),p=(o-i)*this._whitePoint.a;return Math.sqrt(h+p*p)}_setDefaults(){}},jN=class extends jZ{calculateRaw(e,t,r,i,a,n,s,o){let d=a-e,u=n-t,l=s-r,c=o-i;return Math.sqrt(this._kR*d*d+this._kG*u*u+this._kB*l*l+this._kA*c*c)}},jM=class extends jN{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},jP=class extends jN{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},jj=class extends jN{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},jR=class extends jZ{calculateRaw(e,t,r,i,a,n,s,o){let d=a-e,u=n-t,l=s-r,c=o-i;return d<0&&(d=0-d),u<0&&(u=0-u),l<0&&(l=0-l),c<0&&(c=0-c),this._kR*d+this._kG*u+this._kB*l+this._kA*c}},jD=class extends jR{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},jL=class extends jR{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},jF=class extends jR{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},jB=class extends jZ{calculateRaw(e,t,r,i,a,n,s,o){let d=(o-i)*this._whitePoint.a;return this._colordifferenceCh(e*this._whitePoint.r,a*this._whitePoint.r,d)+this._colordifferenceCh(t*this._whitePoint.g,n*this._whitePoint.g,d)+this._colordifferenceCh(r*this._whitePoint.b,s*this._whitePoint.b,d)}_colordifferenceCh(e,t,r){let i=e-t,a=i+r;return i*i+a*a}_setDefaults(){}};P5({},{AbstractPaletteQuantizer:()=>jz,ColorHistogram:()=>j8,NeuQuant:()=>j1,NeuQuantFloat:()=>j9,RGBQuant:()=>j7,WuColorCube:()=>Rn,WuQuant:()=>Ro});var jz=class{quantizeSync(){for(let e of this.quantize())if(e.palette)return e.palette;throw Error("unreachable")}},j$=class{constructor(){P9(this,"r"),P9(this,"g"),P9(this,"b"),P9(this,"a"),P9(this,"uint32"),P9(this,"rgba"),this.uint32=0xffffffff,this.r=this.g=this.b=this.a=0,this.rgba=[,,,,],this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(e){let t=new j$;return t.r=0|e[0],t.g=0|e[1],t.b=0|e[2],t.a=0|e[3],t._loadUINT32(),t._loadQuadruplet(),t}static createByRGBA(e,t,r,i){let a=new j$;return a.r=0|e,a.g=0|t,a.b=0|r,a.a=0|i,a._loadUINT32(),a._loadQuadruplet(),a}static createByUint32(e){let t=new j$;return t.uint32=e>>>0,t._loadRGBA(),t._loadQuadruplet(),t}from(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this.uint32=e.uint32,this.rgba[0]=e.r,this.rgba[1]=e.g,this.rgba[2]=e.b,this.rgba[3]=e.a}getLuminosity(e){let t=this.r,r=this.g,i=this.b;return e&&(t=Math.min(255,255-this.a+this.a*t/255),r=Math.min(255,255-this.a+this.a*r/255),i=Math.min(255,255-this.a+this.a*i/255)),.2126*t+.7152*r+.0722*i}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},jU=class{constructor(){P9(this,"_pointArray"),P9(this,"_width"),P9(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(e){this._width=e}setHeight(e){this._height=e}getPointArray(){return this._pointArray}clone(){let e=new jU;e._width=this._width,e._height=this._height;for(let t=0,r=this._pointArray.length;t<r;t++)e._pointArray[t]=j$.createByUint32(0|this._pointArray[t].uint32);return e}toUint32Array(){let e=this._pointArray.length,t=new Uint32Array(e);for(let r=0;r<e;r++)t[r]=this._pointArray[r].uint32;return t}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(e){let t=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas");return i.width=t,i.height=r,i.getContext("2d").drawImage(e,0,0,t,r,0,0,t,r),jU.fromHTMLCanvasElement(i)}static fromHTMLCanvasElement(e){let t=e.width,r=e.height,i=e.getContext("2d").getImageData(0,0,t,r);return jU.fromImageData(i)}static fromImageData(e){let t=e.width,r=e.height;return jU.fromUint8Array(e.data,t,r)}static fromUint8Array(e,t,r){switch(Object.prototype.toString.call(e)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:e=new Uint8Array(e)}let i=new Uint32Array(e.buffer);return jU.fromUint32Array(i,t,r)}static fromUint32Array(e,t,r){let i=new jU;i._width=t,i._height=r;for(let t=0,r=e.length;t<r;t++)i._pointArray[t]=j$.createByUint32(0|e[t]);return i}static fromBuffer(e,t,r){let i=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/Uint32Array.BYTES_PER_ELEMENT);return jU.fromUint32Array(i,t,r)}},jV=10;function jW(e,t){let r=360/t,i=r/2;for(let a=1,n=r-i;a<t;a++,n+=r)if(e>=n&&e<n+r)return a;return 0}var jK=class{constructor(){P9(this,"_pointContainer"),P9(this,"_pointArray",[]),P9(this,"_i32idx",{}),this._pointContainer=new jU,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(e){this._pointArray.push(e),this._pointContainer.setWidth(this._pointArray.length)}has(e){for(let t=this._pointArray.length-1;t>=0;t--)if(e.uint32===this._pointArray[t].uint32)return!0;return!1}getNearestColor(e,t){return this._pointArray[0|this._getNearestIndex(e,t)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(e){return"number"==typeof this._i32idx[e]?this._i32idx[e]:-1}_getNearestIndex(e,t){let r=this._nearestPointFromCache(""+t.uint32);if(r>=0)return r;let i=Number.MAX_VALUE;r=0;for(let a=0,n=this._pointArray.length;a<n;a++){let n=this._pointArray[a],s=e.calculateRaw(t.r,t.g,t.b,t.a,n.r,n.g,n.b,n.a);s<i&&(i=s,r=a)}return this._i32idx[t.uint32]=r,r}sort(){this._i32idx={},this._pointArray.sort((e,t)=>{let r=jl(e.r,e.g,e.b),i=jl(t.r,t.g,t.b),a=e.r===e.g&&e.g===e.b?0:1+jW(r.h,jV),n=(t.r===t.g&&t.g===t.b?0:1+jW(i.h,jV))-a;if(n)return-n;let s=e.getLuminosity(!0),o=t.getLuminosity(!0);if(o-s!=0)return o-s;let d=(100*i.s|0)-(100*r.s|0);return d?-d:0})}},jq={};P5(jq,{HueStatistics:()=>jH,Palette:()=>jK,Point:()=>j$,PointContainer:()=>jU,ProgressTracker:()=>jJ,arithmetic:()=>jr});var jG=class{constructor(){P9(this,"num",0),P9(this,"cols",[])}},jH=class{constructor(e,t){P9(this,"_numGroups"),P9(this,"_minCols"),P9(this,"_stats"),P9(this,"_groupsFull"),this._numGroups=e,this._minCols=t,this._stats=[];for(let t=0;t<=e;t++)this._stats[t]=new jG;this._groupsFull=0}check(e){this._groupsFull===this._numGroups+1&&(this.check=()=>{});let t=255&e,r=e>>>8&255,i=e>>>16&255,a=t===r&&r===i?0:1+jW(jl(t,r,i).h,this._numGroups),n=this._stats[a],s=this._minCols;n.num++,!(n.num>s)&&(n.num===s&&this._groupsFull++,n.num<=s&&this._stats[a].cols.push(e))}injectIntoDictionary(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(t=>{e[t]?e[t]++:e[t]=1})}injectIntoArray(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(t=>{-1===e.indexOf(t)&&e.push(t)})}},jY=class{constructor(e,t){P9(this,"progress"),P9(this,"_step"),P9(this,"_range"),P9(this,"_last"),P9(this,"_progressRange"),this._range=e,this._progressRange=t,this._step=Math.max(1,this._range/(jY.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(e){return e-this._last>=this._step&&(this._last=e,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},jJ=jY;P9(jJ,"steps",100);var jX=3,jQ=class{constructor(e){P9(this,"r"),P9(this,"g"),P9(this,"b"),P9(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return j$.createByRGBA(this.r>>jX,this.g>>jX,this.b>>jX,this.a>>jX)}subtract(e,t,r,i){this.r-=0|e,this.g-=0|t,this.b-=0|r,this.a-=0|i}},j0=class extends jz{constructor(e,t=256){super(),P9(this,"_pointArray"),P9(this,"_networkSize"),P9(this,"_network"),P9(this,"_sampleFactor"),P9(this,"_radPower"),P9(this,"_freq"),P9(this,"_bias"),P9(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<jX,255<<jX,255<<jX,255<<jX)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new jQ((e<<jX+8)/this._networkSize|0),this._freq[e]=j0._initialBias/this._networkSize|0,this._bias[e]=0}*_learn(){let e,t=this._sampleFactor,r=this._pointArray.length;r<j0._minpicturebytes&&(t=1);let i=30+(t-1)/3|0,a=r/t|0,n=a/j0._nCycles|0,s=j0._initAlpha,o=(this._networkSize>>3)*j0._radiusBias,d=o>>j0._radiusBiasShift;d<=1&&(d=0);for(let e=0;e<d;e++)this._radPower[e]=s*((d*d-e*e)*j0._radBias/(d*d))>>>0;e=r<j0._minpicturebytes?1:r%j0._prime1!=0?j0._prime1:r%j0._prime2!=0?j0._prime2:r%j0._prime3!=0?j0._prime3:j0._prime4;let u=new jJ(a,99);for(let t=0,l=0;t<a;){u.shouldNotify(t)&&(yield{progress:u.progress});let a=this._pointArray[l],c=a.b<<jX,h=a.g<<jX,p=a.r<<jX,f=a.a<<jX,m=this._contest(c,h,p,f);if(this._alterSingle(s,m,c,h,p,f),0!==d&&this._alterNeighbour(d,m,c,h,p,f),(l+=e)>=r&&(l-=r),0===n&&(n=1),++t%n==0){s-=s/i|0,o-=o/j0._radiusDecrease|0,d=o>>j0._radiusBiasShift,d<=1&&(d=0);for(let e=0;e<d;e++)this._radPower[e]=s*((d*d-e*e)*j0._radBias/(d*d))>>>0}}}_buildPalette(){let e=new jK;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,r,i,a,n){let s=t-e;s<-1&&(s=-1);let o=t+e;o>this._networkSize&&(o=this._networkSize);let d=t+1,u=t-1,l=1;for(;d<o||u>s;){let e=this._radPower[l++]/j0._alphaRadBias;if(d<o){let t=this._network[d++];t.subtract(e*(t.r-a),e*(t.g-i),e*(t.b-r),e*(t.a-n))}if(u>s){let t=this._network[u--];t.subtract(e*(t.r-a),e*(t.g-i),e*(t.b-r),e*(t.a-n))}}}_alterSingle(e,t,r,i,a,n){e/=j0._initAlpha;let s=this._network[t];s.subtract(e*(s.r-a),e*(s.g-i),e*(s.b-r),e*(s.a-n))}_contest(e,t,r,i){let a=1020<<jX,n=0x7fffffff,s=0x7fffffff,o=-1,d=-1;for(let u=0;u<this._networkSize;u++){let l=this._network[u],c=this._distance.calculateNormalized(l,{r,g:t,b:e,a:i})*a|0;c<n&&(n=c,o=u);let h=c-(this._bias[u]>>j0._initialBiasShift-jX);h<s&&(s=h,d=u);let p=this._freq[u]>>j0._betaShift;this._freq[u]-=p,this._bias[u]+=p<<j0._gammaShift}return this._freq[o]+=j0._beta,this._bias[o]-=j0._betaGamma,d}},j1=j0;P9(j1,"_prime1",499),P9(j1,"_prime2",491),P9(j1,"_prime3",487),P9(j1,"_prime4",503),P9(j1,"_minpicturebytes",j0._prime4),P9(j1,"_nCycles",100),P9(j1,"_initialBiasShift",16),P9(j1,"_initialBias",1<<j0._initialBiasShift),P9(j1,"_gammaShift",10),P9(j1,"_betaShift",10),P9(j1,"_beta",j0._initialBias>>j0._betaShift),P9(j1,"_betaGamma",j0._initialBias<<j0._gammaShift-j0._betaShift),P9(j1,"_radiusBiasShift",6),P9(j1,"_radiusBias",1<<j0._radiusBiasShift),P9(j1,"_radiusDecrease",30),P9(j1,"_alphaBiasShift",10),P9(j1,"_initAlpha",1<<j0._alphaBiasShift),P9(j1,"_radBiasShift",8),P9(j1,"_radBias",1<<j0._radBiasShift),P9(j1,"_alphaRadBiasShift",j0._alphaBiasShift+j0._radBiasShift),P9(j1,"_alphaRadBias",1<<j0._alphaRadBiasShift);var j2=3,j4=class{constructor(e){P9(this,"r"),P9(this,"g"),P9(this,"b"),P9(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return j$.createByRGBA(this.r>>j2,this.g>>j2,this.b>>j2,this.a>>j2)}subtract(e,t,r,i){this.r-=e,this.g-=t,this.b-=r,this.a-=i}},j5=class extends jz{constructor(e,t=256){super(),P9(this,"_pointArray"),P9(this,"_networkSize"),P9(this,"_network"),P9(this,"_sampleFactor"),P9(this,"_radPower"),P9(this,"_freq"),P9(this,"_bias"),P9(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<j2,255<<j2,255<<j2,255<<j2)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new j4((e<<j2+8)/this._networkSize),this._freq[e]=j5._initialBias/this._networkSize,this._bias[e]=0}*_learn(){let e,t=this._sampleFactor,r=this._pointArray.length;r<j5._minpicturebytes&&(t=1);let i=30+(t-1)/3,a=r/t,n=a/j5._nCycles|0,s=j5._initAlpha,o=(this._networkSize>>3)*j5._radiusBias,d=o>>j5._radiusBiasShift;d<=1&&(d=0);for(let e=0;e<d;e++)this._radPower[e]=s*((d*d-e*e)*j5._radBias/(d*d));e=r<j5._minpicturebytes?1:r%j5._prime1!=0?j5._prime1:r%j5._prime2!=0?j5._prime2:r%j5._prime3!=0?j5._prime3:j5._prime4;let u=new jJ(a,99);for(let t=0,l=0;t<a;){u.shouldNotify(t)&&(yield{progress:u.progress});let a=this._pointArray[l],c=a.b<<j2,h=a.g<<j2,p=a.r<<j2,f=a.a<<j2,m=this._contest(c,h,p,f);if(this._alterSingle(s,m,c,h,p,f),0!==d&&this._alterNeighbour(d,m,c,h,p,f),(l+=e)>=r&&(l-=r),0===n&&(n=1),++t%n==0){s-=s/i,o-=o/j5._radiusDecrease,d=o>>j5._radiusBiasShift,d<=1&&(d=0);for(let e=0;e<d;e++)this._radPower[e]=s*((d*d-e*e)*j5._radBias/(d*d))}}}_buildPalette(){let e=new jK;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,r,i,a,n){let s=t-e;s<-1&&(s=-1);let o=t+e;o>this._networkSize&&(o=this._networkSize);let d=t+1,u=t-1,l=1;for(;d<o||u>s;){let e=this._radPower[l++]/j5._alphaRadBias;if(d<o){let t=this._network[d++];t.subtract(e*(t.r-a),e*(t.g-i),e*(t.b-r),e*(t.a-n))}if(u>s){let t=this._network[u--];t.subtract(e*(t.r-a),e*(t.g-i),e*(t.b-r),e*(t.a-n))}}}_alterSingle(e,t,r,i,a,n){e/=j5._initAlpha;let s=this._network[t];s.subtract(e*(s.r-a),e*(s.g-i),e*(s.b-r),e*(s.a-n))}_contest(e,t,r,i){let a=1020<<j2,n=0x7fffffff,s=0x7fffffff,o=-1,d=-1;for(let u=0;u<this._networkSize;u++){let l=this._network[u],c=this._distance.calculateNormalized(l,{r,g:t,b:e,a:i})*a;c<n&&(n=c,o=u);let h=c-(this._bias[u]>>j5._initialBiasShift-j2);h<s&&(s=h,d=u);let p=this._freq[u]>>j5._betaShift;this._freq[u]-=p,this._bias[u]+=p<<j5._gammaShift}return this._freq[o]+=j5._beta,this._bias[o]-=j5._betaGamma,d}},j9=j5;P9(j9,"_prime1",499),P9(j9,"_prime2",491),P9(j9,"_prime3",487),P9(j9,"_prime4",503),P9(j9,"_minpicturebytes",j5._prime4),P9(j9,"_nCycles",100),P9(j9,"_initialBiasShift",16),P9(j9,"_initialBias",1<<j5._initialBiasShift),P9(j9,"_gammaShift",10),P9(j9,"_betaShift",10),P9(j9,"_beta",j5._initialBias>>j5._betaShift),P9(j9,"_betaGamma",j5._initialBias<<j5._gammaShift-j5._betaShift),P9(j9,"_radiusBiasShift",6),P9(j9,"_radiusBias",1<<j5._radiusBiasShift),P9(j9,"_radiusDecrease",30),P9(j9,"_alphaBiasShift",10),P9(j9,"_initAlpha",1<<j5._alphaBiasShift),P9(j9,"_radBiasShift",8),P9(j9,"_radBias",1<<j5._radBiasShift),P9(j9,"_alphaRadBiasShift",j5._alphaBiasShift+j5._radBiasShift),P9(j9,"_alphaRadBias",1<<j5._alphaRadBiasShift);var j3=class{constructor(e,t){P9(this,"_method"),P9(this,"_hueStats"),P9(this,"_histogram"),P9(this,"_initColors"),P9(this,"_minHueCols"),this._method=e,this._minHueCols=t<<2,this._initColors=t<<2,this._hueStats=new jH(j3._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(e){switch(this._method){case 1:this._colorStats1D(e);break;case 2:this._colorStats2D(e)}}getImportanceSortedColorsIDXI32(){let e,t=ju(Object.keys(this._histogram),(e,t)=>this._histogram[t]-this._histogram[e]);if(0===t.length)return[];switch(this._method){case 1:let r=Math.min(t.length,this._initColors),i=t[r-1],a=this._histogram[i];e=t.slice(0,r);let n=r,s=t.length;for(;n<s&&this._histogram[t[n]]===a;)e.push(t[n++]);this._hueStats.injectIntoArray(e);break;case 2:e=t;break;default:throw Error("Incorrect method")}return e.map(e=>+e)}_colorStats1D(e){let t=this._histogram,r=e.getPointArray(),i=r.length;for(let e=0;e<i;e++){let i=r[e].uint32;this._hueStats.check(i),i in t?t[i]++:t[i]=1}}_colorStats2D(e){let t=e.getWidth(),r=e.getHeight(),i=e.getPointArray(),a=j3._boxSize[0],n=j3._boxSize[1],s=a*n,o=this._makeBoxes(t,r,a,n),d=this._histogram;o.forEach(e=>{let r=Math.round(e.w*e.h/s)*j3._boxPixels;r<2&&(r=2);let a={};this._iterateBox(e,t,e=>{let t=i[e].uint32;this._hueStats.check(t),t in d?d[t]++:t in a?++a[t]>=r&&(d[t]=a[t]):a[t]=1})}),this._hueStats.injectIntoDictionary(d)}_iterateBox(e,t,r){let i=e,a=i.y*t+i.x,n=(i.y+i.h-1)*t+(i.x+i.w-1),s=t-i.w+1,o=0,d=a;do r.call(this,d),d+=++o%i.w==0?s:1;while(d<=n)}_makeBoxes(e,t,r,i){let a=e%r,n=t%i,s=e-a,o=t-n,d=[];for(let u=0;u<t;u+=i)for(let t=0;t<e;t+=r)d.push({x:t,y:u,w:t===s?a:r,h:u===o?n:i});return d}},j8=j3;P9(j8,"_boxSize",[64,64]),P9(j8,"_boxPixels",2),P9(j8,"_hueGroups",10);var j6=class{constructor(e,t,r){P9(this,"index"),P9(this,"color"),P9(this,"distance"),this.index=e,this.color=t,this.distance=r}},j7=class extends jz{constructor(e,t=256,r=2){super(),P9(this,"_colors"),P9(this,"_initialDistance"),P9(this,"_distanceIncrement"),P9(this,"_histogram"),P9(this,"_distance"),this._distance=e,this._colors=t,this._histogram=new j8(r,t),this._initialDistance=.01,this._distanceIncrement=.005}sample(e){this._histogram.sample(e)}*quantize(){let e=this._histogram.getImportanceSortedColorsIDXI32();if(0===e.length)throw Error("No colors in image");yield*this._buildPalette(e)}*_buildPalette(e){let t=new jK,r=t.getPointContainer().getPointArray(),i=Array(e.length);for(let t=0;t<e.length;t++)r.push(j$.createByUint32(e[t])),i[t]=1;let a=r.length,n=[],s=a,o=this._initialDistance,d=new jJ(s-this._colors,99);for(;s>this._colors;){n.length=0;for(let e=0;e<a;e++){if(d.shouldNotify(a-s)&&(yield{progress:d.progress}),0===i[e])continue;let t=r[e];for(let d=e+1;d<a;d++){if(0===i[d])continue;let e=r[d],a=this._distance.calculateNormalized(t,e);a<o&&(n.push(new j6(d,e,a)),i[d]=0,s--)}}o+=s>3*this._colors?this._initialDistance:this._distanceIncrement}if(s<this._colors){ju(n,(e,t)=>t.distance-e.distance);let e=0;for(;s<this._colors&&e<n.length;)i[n[e].index]=1,s++,e++}let u=r.length;for(let e=u-1;e>=0;e--)0===i[e]&&(e!==u-1&&(r[e]=r[u-1]),--u);r.length=u,t.sort(),yield{palette:t,progress:100}}};function Re(e){let t=[];for(let r=0;r<e;r++)t[r]=0;return t}function Rt(e,t,r,i){let a=Array(e);for(let n=0;n<e;n++){a[n]=Array(t);for(let e=0;e<t;e++){a[n][e]=Array(r);for(let t=0;t<r;t++){a[n][e][t]=Array(i);for(let r=0;r<i;r++)a[n][e][t][r]=0}}}return a}function Rr(e,t,r){let i=Array(e);for(let a=0;a<e;a++){i[a]=Array(t);for(let e=0;e<t;e++){i[a][e]=Array(r);for(let t=0;t<r;t++)i[a][e][t]=0}}return i}function Ri(e,t,r,i,a){for(let n=0;n<t;n++){e[n]=[];for(let t=0;t<r;t++){e[n][t]=[];for(let r=0;r<i;r++)e[n][t][r]=a}}}function Ra(e,t,r){for(let i=0;i<t;i++)e[i]=r}var Rn=class{constructor(){P9(this,"redMinimum"),P9(this,"redMaximum"),P9(this,"greenMinimum"),P9(this,"greenMaximum"),P9(this,"blueMinimum"),P9(this,"blueMaximum"),P9(this,"volume"),P9(this,"alphaMinimum"),P9(this,"alphaMaximum")}},Rs=class extends jz{constructor(e,t=256,r=5){super(),P9(this,"_reds"),P9(this,"_greens"),P9(this,"_blues"),P9(this,"_alphas"),P9(this,"_sums"),P9(this,"_weights"),P9(this,"_momentsRed"),P9(this,"_momentsGreen"),P9(this,"_momentsBlue"),P9(this,"_momentsAlpha"),P9(this,"_moments"),P9(this,"_table"),P9(this,"_pixels"),P9(this,"_cubes"),P9(this,"_colors"),P9(this,"_significantBitsPerChannel"),P9(this,"_maxSideIndex"),P9(this,"_alphaMaxSideIndex"),P9(this,"_sideSize"),P9(this,"_alphaSideSize"),P9(this,"_distance"),this._distance=e,this._setQuality(r),this._initialize(t)}sample(e){let t=e.getPointArray();for(let e=0,r=t.length;e<r;e++)this._addColor(t[e]);this._pixels=this._pixels.concat(t)}*quantize(){yield*this._preparePalette();let e=new jK;for(let t=0;t<this._colors;t++)if(this._sums[t]>0){let r=this._sums[t],i=this._reds[t]/r,a=this._greens[t]/r,n=this._blues[t]/r,s=this._alphas[t]/r,o=j$.createByRGBA(0|i,0|a,0|n,0|s);e.add(o)}e.sort(),yield{palette:e,progress:100}}*_preparePalette(){yield*this._calculateMoments();let e=0,t=Re(this._colors);for(let r=1;r<this._colors;++r){this._cut(this._cubes[e],this._cubes[r])?(t[e]=this._cubes[e].volume>1?this._calculateVariance(this._cubes[e]):0,t[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0):(t[e]=0,r--),e=0;let i=t[0];for(let a=1;a<=r;++a)t[a]>i&&(i=t[a],e=a);if(i<=0){this._colors=r+1;break}}let r=[],i=[],a=[],n=[];for(let e=0;e<this._colors;++e){let t=Rs._volume(this._cubes[e],this._weights);t>0?(r[e]=Rs._volume(this._cubes[e],this._momentsRed)/t|0,i[e]=Rs._volume(this._cubes[e],this._momentsGreen)/t|0,a[e]=Rs._volume(this._cubes[e],this._momentsBlue)/t|0,n[e]=Rs._volume(this._cubes[e],this._momentsAlpha)/t|0):(r[e]=0,i[e]=0,a[e]=0,n[e]=0)}this._reds=Re(this._colors+1),this._greens=Re(this._colors+1),this._blues=Re(this._colors+1),this._alphas=Re(this._colors+1),this._sums=Re(this._colors+1);for(let e=0,t=this._pixels.length;e<t;e++){let t=this._pixels[e],s=-1,o=Number.MAX_VALUE;for(let e=0;e<this._colors;e++){let d=r[e],u=i[e],l=a[e],c=n[e],h=this._distance.calculateRaw(d,u,l,c,t.r,t.g,t.b,t.a);h<o&&(o=h,s=e)}this._reds[s]+=t.r,this._greens[s]+=t.g,this._blues[s]+=t.b,this._alphas[s]+=t.a,this._sums[s]++}}_addColor(e){let t=8-this._significantBitsPerChannel,r=(e.r>>t)+1,i=(e.g>>t)+1,a=(e.b>>t)+1,n=(e.a>>t)+1;this._weights[n][r][i][a]++,this._momentsRed[n][r][i][a]+=e.r,this._momentsGreen[n][r][i][a]+=e.g,this._momentsBlue[n][r][i][a]+=e.b,this._momentsAlpha[n][r][i][a]+=e.a,this._moments[n][r][i][a]+=this._table[e.r]+this._table[e.g]+this._table[e.b]+this._table[e.a]}*_calculateMoments(){let e=[],t=[],r=[],i=[],a=[],n=[],s=Rr(this._sideSize,this._sideSize,this._sideSize),o=Rr(this._sideSize,this._sideSize,this._sideSize),d=Rr(this._sideSize,this._sideSize,this._sideSize),u=Rr(this._sideSize,this._sideSize,this._sideSize),l=Rr(this._sideSize,this._sideSize,this._sideSize),c=Rr(this._sideSize,this._sideSize,this._sideSize),h=0,p=new jJ(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let f=1;f<=this._alphaMaxSideIndex;++f){Ri(s,this._sideSize,this._sideSize,this._sideSize,0),Ri(o,this._sideSize,this._sideSize,this._sideSize,0),Ri(d,this._sideSize,this._sideSize,this._sideSize,0),Ri(u,this._sideSize,this._sideSize,this._sideSize,0),Ri(l,this._sideSize,this._sideSize,this._sideSize,0),Ri(c,this._sideSize,this._sideSize,this._sideSize,0);for(let m=1;m<=this._maxSideIndex;++m,++h){p.shouldNotify(h)&&(yield{progress:p.progress}),Ra(e,this._sideSize,0),Ra(t,this._sideSize,0),Ra(r,this._sideSize,0),Ra(i,this._sideSize,0),Ra(a,this._sideSize,0),Ra(n,this._sideSize,0);for(let h=1;h<=this._maxSideIndex;++h){let p=0,_=0,g=0,y=0,v=0,b=0;for(let x=1;x<=this._maxSideIndex;++x)p+=this._weights[f][m][h][x],_+=this._momentsRed[f][m][h][x],g+=this._momentsGreen[f][m][h][x],y+=this._momentsBlue[f][m][h][x],v+=this._momentsAlpha[f][m][h][x],b+=this._moments[f][m][h][x],e[x]+=p,t[x]+=_,r[x]+=g,i[x]+=y,a[x]+=v,n[x]+=b,s[m][h][x]=s[m-1][h][x]+e[x],o[m][h][x]=o[m-1][h][x]+t[x],d[m][h][x]=d[m-1][h][x]+r[x],u[m][h][x]=u[m-1][h][x]+i[x],l[m][h][x]=l[m-1][h][x]+a[x],c[m][h][x]=c[m-1][h][x]+n[x],this._weights[f][m][h][x]=this._weights[f-1][m][h][x]+s[m][h][x],this._momentsRed[f][m][h][x]=this._momentsRed[f-1][m][h][x]+o[m][h][x],this._momentsGreen[f][m][h][x]=this._momentsGreen[f-1][m][h][x]+d[m][h][x],this._momentsBlue[f][m][h][x]=this._momentsBlue[f-1][m][h][x]+u[m][h][x],this._momentsAlpha[f][m][h][x]=this._momentsAlpha[f-1][m][h][x]+l[m][h][x],this._moments[f][m][h][x]=this._moments[f-1][m][h][x]+c[m][h][x]}}}}static _volumeFloat(e,t){return t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMaximum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum])}static _volume(e,t){return 0|Rs._volumeFloat(e,t)}static _top(e,t,r,i){let a;switch(t){case Rs._alpha:a=i[r][e.redMaximum][e.greenMaximum][e.blueMaximum]-i[r][e.redMaximum][e.greenMinimum][e.blueMaximum]-i[r][e.redMinimum][e.greenMaximum][e.blueMaximum]+i[r][e.redMinimum][e.greenMinimum][e.blueMaximum]-(i[r][e.redMaximum][e.greenMaximum][e.blueMinimum]-i[r][e.redMaximum][e.greenMinimum][e.blueMinimum]-i[r][e.redMinimum][e.greenMaximum][e.blueMinimum]+i[r][e.redMinimum][e.greenMinimum][e.blueMinimum]);break;case Rs._red:a=i[e.alphaMaximum][r][e.greenMaximum][e.blueMaximum]-i[e.alphaMaximum][r][e.greenMinimum][e.blueMaximum]-i[e.alphaMinimum][r][e.greenMaximum][e.blueMaximum]+i[e.alphaMinimum][r][e.greenMinimum][e.blueMaximum]-(i[e.alphaMaximum][r][e.greenMaximum][e.blueMinimum]-i[e.alphaMaximum][r][e.greenMinimum][e.blueMinimum]-i[e.alphaMinimum][r][e.greenMaximum][e.blueMinimum]+i[e.alphaMinimum][r][e.greenMinimum][e.blueMinimum]);break;case Rs._green:a=i[e.alphaMaximum][e.redMaximum][r][e.blueMaximum]-i[e.alphaMaximum][e.redMinimum][r][e.blueMaximum]-i[e.alphaMinimum][e.redMaximum][r][e.blueMaximum]+i[e.alphaMinimum][e.redMinimum][r][e.blueMaximum]-(i[e.alphaMaximum][e.redMaximum][r][e.blueMinimum]-i[e.alphaMaximum][e.redMinimum][r][e.blueMinimum]-i[e.alphaMinimum][e.redMaximum][r][e.blueMinimum]+i[e.alphaMinimum][e.redMinimum][r][e.blueMinimum]);break;case Rs._blue:a=i[e.alphaMaximum][e.redMaximum][e.greenMaximum][r]-i[e.alphaMaximum][e.redMaximum][e.greenMinimum][r]-i[e.alphaMaximum][e.redMinimum][e.greenMaximum][r]+i[e.alphaMaximum][e.redMinimum][e.greenMinimum][r]-(i[e.alphaMinimum][e.redMaximum][e.greenMaximum][r]-i[e.alphaMinimum][e.redMaximum][e.greenMinimum][r]-i[e.alphaMinimum][e.redMinimum][e.greenMaximum][r]+i[e.alphaMinimum][e.redMinimum][e.greenMinimum][r]);break;default:throw Error("impossible")}return 0|a}static _bottom(e,t,r){switch(t){case Rs._alpha:return-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Rs._red:return-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Rs._green:return-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Rs._blue:return-r[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);default:return 0}}_calculateVariance(e){let t=Rs._volume(e,this._momentsRed),r=Rs._volume(e,this._momentsGreen),i=Rs._volume(e,this._momentsBlue),a=Rs._volume(e,this._momentsAlpha);return Rs._volumeFloat(e,this._moments)-(t*t+r*r+i*i+a*a)/Rs._volume(e,this._weights)}_maximize(e,t,r,i,a,n,s,o,d){let u=0|Rs._bottom(e,t,this._momentsRed),l=0|Rs._bottom(e,t,this._momentsGreen),c=0|Rs._bottom(e,t,this._momentsBlue),h=0|Rs._bottom(e,t,this._momentsAlpha),p=0|Rs._bottom(e,t,this._weights),f=0,m=-1;for(let _=r;_<i;++_){let r=u+Rs._top(e,t,_,this._momentsRed),i=l+Rs._top(e,t,_,this._momentsGreen),g=c+Rs._top(e,t,_,this._momentsBlue),y=h+Rs._top(e,t,_,this._momentsAlpha),v=p+Rs._top(e,t,_,this._weights);if(0!==v){let e=r*r+i*i+g*g+y*y,t=e/v;r=a-r,i=n-i,g=s-g,y=o-y,0!=(v=d-v)&&(t+=(e=r*r+i*i+g*g+y*y)/v)>f&&(f=t,m=_)}}return{max:f,position:m}}_cut(e,t){let r,i=Rs._volume(e,this._momentsRed),a=Rs._volume(e,this._momentsGreen),n=Rs._volume(e,this._momentsBlue),s=Rs._volume(e,this._momentsAlpha),o=Rs._volume(e,this._weights),d=this._maximize(e,Rs._red,e.redMinimum+1,e.redMaximum,i,a,n,s,o),u=this._maximize(e,Rs._green,e.greenMinimum+1,e.greenMaximum,i,a,n,s,o),l=this._maximize(e,Rs._blue,e.blueMinimum+1,e.blueMaximum,i,a,n,s,o),c=this._maximize(e,Rs._alpha,e.alphaMinimum+1,e.alphaMaximum,i,a,n,s,o);if(c.max>=d.max&&c.max>=u.max&&c.max>=l.max){if(r=Rs._alpha,c.position<0)return!1}else r=d.max>=c.max&&d.max>=u.max&&d.max>=l.max?Rs._red:u.max>=c.max&&u.max>=d.max&&u.max>=l.max?Rs._green:Rs._blue;switch(t.redMaximum=e.redMaximum,t.greenMaximum=e.greenMaximum,t.blueMaximum=e.blueMaximum,t.alphaMaximum=e.alphaMaximum,r){case Rs._red:t.redMinimum=e.redMaximum=d.position,t.greenMinimum=e.greenMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case Rs._green:t.greenMinimum=e.greenMaximum=u.position,t.redMinimum=e.redMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case Rs._blue:t.blueMinimum=e.blueMaximum=l.position,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum,t.alphaMinimum=e.alphaMinimum;break;case Rs._alpha:t.alphaMinimum=e.alphaMaximum=c.position,t.blueMinimum=e.blueMinimum,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum}return e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),!0}_initialize(e){this._colors=e,this._cubes=[];for(let t=0;t<e;t++)this._cubes[t]=new Rn;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=Rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=Rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=Rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=Rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=Rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=Rt(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let e=0;e<256;++e)this._table[e]=e*e;this._pixels=[]}_setQuality(e=5){this._significantBitsPerChannel=e,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},Ro=Rs;P9(Ro,"_alpha",3),P9(Ro,"_red",2),P9(Ro,"_green",1),P9(Ro,"_blue",0),P5({},{AbstractImageQuantizer:()=>Rd,ErrorDiffusionArray:()=>Rc,ErrorDiffusionArrayKernel:()=>Rl,ErrorDiffusionRiemersma:()=>Rm,NearestColor:()=>Ru});var Rd=class{quantizeSync(e,t){for(let r of this.quantize(e,t))if(r.pointContainer)return r.pointContainer;throw Error("unreachable")}},Ru=class extends Rd{constructor(e){super(),P9(this,"_distance"),this._distance=e}*quantize(e,t){let r=e.getPointArray(),i=e.getWidth(),a=e.getHeight(),n=new jJ(a,99);for(let e=0;e<a;e++){n.shouldNotify(e)&&(yield{progress:n.progress});for(let a=0,n=e*i;a<i;a++,n++){let e=r[n];e.from(t.getNearestColor(this._distance,e))}}yield{pointContainer:e,progress:100}}},Rl=((b=Rl||{})[b.FloydSteinberg=0]="FloydSteinberg",b[b.FalseFloydSteinberg=1]="FalseFloydSteinberg",b[b.Stucki=2]="Stucki",b[b.Atkinson=3]="Atkinson",b[b.Jarvis=4]="Jarvis",b[b.Burkes=5]="Burkes",b[b.Sierra=6]="Sierra",b[b.TwoSierra=7]="TwoSierra",b[b.SierraLite=8]="SierraLite",b),Rc=class extends Rd{constructor(e,t,r=!0,i=0,a=!1){super(),P9(this,"_minColorDistance"),P9(this,"_serpentine"),P9(this,"_kernel"),P9(this,"_calculateErrorLikeGIMP"),P9(this,"_distance"),this._setKernel(t),this._distance=e,this._minColorDistance=i,this._serpentine=r,this._calculateErrorLikeGIMP=a}*quantize(e,t){let r=e.getPointArray(),i=new j$,a=e.getWidth(),n=e.getHeight(),s=[],o=1,d=1;for(let e of this._kernel){let t=e[2]+1;d<t&&(d=t)}for(let e=0;e<d;e++)this._fillErrorLine(s[e]=[],a);let u=new jJ(n,99);for(let e=0;e<n;e++){u.shouldNotify(e)&&(yield{progress:u.progress}),this._serpentine&&(o*=-1);let d=e*a,l=1===o?0:a-1,c=1===o?a:-1;this._fillErrorLine(s[0],a),s.push(s.shift());let h=s[0];for(let u=l,p=d+l;u!==c;u+=o,p+=o){let d,l,c,f,m=r[p],_=h[u];i.from(m);let g=j$.createByRGBA(jo(m.r+_[0]),jo(m.g+_[1]),jo(m.b+_[2]),jo(m.a+_[3])),y=t.getNearestColor(this._distance,g);if(m.from(y),this._minColorDistance&&this._distance.calculateNormalized(i,y)<this._minColorDistance)continue;this._calculateErrorLikeGIMP?(d=g.r-y.r,l=g.g-y.g,c=g.b-y.b,f=g.a-y.a):(d=i.r-y.r,l=i.g-y.g,c=i.b-y.b,f=i.a-y.a);let v=1===o?0:this._kernel.length-1,b=1===o?this._kernel.length:-1;for(let t=v;t!==b;t+=o){let r=this._kernel[t][1]*o,i=this._kernel[t][2];if(r+u>=0&&r+u<a&&i+e>=0&&i+e<n){let e=this._kernel[t][0],a=s[i][r+u];a[0]+=d*e,a[1]+=l*e,a[2]+=c*e,a[3]+=f*e}}}}yield{pointContainer:e,progress:100}}_fillErrorLine(e,t){e.length>t&&(e.length=t);let r=e.length;for(let t=0;t<r;t++){let r=e[t];r[0]=r[1]=r[2]=r[3]=0}for(let i=r;i<t;i++)e[i]=[0,0,0,0]}_setKernel(e){switch(e){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw Error(`ErrorDiffusionArray: unknown kernel = ${e}`)}}};function*Rh(e,t,r){let i=Math.floor(Math.log(Math.max(e,t))/Math.log(2)+1),a=new jJ(e*t,99),n={width:e,height:t,level:i,callback:r,tracker:a,index:0,x:0,y:0};yield*Rp(n,1),Rf(n,0)}function*Rp(e,t){if(!(e.level<1)){switch(e.tracker.shouldNotify(e.index)&&(yield{progress:e.tracker.progress}),e.level--,t){case 2:yield*Rp(e,1),Rf(e,3),yield*Rp(e,2),Rf(e,4),yield*Rp(e,2),Rf(e,2),yield*Rp(e,4);break;case 3:yield*Rp(e,4),Rf(e,2),yield*Rp(e,3),Rf(e,1),yield*Rp(e,3),Rf(e,3),yield*Rp(e,1);break;case 1:yield*Rp(e,2),Rf(e,4),yield*Rp(e,1),Rf(e,3),yield*Rp(e,1),Rf(e,1),yield*Rp(e,3);break;case 4:yield*Rp(e,3),Rf(e,1),yield*Rp(e,4),Rf(e,2),yield*Rp(e,4),Rf(e,4),yield*Rp(e,2)}e.level++}}function Rf(e,t){switch(e.x>=0&&e.x<e.width&&e.y>=0&&e.y<e.height&&(e.callback(e.x,e.y),e.index++),t){case 2:e.x--;break;case 3:e.x++;break;case 1:e.y--;break;case 4:e.y++}}var Rm=class extends Rd{constructor(e,t=16,r=1){super(),P9(this,"_distance"),P9(this,"_weights"),P9(this,"_errorQueueSize"),this._distance=e,this._errorQueueSize=t,this._weights=Rm._createWeights(r,t)}*quantize(e,t){let r=e.getPointArray(),i=e.getWidth(),a=e.getHeight(),n=[],s=0;for(let e=0;e<this._errorQueueSize;e++)n[e]={r:0,g:0,b:0,a:0};yield*Rh(i,a,(e,a)=>{let o=r[e+a*i],{r:d,g:u,b:l,a:c}=o;for(let e=0;e<this._errorQueueSize;e++){let t=this._weights[e],r=n[(e+s)%this._errorQueueSize];d+=r.r*t,u+=r.g*t,l+=r.b*t,c+=r.a*t}let h=j$.createByRGBA(jo(d),jo(u),jo(l),jo(c)),p=t.getNearestColor(this._distance,h),f=((s=(s+1)%this._errorQueueSize)+this._errorQueueSize-1)%this._errorQueueSize;n[f].r=o.r-p.r,n[f].g=o.g-p.g,n[f].b=o.b-p.b,n[f].a=o.a-p.a,o.from(p)}),yield{pointContainer:e,progress:100}}static _createWeights(e,t){let r=[],i=Math.exp(Math.log(t)/(t-1));for(let a=0,n=1;a<t;a++)r[a]=(n+.5|0)/t*e,n*=i;return r}};P5({},{ssim:()=>Ry});var R_=.01,Rg=.03;function Ry(e,t){if(e.getHeight()!==t.getHeight()||e.getWidth()!==t.getWidth())throw Error("Images have different sizes!");let r=(255*R_)**2,i=(255*Rg)**2,a=0,n=0;return Rv(e,t,(e,t,s,o)=>{let d=0,u=0,l=0;for(let r=0;r<e.length;r++)u+=(e[r]-s)**2,l+=(t[r]-o)**2,d+=(e[r]-s)*(t[r]-o);let c=e.length-1;u/=c,l/=c;let h=(2*s*o+r)*(2*(d/=c)+i);n+=h/((s**2+o**2+r)*(u+l+i)),a++}),n/a}function Rv(e,t,r){let i=8,a=e.getWidth(),n=e.getHeight();for(let s=0;s<n;s+=i)for(let o=0;o<a;o+=i){let d=Math.min(i,a-o),u=Math.min(i,n-s),l=Rb(e,o,s,d,u),c=Rb(t,o,s,d,u),h=Rx(l),p=Rx(c);r(l,c,h,p)}}function Rb(e,t,r,i,a){let n=e.getPointArray(),s=[],o=0;for(let d=r;d<r+a;d++){let r=d*e.getWidth();for(let e=t;e<t+i;e++){let t=n[r+e];s[o]=.2126*t.r+.7152*t.g+.0722*t.b,o++}}return s}function Rx(e){let t=0;for(let r of e)t+=r;return t/e.length}function Rk(e,{colorDistanceFormula:t,paletteQuantization:r,colors:i}={}){let a=RE(RT(t),r,i);return e.forEach(e=>a.sample(e)),a.quantizeSync()}function Rw(e,t,{colorDistanceFormula:r,imageQuantization:i}={}){return RZ(RT(r),i).quantizeSync(e,t)}function RT(e="euclidean-bt709"){switch(e){case"cie94-graphic-arts":return new jS;case"cie94-textiles":return new jA;case"ciede2000":return new jI;case"color-metric":return new jC;case"euclidean":return new jM;case"euclidean-bt709":return new jP;case"euclidean-bt709-noalpha":return new jj;case"manhattan":return new jD;case"manhattan-bt709":return new jF;case"manhattan-nommyde":return new jL;case"pngquant":return new jB;default:throw Error(`Unknown colorDistanceFormula ${e}`)}}function RZ(e,t="floyd-steinberg"){switch(t){case"nearest":return new Ru(e);case"riemersma":return new Rm(e);case"floyd-steinberg":return new Rc(e,0);case"false-floyd-steinberg":return new Rc(e,1);case"stucki":return new Rc(e,2);case"atkinson":return new Rc(e,3);case"jarvis":return new Rc(e,4);case"burkes":return new Rc(e,5);case"sierra":return new Rc(e,6);case"two-sierra":return new Rc(e,7);case"sierra-lite":return new Rc(e,8);default:throw Error(`Unknown imageQuantization ${t}`)}}function RE(e,t="wuquant",r=256){switch(t){case"neuquant":return new j1(e,r);case"rgbquant":return new j7(e,r);case"wuquant":return new Ro(e,r);case"neuquant-float":return new j9(e,r);default:throw Error(`Unknown paletteQuantization ${t}`)}}"function"==typeof setImmediate||"undefined"!=typeof process&&"function"==typeof(null==process?void 0:process.nextTick)||(e=>setTimeout(e,0)),e.s([],790510),e.i(790510),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(eW||(eW={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(eK||(eK={}));let RA=eW.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),RS=e=>{switch(typeof e){case"undefined":return RA.undefined;case"string":return RA.string;case"number":return Number.isNaN(e)?RA.nan:RA.number;case"boolean":return RA.boolean;case"function":return RA.function;case"bigint":return RA.bigint;case"symbol":return RA.symbol;case"object":if(Array.isArray(e))return RA.array;if(null===e)return RA.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return RA.promise;if("undefined"!=typeof Map&&e instanceof Map)return RA.map;if("undefined"!=typeof Set&&e instanceof Set)return RA.set;if("undefined"!=typeof Date&&e instanceof Date)return RA.date;return RA.object;default:return RA.unknown}};e.s(["ZodParsedType",0,RA,"getParsedType",0,RS,"objectUtil",()=>eK,"util",()=>eW],632199);let RO=eW.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),RI=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class RC extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,i=0;for(;i<a.path.length;){let r=a.path[i];i===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof RC))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,eW.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}RC.create=e=>new RC(e),e.s(["ZodError",()=>RC,"ZodIssueCode",0,RO,"quotelessJson",0,RI],867838);let RN=(e,t)=>{let r;switch(e.code){case RO.invalid_type:r=e.received===RA.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case RO.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,eW.jsonStringifyReplacer)}`;break;case RO.unrecognized_keys:r=`Unrecognized key(s) in object: ${eW.joinValues(e.keys,", ")}`;break;case RO.invalid_union:r="Invalid input";break;case RO.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${eW.joinValues(e.options)}`;break;case RO.invalid_enum_value:r=`Invalid enum value. Expected ${eW.joinValues(e.options)}, received '${e.received}'`;break;case RO.invalid_arguments:r="Invalid function arguments";break;case RO.invalid_return_type:r="Invalid function return type";break;case RO.invalid_date:r="Invalid date";break;case RO.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:eW.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case RO.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case RO.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case RO.custom:r="Invalid input";break;case RO.invalid_intersection_types:r="Intersection results could not be merged";break;case RO.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case RO.not_finite:r="Number must be finite";break;default:r=t.defaultError,eW.assertNever(e)}return{message:r}},RM=RN;function RP(e){RM=e}function Rj(){return RM}e.s(["getErrorMap",()=>Rj,"setErrorMap",()=>RP],495e3),e.i(495e3),e.s(["defaultErrorMap",0,RN,"getErrorMap",()=>Rj,"setErrorMap",()=>RP],957969),e.i(957969);let RR=e=>{let{data:t,path:r,errorMaps:i,issueData:a}=e,n=[...r,...a.path||[]],s={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...a,path:n,message:o}},RD=[];function RL(e,t){let r=Rj(),i=RR({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===RN?void 0:RN].filter(e=>!!e)});e.common.issues.push(i)}class RF{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return RB;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return RF.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:a}=i;if("aborted"===t.status||"aborted"===a.status)return RB;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||i.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let RB=Object.freeze({status:"aborted"}),Rz=e=>({status:"dirty",value:e}),R$=e=>({status:"valid",value:e}),RU=e=>"aborted"===e.status,RV=e=>"dirty"===e.status,RW=e=>"valid"===e.status,RK=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,Rz,"EMPTY_PATH",0,RD,"INVALID",0,RB,"OK",0,R$,"ParseStatus",()=>RF,"addIssueToContext",()=>RL,"isAborted",0,RU,"isAsync",0,RK,"isDirty",0,RV,"isValid",0,RW,"makeIssue",0,RR],847056),e.i(847056),e.s([],172527),e.i(172527),e.i(632199),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(eq||(eq={}));class Rq{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let RG=(e,t)=>{if(RW(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new RC(e.common.issues);return this._error=t,this._error}}};function RH(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:a}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??a.defaultError}:void 0===a.data?{message:n??i??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:n??r??a.defaultError}},description:a}}class RY{get description(){return this._def.description}_getType(e){return RS(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:RS(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new RF,ctx:{common:e.parent.common,data:e.data,parsedType:RS(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(RK(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:RS(e)},i=this._parseSync({data:e,path:r.path,parent:r});return RG(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:RS(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return RW(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>RW(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:RS(e)},i=this._parse({data:e,path:r.path,parent:r});return RG(r,await (RK(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let a=e(t),n=()=>i.addIssue({code:RO.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(n(),!1)):!!a||(n(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new D$({schema:this,typeName:eG.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return DU.create(this,this._def)}nullable(){return DV.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dw.create(this)}promise(){return Dz.create(this,this._def)}or(e){return DE.create([this,e],this._def)}and(e){return DI.create(this,e,this._def)}transform(e){return new D$({...RH(this._def),schema:this,typeName:eG.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new DW({...RH(this._def),innerType:this,defaultValue:t,typeName:eG.ZodDefault})}brand(){return new DH({typeName:eG.ZodBranded,type:this,...RH(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new DK({...RH(this._def),innerType:this,catchValue:t,typeName:eG.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return DY.create(this,e)}readonly(){return DJ.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let RJ=/^c[^\s-]{8,}$/i,RX=/^[0-9a-z]+$/,RQ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,R0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,R1=/^[a-z0-9_-]{21}$/i,R2=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,R4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,R5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,R9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",R3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,R8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,R6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,R7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,De=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Dt=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Dr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Di=RegExp(`^${Dr}$`);function Da(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Dn(e){return RegExp(`^${Da(e)}$`)}function Ds(e){let t=`${Dr}T${Da(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function Do(e,t){return!!(("v4"===t||!t)&&R3.test(e)||("v6"===t||!t)&&R6.test(e))}function Dd(e,t){if(!R2.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(i));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function Du(e,t){return!!(("v4"===t||!t)&&R8.test(e)||("v6"===t||!t)&&R7.test(e))}class Dl extends RY{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==RA.string){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.string,received:t.parsedType}),RB}let r=new RF;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(RL(t=this._getOrReturnCtx(e,t),{code:RO.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(RL(t=this._getOrReturnCtx(e,t),{code:RO.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let a=e.data.length>i.value,n=e.data.length<i.value;(a||n)&&(t=this._getOrReturnCtx(e,t),a?RL(t,{code:RO.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&RL(t,{code:RO.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)R5.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{validation:"email",code:RO.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)_||(_=RegExp(R9,"u")),_.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:RO.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)R0.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:RO.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)R1.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:RO.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)RJ.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:RO.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)RX.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:RO.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)RQ.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:RO.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{RL(t=this._getOrReturnCtx(e,t),{validation:"url",code:RO.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{validation:"regex",code:RO.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(RL(t=this._getOrReturnCtx(e,t),{code:RO.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(RL(t=this._getOrReturnCtx(e,t),{code:RO.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(RL(t=this._getOrReturnCtx(e,t),{code:RO.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?Ds(i).test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{code:RO.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?Di.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{code:RO.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?Dn(i).test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{code:RO.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?R4.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{validation:"duration",code:RO.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?Do(e.data,i.version)||(RL(t=this._getOrReturnCtx(e,t),{validation:"ip",code:RO.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?Dd(e.data,i.alg)||(RL(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:RO.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?Du(e.data,i.version)||(RL(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:RO.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?De.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{validation:"base64",code:RO.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?Dt.test(e.data)||(RL(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:RO.invalid_string,message:i.message}),r.dirty()):eW.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:RO.invalid_string,...eq.errToObj(r)})}_addCheck(e){return new Dl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...eq.errToObj(e)})}url(e){return this._addCheck({kind:"url",...eq.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...eq.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...eq.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...eq.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...eq.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...eq.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...eq.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...eq.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...eq.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...eq.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...eq.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...eq.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...eq.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...eq.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...eq.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...eq.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...eq.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...eq.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...eq.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...eq.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...eq.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...eq.errToObj(t)})}nonempty(e){return this.min(1,eq.errToObj(e))}trim(){return new Dl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Dc(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}Dl.create=e=>new Dl({checks:[],typeName:eG.ZodString,coerce:e?.coerce??!1,...RH(e)});class Dh extends RY{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==RA.number){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.number,received:t.parsedType}),RB}let r=new RF;for(let i of this._def.checks)"int"===i.kind?eW.isInteger(e.data)||(RL(t=this._getOrReturnCtx(e,t),{code:RO.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(RL(t=this._getOrReturnCtx(e,t),{code:RO.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(RL(t=this._getOrReturnCtx(e,t),{code:RO.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==Dc(e.data,i.value)&&(RL(t=this._getOrReturnCtx(e,t),{code:RO.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(RL(t=this._getOrReturnCtx(e,t),{code:RO.not_finite,message:i.message}),r.dirty()):eW.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,eq.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eq.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eq.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eq.toString(t))}setLimit(e,t,r,i){return new Dh({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eq.toString(i)}]})}_addCheck(e){return new Dh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:eq.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:eq.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:eq.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:eq.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:eq.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eq.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:eq.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:eq.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:eq.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&eW.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}Dh.create=e=>new Dh({checks:[],typeName:eG.ZodNumber,coerce:e?.coerce||!1,...RH(e)});class Dp extends RY{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==RA.bigint)return this._getInvalidInput(e);let r=new RF;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(RL(t=this._getOrReturnCtx(e,t),{code:RO.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(RL(t=this._getOrReturnCtx(e,t),{code:RO.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(RL(t=this._getOrReturnCtx(e,t),{code:RO.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):eW.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.bigint,received:t.parsedType}),RB}gte(e,t){return this.setLimit("min",e,!0,eq.toString(t))}gt(e,t){return this.setLimit("min",e,!1,eq.toString(t))}lte(e,t){return this.setLimit("max",e,!0,eq.toString(t))}lt(e,t){return this.setLimit("max",e,!1,eq.toString(t))}setLimit(e,t,r,i){return new Dp({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:eq.toString(i)}]})}_addCheck(e){return new Dp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:eq.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:eq.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:eq.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:eq.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:eq.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Dp.create=e=>new Dp({checks:[],typeName:eG.ZodBigInt,coerce:e?.coerce??!1,...RH(e)});class Df extends RY{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==RA.boolean){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.boolean,received:t.parsedType}),RB}return R$(e.data)}}Df.create=e=>new Df({typeName:eG.ZodBoolean,coerce:e?.coerce||!1,...RH(e)});class Dm extends RY{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==RA.date){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.date,received:t.parsedType}),RB}if(Number.isNaN(e.data.getTime()))return RL(this._getOrReturnCtx(e),{code:RO.invalid_date}),RB;let r=new RF;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(RL(t=this._getOrReturnCtx(e,t),{code:RO.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(RL(t=this._getOrReturnCtx(e,t),{code:RO.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):eW.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Dm({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:eq.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:eq.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Dm.create=e=>new Dm({checks:[],coerce:e?.coerce||!1,typeName:eG.ZodDate,...RH(e)});class D_ extends RY{_parse(e){if(this._getType(e)!==RA.symbol){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.symbol,received:t.parsedType}),RB}return R$(e.data)}}D_.create=e=>new D_({typeName:eG.ZodSymbol,...RH(e)});class Dg extends RY{_parse(e){if(this._getType(e)!==RA.undefined){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.undefined,received:t.parsedType}),RB}return R$(e.data)}}Dg.create=e=>new Dg({typeName:eG.ZodUndefined,...RH(e)});class Dy extends RY{_parse(e){if(this._getType(e)!==RA.null){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.null,received:t.parsedType}),RB}return R$(e.data)}}Dy.create=e=>new Dy({typeName:eG.ZodNull,...RH(e)});class Dv extends RY{constructor(){super(...arguments),this._any=!0}_parse(e){return R$(e.data)}}Dv.create=e=>new Dv({typeName:eG.ZodAny,...RH(e)});class Db extends RY{constructor(){super(...arguments),this._unknown=!0}_parse(e){return R$(e.data)}}Db.create=e=>new Db({typeName:eG.ZodUnknown,...RH(e)});class Dx extends RY{_parse(e){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.never,received:t.parsedType}),RB}}Dx.create=e=>new Dx({typeName:eG.ZodNever,...RH(e)});class Dk extends RY{_parse(e){if(this._getType(e)!==RA.undefined){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.void,received:t.parsedType}),RB}return R$(e.data)}}Dk.create=e=>new Dk({typeName:eG.ZodVoid,...RH(e)});class Dw extends RY{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==RA.array)return RL(t,{code:RO.invalid_type,expected:RA.array,received:t.parsedType}),RB;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(RL(t,{code:e?RO.too_big:RO.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(RL(t,{code:RO.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(RL(t,{code:RO.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new Rq(t,e,t.path,r)))).then(e=>RF.mergeArray(r,e));let a=[...t.data].map((e,r)=>i.type._parseSync(new Rq(t,e,t.path,r)));return RF.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new Dw({...this._def,minLength:{value:e,message:eq.toString(t)}})}max(e,t){return new Dw({...this._def,maxLength:{value:e,message:eq.toString(t)}})}length(e,t){return new Dw({...this._def,exactLength:{value:e,message:eq.toString(t)}})}nonempty(e){return this.min(1,e)}}function DT(e){if(e instanceof DZ){let t={};for(let r in e.shape){let i=e.shape[r];t[r]=DU.create(DT(i))}return new DZ({...e._def,shape:()=>t})}if(e instanceof Dw)return new Dw({...e._def,type:DT(e.element)});if(e instanceof DU)return DU.create(DT(e.unwrap()));if(e instanceof DV)return DV.create(DT(e.unwrap()));if(e instanceof DC)return DC.create(e.items.map(e=>DT(e)));else return e}Dw.create=(e,t)=>new Dw({type:e,minLength:null,maxLength:null,exactLength:null,typeName:eG.ZodArray,...RH(t)});class DZ extends RY{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=eW.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==RA.object){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.object,received:t.parsedType}),RB}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),n=[];if(!(this._def.catchall instanceof Dx&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||n.push(e);let s=[];for(let e of a){let t=i[e],a=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new Rq(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof Dx){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(RL(r,{code:RO.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new Rq(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>RF.mergeObjectSync(t,e)):RF.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return eq.errToObj,new DZ({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:eq.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new DZ({...this._def,unknownKeys:"strip"})}passthrough(){return new DZ({...this._def,unknownKeys:"passthrough"})}extend(e){return new DZ({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new DZ({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:eG.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new DZ({...this._def,catchall:e})}pick(e){let t={};for(let r of eW.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new DZ({...this._def,shape:()=>t})}omit(e){let t={};for(let r of eW.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new DZ({...this._def,shape:()=>t})}deepPartial(){return DT(this)}partial(e){let t={};for(let r of eW.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new DZ({...this._def,shape:()=>t})}required(e){let t={};for(let r of eW.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof DU;)e=e._def.innerType;t[r]=e}return new DZ({...this._def,shape:()=>t})}keyof(){return DL(eW.objectKeys(this.shape))}}DZ.create=(e,t)=>new DZ({shape:()=>e,unknownKeys:"strip",catchall:Dx.create(),typeName:eG.ZodObject,...RH(t)}),DZ.strictCreate=(e,t)=>new DZ({shape:()=>e,unknownKeys:"strict",catchall:Dx.create(),typeName:eG.ZodObject,...RH(t)}),DZ.lazycreate=(e,t)=>new DZ({shape:e,unknownKeys:"strip",catchall:Dx.create(),typeName:eG.ZodObject,...RH(t)});class DE extends RY{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function i(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new RC(e.ctx.common.issues));return RL(t,{code:RO.invalid_union,unionErrors:r}),RB}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(i);{let e,i=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=i.map(e=>new RC(e));return RL(t,{code:RO.invalid_union,unionErrors:a}),RB}}get options(){return this._def.options}}DE.create=(e,t)=>new DE({options:e,typeName:eG.ZodUnion,...RH(t)});let DA=e=>{if(e instanceof DR)return DA(e.schema);if(e instanceof D$)return DA(e.innerType());if(e instanceof DD)return[e.value];if(e instanceof DF)return e.options;if(e instanceof DB)return eW.objectValues(e.enum);else if(e instanceof DW)return DA(e._def.innerType);else if(e instanceof Dg)return[void 0];else if(e instanceof Dy)return[null];else if(e instanceof DU)return[void 0,...DA(e.unwrap())];else if(e instanceof DV)return[null,...DA(e.unwrap())];else if(e instanceof DH)return DA(e.unwrap());else if(e instanceof DJ)return DA(e.unwrap());else if(e instanceof DK)return DA(e._def.innerType);else return[]};class DS extends RY{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==RA.object)return RL(t,{code:RO.invalid_type,expected:RA.object,received:t.parsedType}),RB;let r=this.discriminator,i=t.data[r],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(RL(t,{code:RO.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),RB)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=DA(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(i.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,r)}}return new DS({typeName:eG.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...RH(r)})}}function DO(e,t){let r=RS(e),i=RS(t);if(e===t)return{valid:!0,data:e};if(r===RA.object&&i===RA.object){let r=eW.objectKeys(t),i=eW.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of i){let i=DO(e[r],t[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===RA.array&&i===RA.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let i=0;i<e.length;i++){let a=DO(e[i],t[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===RA.date&&i===RA.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class DI extends RY{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(RU(e)||RU(i))return RB;let a=DO(e.value,i.value);return a.valid?((RV(e)||RV(i))&&t.dirty(),{status:t.value,value:a.data}):(RL(r,{code:RO.invalid_intersection_types}),RB)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}DI.create=(e,t,r)=>new DI({left:e,right:t,typeName:eG.ZodIntersection,...RH(r)});class DC extends RY{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==RA.array)return RL(r,{code:RO.invalid_type,expected:RA.array,received:r.parsedType}),RB;if(r.data.length<this._def.items.length)return RL(r,{code:RO.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),RB;!this._def.rest&&r.data.length>this._def.items.length&&(RL(r,{code:RO.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new Rq(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>RF.mergeArray(t,e)):RF.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new DC({...this._def,rest:e})}}DC.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new DC({items:e,typeName:eG.ZodTuple,rest:null,...RH(t)})};class DN extends RY{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==RA.object)return RL(r,{code:RO.invalid_type,expected:RA.object,received:r.parsedType}),RB;let i=[],a=this._def.keyType,n=this._def.valueType;for(let e in r.data)i.push({key:a._parse(new Rq(r,e,r.path,e)),value:n._parse(new Rq(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?RF.mergeObjectAsync(t,i):RF.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new DN(t instanceof RY?{keyType:e,valueType:t,typeName:eG.ZodRecord,...RH(r)}:{keyType:Dl.create(),valueType:e,typeName:eG.ZodRecord,...RH(t)})}}class DM extends RY{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==RA.map)return RL(r,{code:RO.invalid_type,expected:RA.map,received:r.parsedType}),RB;let i=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:i._parse(new Rq(r,e,r.path,[n,"key"])),value:a._parse(new Rq(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let i=await r.key,a=await r.value;if("aborted"===i.status||"aborted"===a.status)return RB;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let i=r.key,a=r.value;if("aborted"===i.status||"aborted"===a.status)return RB;("dirty"===i.status||"dirty"===a.status)&&t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}DM.create=(e,t,r)=>new DM({valueType:t,keyType:e,typeName:eG.ZodMap,...RH(r)});class DP extends RY{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==RA.set)return RL(r,{code:RO.invalid_type,expected:RA.set,received:r.parsedType}),RB;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(RL(r,{code:RO.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(RL(r,{code:RO.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function n(e){let r=new Set;for(let i of e){if("aborted"===i.status)return RB;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>a._parse(new Rq(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new DP({...this._def,minSize:{value:e,message:eq.toString(t)}})}max(e,t){return new DP({...this._def,maxSize:{value:e,message:eq.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}DP.create=(e,t)=>new DP({valueType:e,minSize:null,maxSize:null,typeName:eG.ZodSet,...RH(t)});class Dj extends RY{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==RA.function)return RL(t,{code:RO.invalid_type,expected:RA.function,received:t.parsedType}),RB;function r(e,r){return RR({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Rj(),RN].filter(e=>!!e),issueData:{code:RO.invalid_arguments,argumentsError:r}})}function i(e,r){return RR({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Rj(),RN].filter(e=>!!e),issueData:{code:RO.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof Dz){let e=this;return R$(async function(...t){let s=new RC([]),o=await e._def.args.parseAsync(t,a).catch(e=>{throw s.addIssue(r(t,e)),s}),d=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(d,a).catch(e=>{throw s.addIssue(i(d,e)),s})})}{let e=this;return R$(function(...t){let s=e._def.args.safeParse(t,a);if(!s.success)throw new RC([r(t,s.error)]);let o=Reflect.apply(n,this,s.data),d=e._def.returns.safeParse(o,a);if(!d.success)throw new RC([i(o,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Dj({...this._def,args:DC.create(e).rest(Db.create())})}returns(e){return new Dj({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Dj({args:e||DC.create([]).rest(Db.create()),returns:t||Db.create(),typeName:eG.ZodFunction,...RH(r)})}}class DR extends RY{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}DR.create=(e,t)=>new DR({getter:e,typeName:eG.ZodLazy,...RH(t)});class DD extends RY{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return RL(t,{received:t.data,code:RO.invalid_literal,expected:this._def.value}),RB}return{status:"valid",value:e.data}}get value(){return this._def.value}}function DL(e,t){return new DF({values:e,typeName:eG.ZodEnum,...RH(t)})}DD.create=(e,t)=>new DD({value:e,typeName:eG.ZodLiteral,...RH(t)});class DF extends RY{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return RL(t,{expected:eW.joinValues(r),received:t.parsedType,code:RO.invalid_type}),RB}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return RL(t,{received:t.data,code:RO.invalid_enum_value,options:r}),RB}return R$(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return DF.create(e,{...this._def,...t})}exclude(e,t=this._def){return DF.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}DF.create=DL;class DB extends RY{_parse(e){let t=eW.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==RA.string&&r.parsedType!==RA.number){let e=eW.objectValues(t);return RL(r,{expected:eW.joinValues(e),received:r.parsedType,code:RO.invalid_type}),RB}if(this._cache||(this._cache=new Set(eW.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=eW.objectValues(t);return RL(r,{received:r.data,code:RO.invalid_enum_value,options:e}),RB}return R$(e.data)}get enum(){return this._def.values}}DB.create=(e,t)=>new DB({values:e,typeName:eG.ZodNativeEnum,...RH(t)});class Dz extends RY{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==RA.promise&&!1===t.common.async?(RL(t,{code:RO.invalid_type,expected:RA.promise,received:t.parsedType}),RB):R$((t.parsedType===RA.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Dz.create=(e,t)=>new Dz({type:e,typeName:eG.ZodPromise,...RH(t)});class D$ extends RY{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eG.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{RL(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return RB;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?RB:"dirty"===i.status||"dirty"===t.value?Rz(i.value):i});{if("aborted"===t.value)return RB;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?RB:"dirty"===i.status||"dirty"===t.value?Rz(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?RB:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?RB:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>RW(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):RB);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!RW(e))return RB;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}eW.assertNever(i)}}D$.create=(e,t,r)=>new D$({schema:e,typeName:eG.ZodEffects,effect:t,...RH(r)}),D$.createWithPreprocess=(e,t,r)=>new D$({schema:t,effect:{type:"preprocess",transform:e},typeName:eG.ZodEffects,...RH(r)});class DU extends RY{_parse(e){return this._getType(e)===RA.undefined?R$(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}DU.create=(e,t)=>new DU({innerType:e,typeName:eG.ZodOptional,...RH(t)});class DV extends RY{_parse(e){return this._getType(e)===RA.null?R$(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}DV.create=(e,t)=>new DV({innerType:e,typeName:eG.ZodNullable,...RH(t)});class DW extends RY{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===RA.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}DW.create=(e,t)=>new DW({innerType:e,typeName:eG.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...RH(t)});class DK extends RY{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return RK(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new RC(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new RC(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}DK.create=(e,t)=>new DK({innerType:e,typeName:eG.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...RH(t)});class Dq extends RY{_parse(e){if(this._getType(e)!==RA.nan){let t=this._getOrReturnCtx(e);return RL(t,{code:RO.invalid_type,expected:RA.nan,received:t.parsedType}),RB}return{status:"valid",value:e.data}}}Dq.create=e=>new Dq({typeName:eG.ZodNaN,...RH(e)});let DG=Symbol("zod_brand");class DH extends RY{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class DY extends RY{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?RB:"dirty"===e.status?(t.dirty(),Rz(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?RB:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new DY({in:e,out:t,typeName:eG.ZodPipeline})}}class DJ extends RY{_parse(e){let t=this._def.innerType._parse(e),r=e=>(RW(e)&&(e.value=Object.freeze(e.value)),e);return RK(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function DX(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function DQ(e,t={},r){return e?Dv.create().superRefine((i,a)=>{let n=e(i);if(n instanceof Promise)return n.then(e=>{if(!e){let e=DX(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}});if(!n){let e=DX(t,i),n=e.fatal??r??!0;a.addIssue({code:"custom",...e,fatal:n})}}):Dv.create()}DJ.create=(e,t)=>new DJ({innerType:e,typeName:eG.ZodReadonly,...RH(t)});let D0={object:DZ.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(eG||(eG={}));let D1=(e,t={message:`Input not instance of ${e.name}`})=>DQ(t=>t instanceof e,t),D2=Dl.create,D4=Dh.create,D5=Dq.create,D9=Dp.create,D3=Df.create,D8=Dm.create,D6=D_.create,D7=Dg.create,Le=Dy.create,Lt=Dv.create,Lr=Db.create,Li=Dx.create,La=Dk.create,Ln=Dw.create,Ls=DZ.create,Lo=DZ.strictCreate,Ld=DE.create,Lu=DS.create,Ll=DI.create,Lc=DC.create,Lh=DN.create,Lp=DM.create,Lf=DP.create,Lm=Dj.create,L_=DR.create,Lg=DD.create,Ly=DF.create,Lv=DB.create,Lb=Dz.create,Lx=D$.create,Lk=DU.create,Lw=DV.create,LT=D$.createWithPreprocess,LZ=DY.create,LE=()=>D2().optional(),LA=()=>D4().optional(),LS=()=>D3().optional(),LO={string:e=>Dl.create({...e,coerce:!0}),number:e=>Dh.create({...e,coerce:!0}),boolean:e=>Df.create({...e,coerce:!0}),bigint:e=>Dp.create({...e,coerce:!0}),date:e=>Dm.create({...e,coerce:!0})},LI=RB;e.s(["BRAND",0,DG,"NEVER",0,LI,"Schema",()=>RY,"ZodAny",()=>Dv,"ZodArray",()=>Dw,"ZodBigInt",()=>Dp,"ZodBoolean",()=>Df,"ZodBranded",()=>DH,"ZodCatch",()=>DK,"ZodDate",()=>Dm,"ZodDefault",()=>DW,"ZodDiscriminatedUnion",()=>DS,"ZodEffects",()=>D$,"ZodEnum",()=>DF,"ZodFirstPartyTypeKind",()=>eG,"ZodFunction",()=>Dj,"ZodIntersection",()=>DI,"ZodLazy",()=>DR,"ZodLiteral",()=>DD,"ZodMap",()=>DM,"ZodNaN",()=>Dq,"ZodNativeEnum",()=>DB,"ZodNever",()=>Dx,"ZodNull",()=>Dy,"ZodNullable",()=>DV,"ZodNumber",()=>Dh,"ZodObject",()=>DZ,"ZodOptional",()=>DU,"ZodPipeline",()=>DY,"ZodPromise",()=>Dz,"ZodReadonly",()=>DJ,"ZodRecord",()=>DN,"ZodSchema",()=>RY,"ZodSet",()=>DP,"ZodString",()=>Dl,"ZodSymbol",()=>D_,"ZodTransformer",()=>D$,"ZodTuple",()=>DC,"ZodType",()=>RY,"ZodUndefined",()=>Dg,"ZodUnion",()=>DE,"ZodUnknown",()=>Db,"ZodVoid",()=>Dk,"any",()=>Lt,"array",()=>Ln,"bigint",()=>D9,"boolean",()=>D3,"coerce",0,LO,"custom",()=>DQ,"date",()=>D8,"datetimeRegex",()=>Ds,"discriminatedUnion",()=>Lu,"effect",()=>Lx,"enum",()=>Ly,"function",()=>Lm,"instanceof",()=>D1,"intersection",()=>Ll,"late",0,D0,"lazy",()=>L_,"literal",()=>Lg,"map",()=>Lp,"nan",()=>D5,"nativeEnum",()=>Lv,"never",()=>Li,"null",()=>Le,"nullable",()=>Lw,"number",()=>D4,"object",()=>Ls,"oboolean",()=>LS,"onumber",()=>LA,"optional",()=>Lk,"ostring",()=>LE,"pipeline",()=>LZ,"preprocess",()=>LT,"promise",()=>Lb,"record",()=>Lh,"set",()=>Lf,"strictObject",()=>Lo,"string",()=>D2,"symbol",()=>D6,"transformer",()=>Lx,"tuple",()=>Lc,"undefined",()=>D7,"union",()=>Ld,"unknown",()=>Lr,"void",()=>La],672463),e.i(672463),e.i(867838),e.s(["BRAND",0,DG,"DIRTY",0,Rz,"EMPTY_PATH",0,RD,"INVALID",0,RB,"NEVER",0,LI,"OK",0,R$,"ParseStatus",()=>RF,"Schema",()=>RY,"ZodAny",()=>Dv,"ZodArray",()=>Dw,"ZodBigInt",()=>Dp,"ZodBoolean",()=>Df,"ZodBranded",()=>DH,"ZodCatch",()=>DK,"ZodDate",()=>Dm,"ZodDefault",()=>DW,"ZodDiscriminatedUnion",()=>DS,"ZodEffects",()=>D$,"ZodEnum",()=>DF,"ZodError",()=>RC,"ZodFirstPartyTypeKind",()=>eG,"ZodFunction",()=>Dj,"ZodIntersection",()=>DI,"ZodIssueCode",0,RO,"ZodLazy",()=>DR,"ZodLiteral",()=>DD,"ZodMap",()=>DM,"ZodNaN",()=>Dq,"ZodNativeEnum",()=>DB,"ZodNever",()=>Dx,"ZodNull",()=>Dy,"ZodNullable",()=>DV,"ZodNumber",()=>Dh,"ZodObject",()=>DZ,"ZodOptional",()=>DU,"ZodParsedType",0,RA,"ZodPipeline",()=>DY,"ZodPromise",()=>Dz,"ZodReadonly",()=>DJ,"ZodRecord",()=>DN,"ZodSchema",()=>RY,"ZodSet",()=>DP,"ZodString",()=>Dl,"ZodSymbol",()=>D_,"ZodTransformer",()=>D$,"ZodTuple",()=>DC,"ZodType",()=>RY,"ZodUndefined",()=>Dg,"ZodUnion",()=>DE,"ZodUnknown",()=>Db,"ZodVoid",()=>Dk,"addIssueToContext",()=>RL,"any",()=>Lt,"array",()=>Ln,"bigint",()=>D9,"boolean",()=>D3,"coerce",0,LO,"custom",()=>DQ,"date",()=>D8,"datetimeRegex",()=>Ds,"defaultErrorMap",0,RN,"discriminatedUnion",()=>Lu,"effect",()=>Lx,"enum",()=>Ly,"function",()=>Lm,"getErrorMap",()=>Rj,"getParsedType",0,RS,"instanceof",()=>D1,"intersection",()=>Ll,"isAborted",0,RU,"isAsync",0,RK,"isDirty",0,RV,"isValid",0,RW,"late",0,D0,"lazy",()=>L_,"literal",()=>Lg,"makeIssue",0,RR,"map",()=>Lp,"nan",()=>D5,"nativeEnum",()=>Lv,"never",()=>Li,"null",()=>Le,"nullable",()=>Lw,"number",()=>D4,"object",()=>Ls,"objectUtil",()=>eK,"oboolean",()=>LS,"onumber",()=>LA,"optional",()=>Lk,"ostring",()=>LE,"pipeline",()=>LZ,"preprocess",()=>LT,"promise",()=>Lb,"quotelessJson",0,RI,"record",()=>Lh,"set",()=>Lf,"setErrorMap",()=>RP,"strictObject",()=>Lo,"string",()=>D2,"symbol",()=>D6,"transformer",()=>Lx,"tuple",()=>Lc,"undefined",()=>D7,"union",()=>Ld,"unknown",()=>Lr,"util",()=>eW,"void",()=>La],597728);let LC=e.i(597728),LN=LC.object({colors:LC.number().optional(),colorDistanceFormula:LC.union([LC.literal("cie94-textiles"),LC.literal("cie94-graphic-arts"),LC.literal("ciede2000"),LC.literal("color-metric"),LC.literal("euclidean"),LC.literal("euclidean-bt709-noalpha"),LC.literal("euclidean-bt709"),LC.literal("manhattan"),LC.literal("manhattan-bt709"),LC.literal("manhattan-nommyde"),LC.literal("pngquant")]).optional(),paletteQuantization:LC.union([LC.literal("neuquant"),LC.literal("neuquant-float"),LC.literal("rgbquant"),LC.literal("wuquant")]).optional(),imageQuantization:LC.union([LC.literal("nearest"),LC.literal("riemersma"),LC.literal("floyd-steinberg"),LC.literal("false-floyd-steinberg"),LC.literal("stucki"),LC.literal("atkinson"),LC.literal("jarvis"),LC.literal("burkes"),LC.literal("sierra"),LC.literal("two-sierra"),LC.literal("sierra-lite")]).optional()}),LM={quantize(e,t){let{colors:r,colorDistanceFormula:i,paletteQuantization:a,imageQuantization:n}=LN.parse(t),s=jq.PointContainer.fromUint8Array(e.bitmap.data,e.bitmap.width,e.bitmap.height),o=Rk([s],{colors:r,colorDistanceFormula:i,paletteQuantization:a}),d=Rw(s,o,{colorDistanceFormula:i,imageQuantization:n});return e.bitmap.data=Buffer.from(d.toUint8Array()),e}};var LP=e.i(319624),Lj=e.i(90871),LR=e.i(559515),LD=e.i(814747);let{convertXML:LL}=e.i(380744).default,LF="undefined"!=typeof self&&void 0===self.document,LB=ch({formats:[tV]}),Lz=Buffer.from([66,77,70,3]);function L$(e){if("string"==typeof e)return"BMF"===e.substring(0,3);let t=e.slice(0,4);return e.length>4&&t[0]===Lz[0]&&t[1]===Lz[1]&&t[2]===Lz[2]}function LU(e,t){return L$(t)?("string"==typeof t&&(t=Buffer.from(t,"binary")),(0,LR.default)(t)):(t=t.toString().trim(),/.json$/.test(e)||"{"===t.charAt(0))?JSON.parse(t):/.xml$/.test(e)||"<"===t.charAt(0)?(0,Lj.default)(t):(0,LP.default)(t)}function LV(e){for(let t in e){try{e[t]=parseInt(e[t],10)}catch{}"object"==typeof e[t]&&LV(e[t])}return e}async function LW(e){if(LF&&"string"==typeof e){let t=await fetch(e),r=LL(await t.text()).font.children.reduce((e,t)=>({...e,...t}),{}),i=[],a=[],n=[];for(let e=0;e<r.pages.children.length;e++){let t=r.pages.children[e].page;i[parseInt(t.id,10)]=LV(t.file)}for(let e=0;e<r.chars.children.length;e++)a.push(LV(r.chars.children[e].char));for(let e=0;e<r.kernings.children.length;e++)n.push(LV(r.kernings.children[e].kerning));return{info:r.info,common:r.common,pages:i,chars:a,kernings:n}}if("string"!=typeof e)return LU("",e);{let t=await fetch(e);return LU(e,await t.text())}}async function LK(e,t){let r={},i={};for(let e=0;e<t.chars.length;e++){let i=t.chars[e];r[String.fromCharCode(i.id)]=i}for(let e=0;e<t.kernings.length;e++){let r=String.fromCharCode(t.kernings[e].first);i[r]=i[r]||{},i[r][String.fromCharCode(t.kernings[e].second)]=t.kernings[e].amount}return{...t,chars:r,kernings:i,pages:await Promise.all(t.pages.map(async t=>LB.read(LD.default.join(LD.default.dirname(e),t))))}}async function Lq(t){let r=t;if(!LF){let{existsSync:i,promises:a}=await e.A(323970);i(t)&&(r=await a.readFile(t))}return LK(t,await LW(r))}var LG=e.i(277900);function LH(e,t,r=.1){let i=e.bitmap,a=t.bitmap;if((i.width!==a.width||i.height!==a.height)&&(i.width*i.height>a.width*a.height?i=pT.resize(tE(e),{w:a.width,h:a.height}).bitmap:a=pT.resize(tE(t),{w:i.width,h:i.height}).bitmap),"number"!=typeof r||r<0||r>1)throw Error("threshold must be a number between 0 and 1");let n=new e.constructor({width:i.width,height:i.height,color:0xffffffff});return{percent:(0,LG.default)(i.data,a.data,n.bitmap.data,n.bitmap.width,n.bitmap.height,{threshold:r})/(n.bitmap.width*n.bitmap.height),image:n}}let LY=[n7,sr,dl,lK,mC,vK,gF,xQ,x0,w8,Ea,Ef,ST,ID,pT,NG,P1,LM],LJ=[tD,tR,tB,t$,tV,tq],LX={bmp:tD().mime,gif:tB().mime,jpeg:t$().mime,png:tV().mime,tiff:tq().mime},LQ=ch({formats:LJ,plugins:LY});e.s(["Jimp",0,LQ,"JimpMime",0,LX,"defaultFormats",0,LJ,"defaultPlugins",0,LY],361259),e.i(361259),e.s(["BlendMode",()=>Q,"BmpCompression",()=>C,"HorizontalAlign",()=>J,"Jimp",0,LQ,"JimpMime",0,LX,"PNGColorType",()=>M,"PNGFilterType",()=>N,"ResizeStrategy",()=>ee,"VerticalAlign",()=>X,"colorDiff",()=>tC,"compareHashes",()=>E_,"cssColorToHex",()=>tM,"defaultFormats",0,LJ,"defaultPlugins",0,LY,"diff",()=>LH,"distance",()=>Em,"intToRGBA",()=>tO,"limit255",()=>tN,"loadFont",()=>Lq,"measureText",()=>II,"measureTextHeight",()=>IN,"rgbaToInt",()=>tI],51668)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__be4925de._.js.map